var u3=Object.defineProperty;var f3=(t,e,n)=>e in t?u3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _=(t,e,n)=>(f3(t,typeof e!="symbol"?e+"":e,n),n);function hB(){import("data:text/javascript,")}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();const g3={"alpha-2.2.3":{title:"Kaetram alpha-2.2.3",content:["- Audio fixes","- Added new achievement","- Minor map updates","- This neat little interface :)","- Hotkeys 'm' for map and 'p' for profile","- Admins and moderators name now displays a different colour"]},"alpha-2.2.4":{title:"Kaetram alpha-2.2.4",content:["- Discord bot updates","- Forester now sells axes","- Map updates and loading time improvements","- Armour and weapon stats for all items","- Added default price to majority of items","- Profanity filter fixes and improvements"]},"alpha-2.2.5":{title:"Kaetram alpha-2.2.5",content:["- Fixes health bar resetting when logging out","- Anti-cheating measures updated","- Minor fixes to the UI animations","- Mobile support drag & drop","- Un-droppable/un-sellable quest items","- Fixes bug with poison weapons","- Respawn duration changes to Skeleton King and Ogre Lord","- Map changes and more content","- A lot of game engine improvements and preparations for new content ;)"]},"alpha-2.2.6":{title:"Kaetram alpha-2.2.6",content:["- Chatbox fixes and new layout","- Added stop movement by pressing ESC","- Added attack last target by pressing 't'","- Combat system improvements","- Anti-cheat detection/no-clipping fixes (hopefully)","- Gold coin image update","- Map loading improvements","- Client backend work, support for special effects and more","- New map content"]},"alpha-2.2.7":{title:"Kaetram alpha-2.2.7",content:["- Improvements to the poison effect","- Adds 'h' as the hotkey for healing (will use first potion in inventory)","- Trees now indicate level required to chop","- Improvements to the backend and interactions with the map","- New map content and achievements","- New trees have been added"]},"alpha-2.3.0":{title:"Kaetram alpha-2.3.0",content:["- Friends list","- New achievement interface","- New quest interface","- Various user interface improvements","- Backend fixes"]},"alpha-2.3.1":{title:"Kaetram alpha-2.3.1",content:["- Added special effects to some projectiles","- Fixes some user interface quirks","- Fixes some private messaging issues","- Minor improvements to ranged combat","- Fixes a bug with the overlay sizing","- New caching system for the client map"]},"alpha-2.3.2":{title:"Kaetram alpha-2.3.2",content:["- New inventory interface","- Fixes mobs being unattackable after they moved","- Mob position sync when returning to game tab (browsers)","- Fix bug with combat continuing after closing the game","- Backend optimizations","- Chat UI fixes on mobile"]}},c3="modulepreload",w3=function(t){return"/"+t},mp={},p3=function(e,n,i){if(!n||n.length===0)return e();const a=document.getElementsByTagName("link");return Promise.all(n.map(l=>{if(l=w3(l),l in mp)return;mp[l]=!0;const u=l.endsWith(".css"),g=u?'[rel="stylesheet"]':"";if(!!i)for(let A=a.length-1;A>=0;A--){const Y=a[A];if(Y.href===l&&(!u||Y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${g}`))return;const v=document.createElement("link");if(v.rel=u?"stylesheet":c3,u||(v.as="script",v.crossOrigin=""),v.href=l,document.head.appendChild(v),u)return new Promise((A,Y)=>{v.addEventListener("load",A),v.addEventListener("error",()=>Y(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>e())};function _3(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:a,onRegisteredSW:l,onRegisterError:u}=t;let g,S;const v=async(Y=!0)=>{await S};async function A(){if("serviceWorker"in navigator){const{Workbox:Y}=await p3(()=>import("./workbox-window.prod.es5-eba8f0a2.js"),[]);g=new Y("/sw.js",{scope:"/",type:"classic"}),g.addEventListener("activated",X=>{(X.isUpdate||X.isExternal)&&window.location.reload()}),g.addEventListener("installed",X=>{X.isUpdate||i==null||i()}),g.register({immediate:e}).then(X=>{l?l("/sw.js",X):a==null||a(X)}).catch(X=>{u==null||u(X)})}}return S=A(),v}class m3{constructor(e){this.level=e}info(...e){(this.level==="debug"||this.level==="info")&&console.info(...e)}debug(...e){this.level==="debug"&&console.debug(...e)}error(...e){console.error(...e)}}const ce=new m3("info");let Us;async function k3(){Us&&(localStorage.getItem("prompted")!=="true"&&await Us.prompt().catch(t=>ce.error("[SW ERROR]",t)),await Us.userChoice,localStorage.setItem("prompted","true"),Us=null)}function v3(){window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),Us=t}),_3({immediate:!0})}"serviceWorker"in navigator&&v3();let Vf=navigator.userAgent.toLowerCase();function b3(){let t=Vf.includes("ipad"),e=Vf.includes("android");return(t||e)&&window.innerWidth>=640}let Fa=()=>window.innerWidth<1e3;var jh=(t=>(t[t.Login=0]="Login",t[t.Register=1]="Register",t[t.Guest=2]="Guest",t))(jh||{}),Zf=(t=>(t[t.Spawns=0]="Spawns",t[t.Positions=1]="Positions",t))(Zf||{}),Qs=(t=>(t[t.Batch=0]="Batch",t[t.Equip=1]="Equip",t[t.Unequip=2]="Unequip",t))(Qs||{}),Wi=(t=>(t[t.Request=0]="Request",t[t.Started=1]="Started",t[t.Step=2]="Step",t[t.Stop=3]="Stop",t[t.Move=4]="Move",t[t.Follow=5]="Follow",t[t.Entity=6]="Entity",t[t.Zone=7]="Zone",t))(Wi||{}),Fo=(t=>(t[t.Talk=0]="Talk",t[t.Attack=1]="Attack",t[t.None=2]="None",t[t.Object=3]="Object",t))(Fo||{}),X0=(t=>(t[t.Initiate=0]="Initiate",t[t.Hit=1]="Hit",t[t.Finish=2]="Finish",t[t.Sync=3]="Sync",t))(X0||{}),P0=(t=>(t[t.Ping=0]="Ping",t[t.Pong=1]="Pong",t))(P0||{}),Hi=(t=>(t[t.Batch=0]="Batch",t[t.Add=1]="Add",t[t.Remove=2]="Remove",t[t.Select=3]="Select",t[t.Swap=4]="Swap",t))(Hi||{}),Ma=(t=>(t[t.Batch=0]="Batch",t[t.Add=1]="Add",t[t.Update=2]="Update",t[t.Use=3]="Use",t[t.QuickSlot=4]="QuickSlot",t))(Ma||{}),rl=(t=>(t[t.Batch=0]="Batch",t[t.Progress=1]="Progress",t[t.Finish=2]="Finish",t))(rl||{}),hd=(t=>(t[t.Batch=0]="Batch",t[t.Progress=1]="Progress",t))(hd||{}),Kf=(t=>(t[t.Ok=0]="Ok",t[t.YesNo=1]="YesNo",t[t.Text=2]="Text",t[t.Popup=3]="Popup",t))(Kf||{}),Jf=(t=>(t[t.Sync=0]="Sync",t[t.Skill=1]="Skill",t))(Jf||{}),Vh=(t=>(t[t.Talk=0]="Talk",t[t.Store=1]="Store",t[t.Bank=2]="Bank",t[t.Enchant=3]="Enchant",t[t.Countdown=4]="Countdown",t))(Vh||{}),Qf=(t=>(t[t.Select=0]="Select",t[t.Remove=1]="Remove",t[t.Enchant=2]="Enchant",t[t.Update=3]="Update",t))(Qf||{}),Pn=(t=>(t[t.Location=0]="Location",t[t.Relative=1]="Relative",t[t.Entity=2]="Entity",t[t.Remove=3]="Remove",t[t.Button=4]="Button",t))(Pn||{}),Ho=(t=>(t[t.Open=0]="Open",t[t.Close=1]="Close",t[t.Buy=2]="Buy",t[t.Sell=3]="Sell",t[t.Update=4]="Update",t[t.Select=5]="Select",t))(Ho||{}),Hs=(t=>(t[t.Score=0]="Score",t[t.End=1]="End",t[t.Lobby=2]="Lobby",t[t.Exit=3]="Exit",t))(Hs||{}),Zh=(t=>(t[t.Set=0]="Set",t[t.Remove=1]="Remove",t[t.Lamp=2]="Lamp",t[t.RemoveLamps=3]="RemoveLamps",t[t.Darkness=4]="Darkness",t))(Zh||{}),$0=(t=>(t[t.CtrlClick=0]="CtrlClick",t))($0||{}),tg=(t=>(t[t.Batch=0]="Batch",t[t.Update=1]="Update",t))(tg||{}),M0=(t=>(t[t.Entity=0]="Entity",t[t.Position=1]="Position",t))(M0||{}),Gs=(t=>(t[t.Speed=0]="Speed",t[t.Critical=1]="Critical",t[t.Freeze=2]="Freeze",t[t.Stun=3]="Stun",t[t.Burn=4]="Burn",t))(Gs||{}),Ui=(t=>(t[t.List=0]="List",t[t.Add=1]="Add",t[t.Remove=2]="Remove",t[t.Status=3]="Status",t))(Ui||{});Pn.Remove;var oo=(t=>(t[t.Bank=0]="Bank",t[t.Inventory=1]="Inventory",t))(oo||{}),Xt=(t=>(t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right",t))(Xt||{}),_e=(t=>(t[t.Player=0]="Player",t[t.NPC=1]="NPC",t[t.Item=2]="Item",t[t.Mob=3]="Mob",t[t.Chest=4]="Chest",t[t.Projectile=5]="Projectile",t[t.Object=6]="Object",t))(_e||{}),dd=(t=>(t[t.Active=0]="Active",t[t.Passive=1]="Passive",t))(dd||{}),Hn=(t=>(t[t.Idle=0]="Idle",t[t.Attack=1]="Attack",t[t.Walk=2]="Walk",t[t.Orientate=3]="Orientate",t))(Hn||{}),hi=(t=>(t.Use="Use",t.Drop="Drop",t.Equip="Equip",t.Eat="Eat",t.Move="Move",t))(hi||{}),kn=(t=>(t[t.Damage=0]="Damage",t[t.Poison=1]="Poison",t[t.Heal=2]="Heal",t[t.Mana=3]="Mana",t[t.Experience=4]="Experience",t[t.LevelUp=5]="LevelUp",t[t.Critical=6]="Critical",t[t.Stun=7]="Stun",t[t.Explosive=8]="Explosive",t[t.Profession=9]="Profession",t))(kn||{}),Ce=(t=>(t[t.Armour=0]="Armour",t[t.Boots=1]="Boots",t[t.Pendant=2]="Pendant",t[t.Ring=3]="Ring",t[t.Weapon=4]="Weapon",t))(Ce||{}),Xa=(t=>(t[t.Colliding=0]="Colliding",t[t.Mob=1]="Mob",t[t.Player=2]="Player",t[t.Item=3]="Item",t[t.NPC=4]="NPC",t[t.Chest=5]="Chest",t[t.Object=6]="Object",t))(Xa||{}),D0=(t=>(t[t.Lumberjacking=0]="Lumberjacking",t[t.Accuracy=1]="Accuracy",t[t.Archery=2]="Archery",t[t.Health=3]="Health",t[t.Magic=4]="Magic",t[t.Mining=5]="Mining",t[t.Strength=6]="Strength",t))(D0||{}),re=(t=>(t[t.None=0]="None",t[t.Critical=1]="Critical",t[t.Terror=2]="Terror",t[t.Stun=3]="Stun",t[t.Healing=4]="Healing",t[t.Fireball=5]="Fireball",t[t.Iceball=6]="Iceball",t[t.Burning=7]="Burning",t[t.Freezing=8]="Freezing",t[t.Poisonball=9]="Poisonball",t[t.Boulder=10]="Boulder",t))(re||{}),js=(t=>(t[t.None=0]="None",t[t.Silver=1]="Silver",t[t.Gold=2]="Gold",t))(js||{}),Kh=(t=>(t[t.None=0]="None",t[t.Moderator=1]="Moderator",t[t.Administrator=2]="Administrator",t[t.Veteran=3]="Veteran",t[t.Patron=4]="Patron",t))(Kh||{});let y3={[0]:{fill:"rgb(255, 50, 50)",stroke:"rgb(255, 180, 180)",inflicted:{fill:"white",stroke:"#373737"}},[6]:{fill:"rgb(204, 0, 204)",stroke:"rgb(255, 180, 180)",inflicted:{fill:"rgb(255, 153, 204)",stroke:"#373737"}},[1]:{fill:"rgb(66, 183, 77)",stroke:"rgb(50, 120 , 50)"},[2]:{fill:"rgb(80, 255, 80)",stroke:"rgb(50, 120, 50)"},[3]:{fill:"rgb(73, 94, 228)",stroke:"rgb(56, 63, 133)"},[4]:{fill:"rgb(80, 180, 255)",stroke:"rgb(15, 85, 138)"},[5]:{fill:"rgb(80, 180, 255)",stroke:"rgb(15, 85, 138)"},[9]:{fill:"rgb(204, 0, 153)",stroke:"rgb(112, 17, 112)"}},x3={[0]:{fill:"rgb(132, 57, 45)",stroke:"rgb(101, 48, 35)"},[1]:{fill:"rgb(6, 191, 188)",stroke:"rgb(2, 94, 93)"},[2]:{fill:"rgb(34, 214, 130)",stroke:"rgb(7, 184, 101)"},[3]:{fill:"rgb(239, 90, 90)",stroke:"rgb(255, 0, 0)"},[4]:{fill:"rgb(37, 124, 210)",stroke:"rgb(12, 55, 208)"},[5]:{fill:"rgb(105, 106, 107)",stroke:"rgb(45, 45, 46)"},[6]:{fill:"rgb(232, 211, 185)",stroke:"rgb(189, 172, 151)"}};var ao=(t=>(t[t.MAX_STACK=2147483647]="MAX_STACK",t[t.MAX_LEVEL=135]="MAX_LEVEL",t[t.INVENTORY_SIZE=20]="INVENTORY_SIZE",t[t.BANK_SIZE=69]="BANK_SIZE",t[t.DROP_PROBABILITY=1e3]="DROP_PROBABILITY",t[t.MAX_PROFESSION_LEVEL=99]="MAX_PROFESSION_LEVEL",t[t.HEAL_RATE=5e3]="HEAL_RATE",t[t.STORE_UPDATE_FREQUENCY=2e4]="STORE_UPDATE_FREQUENCY",t[t.MAP_DIVISION_SIZE=48]="MAP_DIVISION_SIZE",t.SPAWN_POINT="405,27",t.TUTORIAL_QUEST_KEY="tutorial",t.TUTORIAL_SPAWN_POINT="570,11",t[t.RESOURCE_RESPAWN=3e4]="RESOURCE_RESPAWN",t[t.TREE_RESPAWN=25e3]="TREE_RESPAWN",t[t.SKILL_LOOP=1e3]="SKILL_LOOP",t[t.MAX_ACCURACY=.45]="MAX_ACCURACY",t[t.EDIBLE_COOLDOWN=1500]="EDIBLE_COOLDOWN",t[t.INVALID_MOVEMENT_THRESHOLD=3]="INVALID_MOVEMENT_THRESHOLD",t[t.ARCHER_ATTACK_RANGE=8]="ARCHER_ATTACK_RANGE",t))(ao||{}),gt=(t=>(t[t.Handshake=0]="Handshake",t[t.Login=1]="Login",t[t.Welcome=2]="Welcome",t[t.Map=3]="Map",t[t.Spawn=4]="Spawn",t[t.List=5]="List",t[t.Who=6]="Who",t[t.Equipment=7]="Equipment",t[t.Ready=8]="Ready",t[t.Sync=9]="Sync",t[t.Movement=10]="Movement",t[t.Teleport=11]="Teleport",t[t.Despawn=12]="Despawn",t[t.Target=13]="Target",t[t.Combat=14]="Combat",t[t.Animation=15]="Animation",t[t.Points=16]="Points",t[t.Network=17]="Network",t[t.Chat=18]="Chat",t[t.Command=19]="Command",t[t.Container=20]="Container",t[t.Ability=21]="Ability",t[t.Quest=22]="Quest",t[t.Achievement=23]="Achievement",t[t.Notification=24]="Notification",t[t.Blink=25]="Blink",t[t.Heal=26]="Heal",t[t.Experience=27]="Experience",t[t.Death=28]="Death",t[t.Music=29]="Music",t[t.NPC=30]="NPC",t[t.Respawn=31]="Respawn",t[t.Trade=32]="Trade",t[t.Enchant=33]="Enchant",t[t.Guild=34]="Guild",t[t.Pointer=35]="Pointer",t[t.PVP=36]="PVP",t[t.Poison=37]="Poison",t[t.Warp=38]="Warp",t[t.Store=39]="Store",t[t.Overlay=40]="Overlay",t[t.Camera=41]="Camera",t[t.Bubble=42]="Bubble",t[t.Skill=43]="Skill",t[t.Update=44]="Update",t[t.Minigame=45]="Minigame",t[t.Effect=46]="Effect",t[t.Friends=47]="Friends",t[t.Focus=48]="Focus",t))(gt||{});let Mh=window.localStorage,bf="data";class S3{constructor(){_(this,"data",Mh.data?JSON.parse(Mh.getItem(bf)):this.create());_(this,"mapData");_(this,"newVersion",!1);this.newVersion=this.isNewVersion(),this.newVersion?(this.set(this.create()),this.clearIndexedDB()):this.loadIndexedDB()}create(){return{new:!0,world:1,clientVersion:"alpha-2.3.2",errorMessage:"",player:{username:"",password:"",autoLogin:!1,rememberMe:!1,orientation:Xt.Down},settings:{musicVolume:100,soundVolume:100,brightness:100,audioEnabled:!Fa(),lowPowerMode:!1,debugMode:!1,showNames:!0,showLevels:!0,disableCaching:!1}}}loadIndexedDB(){var n;let e=(n=window.indexedDB)==null?void 0:n.open("mapCache",this.getDBVersion());e.addEventListener("error",()=>{this.clearIndexedDB()}),e.addEventListener("upgradeneeded",i=>{let a=i.target.result;a||console.error("Could not open IndexedDB database."),a.createObjectStore("regions"),a.createObjectStore("objects"),a.createObjectStore("cursorTiles"),ce.debug(`IndexedDB created with version ${this.getDBVersion()}.`)}),e.addEventListener("success",i=>{this.mapData=i.target.result,ce.debug(`Successfully opened IndexedDB with version ${this.getDBVersion()}.`)})}save(){try{this.data&&Mh.setItem(bf,JSON.stringify(this.data))}catch(e){console.error(e)}}clear(){Mh.removeItem(bf),this.set(this.create()),this.save()}clearIndexedDB(){var e;(e=this.mapData)==null||e.close(),window.indexedDB.deleteDatabase("mapCache"),this.loadIndexedDB()}set(e){this.data=e,this.save()}setError(e){return this.data.errorMessage=e,this.save(),!0}setRemember(e){this.data.player.rememberMe=e,this.save()}setCredentials(e="",n=""){this.data.player.username=e,this.data.player.password=n,this.save()}setMusicVolume(e=100){this.data.settings.musicVolume=e,this.save()}setSoundVolume(e=100){this.data.settings.soundVolume=e,this.save()}setBrightness(e=100){this.data.settings.brightness=e,this.save()}setAudioEnabled(e){this.data.settings.audioEnabled=e,this.save()}setLowPowerMode(e){this.data.settings.lowPowerMode=e,this.save()}setDebug(e){this.data.settings.debugMode=e,this.save()}setShowNames(e){this.data.settings.showNames=e,this.save()}setShowLevels(e){this.data.settings.showLevels=e,this.save()}setDisableCaching(e){this.data.settings.disableCaching=e,this.save()}isNewVersion(){return this.data.clientVersion!=="alpha-2.3.2"}setOrientation(e){this.data.player.orientation=e,this.save()}setMapData(e,n){if(!this.mapData)return;let i=this.mapData.transaction(["objects","cursorTiles"],"readwrite"),a=i.objectStore("objects"),l=i.objectStore("cursorTiles");a.put(e,0),l.put(n,0)}setRegionData(e,n){if(!this.mapData)return;let i=this.mapData.transaction("regions","readwrite").objectStore("regions"),a=i.get(n);a.addEventListener("success",()=>{a.result||i.put(e,n)})}getError(){let{errorMessage:e}=this.data;return this.data.errorMessage="",this.save(),e}getUsername(){return this.data.player.username}getPassword(){return this.data.player.password}getDBVersion(){return parseInt(this.data.clientVersion.replace(/\D/g,""))||1}hasRemember(){return this.data.player.rememberMe}isNew(){return this.data.new}getRegionData(e){let n={regionData:{},objects:[],cursorTiles:{}};if(!this.mapData)return e(n);let i=this.mapData.transaction(["regions","objects","cursorTiles"],"readonly"),a=i.objectStore("regions").openCursor(),l=i.objectStore("objects").get(0),u=i.objectStore("cursorTiles").get(0);i.addEventListener("error",()=>e(n)),a.addEventListener("success",g=>{let S=g.target.result;S&&(n.regionData[S.primaryKey]=S.value,S.continue())}),l.addEventListener("success",()=>n.objects=l.result),u.addEventListener("success",()=>n.cursorTiles=u.result),i.addEventListener("complete",()=>e(n))}getSettings(){return this.data.settings}getDebug(){return this.data.settings.debugMode}}let kp=t=>t%1===0;const vt={tileSize:-1,sideLength:-1,createId(t,e=0,n=0){return`${t}${e}${n}`},randomInt(t,e){return t+Math.floor(Math.random()*(e-t+1))},createSlot(t,e,n){let i=document.createElement("li"),a=document.createElement("div"),l=document.createElement("div"),u=document.createElement("div");return a.classList.add("bank-slot"),l.classList.add("bank-image"),u.classList.add("item-count"),t===oo.Bank&&u.classList.add("bank-item-count"),a.append(l),a.append(u),n&&a.addEventListener("click",()=>n(t,e)),i.append(a),i},getImageURL(t=""){return t===""?"":`url("/img/sprites/item-${t}.png")`},getCount(t){let e=t.toString();return t>999999?`${Math.floor(t/1e6)}M`:t>9999?`${Math.floor(t/1e3)}K`:t>1?e:""},getContainerAction(t){switch(t){case hi.Use:case hi.Equip:case hi.Eat:return Hi.Select;case hi.Drop:return Hi.Remove;case hi.Move:return Hi.Swap;default:return-1}},isEmail(t){return/^(([^\s"(),.:;<>@[\\\]]+(\.[^\s"(),.:;<>@[\\\]]+)*)|(".+"))@((\[(?:\d{1,3}\.){3}\d{1,3}])|(([\dA-Za-z-]+\.)+[A-Za-z]{2,}))$/.test(t)},getRegion(t,e){let n=Math.floor(t/ao.MAP_DIVISION_SIZE),i=Math.floor(e/ao.MAP_DIVISION_SIZE);return n+i*this.sideLength},getEmptyStats(){return{crush:0,slash:0,stab:0,magic:0}},getEmptyBonuses(){return{accuracy:0,strength:0,archery:0,magic:0}},fadeIn(t,e=.1){var i;(i=t.style).opacity||(i.opacity="0"),t.style.display="block";let n=()=>{let a=parseFloat(t.style.opacity)+e;a<=1&&(t.style.opacity=a.toString(),requestAnimationFrame(n))};requestAnimationFrame(n)},fadeOut(t,e=.1){var i;(i=t.style).opacity||(i.opacity="1");let n=()=>{let a=parseFloat(t.style.opacity)-e;a>=0?(t.style.opacity=a.toString(),requestAnimationFrame(n)):t.style.display="none"};requestAnimationFrame(n)}};class C3{constructor(){_(this,"config",{name:"Poke Online",host:"localhost",ssl:!1,serverId:1,debug:!1,version:"alpha-2.3.2",port:9001,hub:!1});_(this,"storage",new S3);_(this,"body",document.querySelector("body"));_(this,"parchment",document.querySelector("#parchment"));_(this,"canvas",document.querySelector("#canvas"));_(this,"loginForm",document.querySelector("#load-character form"));_(this,"registerForm",document.querySelector("#create-character form"));_(this,"worldsList",document.querySelector("#worlds"));_(this,"passwordConfirmation",document.querySelector("#register-password-confirmation-input"));_(this,"emailField",document.querySelector("#register-email-input"));_(this,"loginButton",document.querySelector("#login"));_(this,"registerButton",document.querySelector("#new-account"));_(this,"cancelRegister",document.querySelector("#cancel-register"));_(this,"cancelWorlds",document.querySelector("#cancel-worlds"));_(this,"continueWorlds",document.querySelector("#continue-worlds"));_(this,"respawn",document.querySelector("#respawn"));_(this,"rememberMe",document.querySelector("#remember-me input"));_(this,"guest",document.querySelector("#guest input"));_(this,"about",document.querySelector("#toggle-about"));_(this,"credits",document.querySelector("#toggle-credits"));_(this,"validation",document.querySelectorAll(".validation-summary"));_(this,"loading",document.querySelector(".loader"));_(this,"worldSelectButton",document.querySelector("#world-select-button"));_(this,"gameVersion",document.querySelector("#game-version"));_(this,"currentScroll","load-character");_(this,"parchmentAnimating",!1);_(this,"loggingIn",!1);_(this,"menuHidden",!1);_(this,"statusMessage","");_(this,"selectedServer");_(this,"showWorldSelect",!1);_(this,"keyDownCallback");_(this,"keyUpCallback");_(this,"loginCallback");_(this,"leftClickCallback");_(this,"rightClickCallback");_(this,"mouseMoveCallback");_(this,"resizeCallback");_(this,"respawnCallback");_(this,"focusCallback");this.sendStatus("Initializing the game client"),this.load()}load(){this.loginForm.addEventListener("submit",this.login.bind(this)),this.registerForm.addEventListener("submit",this.login.bind(this)),this.registerButton.addEventListener("click",()=>this.openScroll("create-character")),this.cancelRegister.addEventListener("click",()=>this.openScroll("load-character")),this.cancelWorlds.addEventListener("click",()=>this.openScroll("load-character")),this.continueWorlds.addEventListener("click",()=>this.openScroll("load-character")),this.about.addEventListener("click",()=>this.openScroll("about")),this.credits.addEventListener("click",()=>this.openScroll("credits")),this.respawn.addEventListener("click",()=>{var e;return(e=this.respawnCallback)==null?void 0:e.call(this)}),this.parchment.addEventListener("click",()=>{this.hasFooterOpen()&&this.openScroll("load-character"),this.body.classList.contains("news")&&this.body.classList.remove("news")}),this.worldSelectButton.addEventListener("click",()=>this.openScroll("world-select")),this.gameVersion.textContent=`${this.config.version}`,document.addEventListener("keydown",e=>e.key!=="Enter"),document.addEventListener("keydown",this.handleKeyDown.bind(this)),document.addEventListener("keyup",e=>{var n;return(n=this.keyUpCallback)==null?void 0:n.call(this,e)}),document.addEventListener("mousemove",e=>{var n;return(n=this.mouseMoveCallback)==null?void 0:n.call(this,e)}),this.canvas.addEventListener("click",e=>{var n;return(n=this.leftClickCallback)==null?void 0:n.call(this,e)}),window.addEventListener("resize",()=>{var e;return(e=this.resizeCallback)==null?void 0:e.call(this)}),window.addEventListener("focus",()=>{var e;return(e=this.focusCallback)==null?void 0:e.call(this)}),document.querySelector("#canvas").addEventListener("contextmenu",this.handleRightClick.bind(this))}loadLogin(){let e=this.storage.getError();e&&this.sendError(e),this.storage.hasRemember()&&(this.getUsernameField().value=this.storage.getUsername(),this.getPasswordField().value=this.storage.getPassword(),this.rememberMe.checked=!0)}handleKeyDown(e){var n;if(this.isMenuHidden())return(n=this.keyDownCallback)==null?void 0:n.call(this,e);e.key==="Enter"&&this.login()}handleRightClick(e){var n;return(n=this.rightClickCallback)==null||n.call(this,e),e.preventDefault(),!1}ready(){this.sendStatus(),this.loginButton.disabled=!1,this.loadLogin(),this.loadWorlds(),"indexedDB"in window||this.setValidation("validation-warning","Your browser does not support IndexedDB. Regions will not be cached.")}login(){var e;this.loggingIn||this.statusMessage||!this.verifyForm()||(this.clearErrors(),this.toggleLogin(!0),(e=this.loginCallback)==null||e.call(this,this.selectedServer),k3())}saveLogin(){this.storage.setRemember(this.isRememberMe()),this.storage.setCredentials(),this.isRememberMe()&&this.storage.setCredentials(this.getUsername(),this.getPassword())}showMenu(){this.body.className="intro",this.menuHidden=!1,this.worldSelectButton.hidden=!1,this.gameVersion.hidden=!1}fadeMenu(){this.menuHidden||(this.body.className="game",this.menuHidden=!0,this.worldSelectButton.hidden=!this.showWorldSelect,this.gameVersion.hidden=!0,this.updateLoader(),this.saveLogin(),setTimeout(()=>this.displayNews(),1e3))}openScroll(e){this.loggingIn||this.parchmentAnimating||(this.clearErrors(),this.changeScroll(e,!Fa()))}changeScroll(e,n=!1){n?(this.parchmentAnimating=!0,this.parchment.classList.toggle("animate"),this.parchment.classList.remove(this.currentScroll),window.setTimeout(()=>{var i;this.parchmentAnimating=!1,this.parchment.classList.toggle("animate"),this.parchment.classList.add(e),(i=document.querySelector(`#${e} input`))==null||i.focus()},1e3)):(this.parchment.classList.remove(this.currentScroll),this.parchment.classList.add(e)),this.currentScroll=e}verifyForm(){if(this.isGuest())return!0;if(!this.getUsername())return this.sendError("Please enter a username.",this.getUsernameField());if(!this.getPassword())return this.sendError("Please enter a password.",this.getPasswordField());if(this.isRegistering()){if(this.getPassword().length<3)return this.sendError("Password must be at least 3 characters long.",this.getPasswordField());if(this.getPassword()!==this.getPasswordConfirmation())return this.sendError("Passwords do not match.",this.passwordConfirmation);if(this.getEmail()!==""&&!vt.isEmail(this.getEmail()))return this.sendError("The email you've entered is not valid.",this.emailField)}return!0}sendStatus(e=""){if(this.clearErrors(),this.statusMessage=e,!e)return;this.setValidation("status",e);let n=document.querySelector(".status");n&&(n.innerHTML=e+this.getLoaderDots())}updateLoader(e=""){this.loading.innerHTML=e?e+this.getLoaderDots():""}displayNews(){let e=document.querySelector("#news-title"),n=document.querySelector("#news-content");if(!(!e||!n)){if(this.storage.isNew())return this.body.classList.add("news");if(this.storage.newVersion){e.textContent=`Kaetram ${this.config.version} Changelog`;let i=g3[this.config.version];if(!i)return;n.textContent="";for(let a of i.content)n.innerHTML+=`${a}<br>`;this.body.classList.add("news")}}}sendError(e,n){if(this.isMenuHidden())return this.storage.setError(e);if(this.clearErrors(),this.setValidation("validation-error",e),!n)return!1;n.classList.add("field-error"),n.focus();let i=()=>{var a;n.removeEventListener("keypress",i,!1),n.classList.remove("field-error"),(a=document.querySelector(".validation-error"))==null||a.remove()};return n.addEventListener("keypress",i),!1}clearErrors(){var e;(e=document.querySelector(".status"))==null||e.remove(),this.clearValidation(),this.getUsernameField().classList.remove("field-error"),this.getPasswordField().classList.remove("field-error"),this.passwordConfirmation.classList.remove("field-error"),this.emailField.classList.remove("field-error")}toggleLogin(e){this.updateLoader("Connecting"),this.toggleTyping(e),this.loggingIn=e,this.loading.hidden=!e,this.loginButton.disabled=e,this.registerButton.disabled=e}toggleTyping(e){this.getUsernameField().readOnly=e,this.getPasswordField().readOnly=e,this.passwordConfirmation.readOnly=e,this.emailField.readOnly=e}hasFooterOpen(){return this.parchment.classList.contains("about")||this.parchment.classList.contains("credits")}isGuest(){return this.guest.checked}isRememberMe(){return this.rememberMe.checked}isRegistering(){return this.currentScroll==="create-character"}isMenuHidden(){return this.menuHidden}getUsernameField(){return document.querySelector(this.isRegistering()?"#register-name-input":"#login-name-input")}getUsername(){return this.getUsernameField().value}getPasswordField(){return document.querySelector(this.isRegistering()?"#register-password-input":"#login-password-input")}getPassword(){return this.getPasswordField().value}getPasswordConfirmation(){return this.passwordConfirmation.value}getEmail(){return this.isRegistering()?this.emailField.value:""}getLoaderDots(){return'<span class="loader-dot">.</span><span class="loader-dot">.</span><span class="loader-dot">.</span>'}clearValidation(){for(let e of this.validation)e.innerHTML=""}setValidation(e,n=""){this.clearValidation();for(let i of this.validation)i.append(this.createValidation(e,n))}createValidation(e,n=""){let i=document.createElement("span");return i.classList.add(e),i.classList.add("blink"),i.textContent=n,i}selectServer(e){this.selectedServer=e;let n=this.worldSelectButton.querySelector("strong");n.textContent=`${e.name}`;let i=this.worldSelectButton.querySelector("span");i.textContent=`(${e.players}/${e.maxPlayers} players)`}async loadWorlds(){if(!this.config.hub)return;let e=await fetch(`${this.config.hub}/all`).catch(()=>null);if(!e)return this.setValidation("validation-error","Unable to load world list.");let n=await e.json(),[i]=n;if(!i)return this.setValidation("validation-error","No servers are currently available.");if(this.selectServer(i),!(n.length<2)){this.showWorldSelect=!0,this.worldSelectButton.hidden=!1;for(let[a,l]of Object.entries(n)){let u=document.createElement("li"),g=document.createElement("strong"),S=document.createElement("span");a==="0"&&u.classList.add("active"),g.textContent=l.name,S.textContent=`${l.players}/${l.maxPlayers} players`,u.append(g),u.append(S),u.addEventListener("click",()=>{var v;this.selectServer(l),(v=this.worldsList.querySelector("li.active"))==null||v.classList.remove("active"),u.classList.add("active")}),this.worldsList.append(u)}}}onKeyDown(e){this.keyDownCallback=e}onKeyUp(e){this.keyUpCallback=e}onLogin(e){this.loginCallback=e}onLeftClick(e){this.leftClickCallback=e}onRightClick(e){this.rightClickCallback=e}onMouseMove(e){this.mouseMoveCallback=e}onResize(e){this.resizeCallback=e}onRespawn(e){this.respawnCallback=e}onFocus(e){this.focusCallback=e}}var A3=typeof global=="object"&&global&&global.Object===Object&&global;const N0=A3;var E3=typeof self=="object"&&self&&self.Object===Object&&self,I3=N0||E3||Function("return this")();const Ze=I3;var T3=Ze.Symbol;const un=T3;var B0=Object.prototype,L3=B0.hasOwnProperty,R3=B0.toString,Fs=un?un.toStringTag:void 0;function Y3(t){var e=L3.call(t,Fs),n=t[Fs];try{t[Fs]=void 0;var i=!0}catch(l){}var a=R3.call(t);return i&&(e?t[Fs]=n:delete t[Fs]),a}var O3=Object.prototype,X3=O3.toString;function P3(t){return X3.call(t)}var $3="[object Null]",M3="[object Undefined]",vp=un?un.toStringTag:void 0;function yn(t){return t==null?t===void 0?M3:$3:vp&&vp in Object(t)?Y3(t):P3(t)}function Ye(t){return t!=null&&typeof t=="object"}var D3="[object Symbol]";function Zn(t){return typeof t=="symbol"||Ye(t)&&yn(t)==D3}var N3=0/0;function bp(t){return typeof t=="number"?t:Zn(t)?N3:+t}function Ae(t,e){for(var n=-1,i=t==null?0:t.length,a=Array(i);++n<i;)a[n]=e(t[n],n,t);return a}var B3=Array.isArray;const Mt=B3;var F3=1/0,yp=un?un.prototype:void 0,xp=yp?yp.toString:void 0;function Kn(t){if(typeof t=="string")return t;if(Mt(t))return Ae(t,Kn)+"";if(Zn(t))return xp?xp.call(t):"";var e=t+"";return e=="0"&&1/t==-F3?"-0":e}function kd(t,e){return function(n,i){var a;if(n===void 0&&i===void 0)return e;if(n!==void 0&&(a=n),i!==void 0){if(a===void 0)return i;typeof n=="string"||typeof i=="string"?(n=Kn(n),i=Kn(i)):(n=bp(n),i=bp(i)),a=t(n,i)}return a}}var q3=kd(function(t,e){return t+e},0);const W3=q3;var z3=/\s/;function F0(t){for(var e=t.length;e--&&z3.test(t.charAt(e)););return e}var U3=/^\s+/;function q0(t){return t&&t.slice(0,F0(t)+1).replace(U3,"")}function Ee(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Sp=0/0,H3=/^[-+]0x[0-9a-f]+$/i,G3=/^0b[01]+$/i,j3=/^0o[0-7]+$/i,V3=parseInt;function ui(t){if(typeof t=="number")return t;if(Zn(t))return Sp;if(Ee(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ee(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=q0(t);var n=G3.test(t);return n||j3.test(t)?V3(t.slice(2),n?2:8):H3.test(t)?Sp:+t}var Cp=1/0,Z3=17976931348623157e292;function Er(t){if(!t)return t===0?t:0;if(t=ui(t),t===Cp||t===-Cp){var e=t<0?-1:1;return e*Z3}return t===t?t:0}function Bt(t){var e=Er(t),n=e%1;return e===e?n?e-n:e:0}var K3="Expected a function";function J3(t,e){if(typeof e!="function")throw new TypeError(K3);return t=Bt(t),function(){if(--t<1)return e.apply(this,arguments)}}function xn(t){return t}var Q3="[object AsyncFunction]",tx="[object Function]",ex="[object GeneratorFunction]",nx="[object Proxy]";function Ir(t){if(!Ee(t))return!1;var e=yn(t);return e==tx||e==ex||e==Q3||e==nx}var ix=Ze["__core-js_shared__"];const Jh=ix;var Ap=function(){var t=/[^.]+$/.exec(Jh&&Jh.keys&&Jh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function rx(t){return!!Ap&&Ap in t}var ox=Function.prototype,ax=ox.toString;function Jo(t){if(t!=null){try{return ax.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var sx=/[\\^$.*+?()[\]{}|]/g,lx=/^\[object .+?Constructor\]$/,hx=Function.prototype,dx=Object.prototype,ux=hx.toString,fx=dx.hasOwnProperty,gx=RegExp("^"+ux.call(fx).replace(sx,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function W0(t){if(!Ee(t)||rx(t))return!1;var e=Ir(t)?gx:lx;return e.test(Jo(t))}function cx(t,e){return t==null?void 0:t[e]}function Qo(t,e){var n=cx(t,e);return W0(n)?n:void 0}var wx=Qo(Ze,"WeakMap");const ol=wx;var px=ol&&new ol;const ud=px;var _x=ud?function(t,e){return ud.set(t,e),t}:xn;const z0=_x;var Ep=Object.create,mx=function(){function t(){}return function(e){if(!Ee(e))return{};if(Ep)return Ep(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const Ua=mx;function al(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Ua(t.prototype),i=t.apply(n,e);return Ee(i)?i:n}}var kx=1;function vx(t,e,n){var i=e&kx,a=al(t);function l(){var u=this&&this!==Ze&&this instanceof l?a:t;return u.apply(i?n:this,arguments)}return l}function Jn(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var bx=Math.max;function U0(t,e,n,i){for(var a=-1,l=t.length,u=n.length,g=-1,S=e.length,v=bx(l-u,0),A=Array(S+v),Y=!i;++g<S;)A[g]=e[g];for(;++a<u;)(Y||a<l)&&(A[n[a]]=t[a]);for(;v--;)A[g++]=t[a++];return A}var yx=Math.max;function H0(t,e,n,i){for(var a=-1,l=t.length,u=-1,g=n.length,S=-1,v=e.length,A=yx(l-g,0),Y=Array(A+v),X=!i;++a<A;)Y[a]=t[a];for(var M=a;++S<v;)Y[M+S]=e[S];for(;++u<g;)(X||a<l)&&(Y[M+n[u]]=t[a++]);return Y}function xx(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}function vd(){}var Sx=4294967295;function Jt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Sx,this.__views__=[]}Jt.prototype=Ua(vd.prototype);Jt.prototype.constructor=Jt;function Tg(){}var Cx=ud?function(t){return ud.get(t)}:Tg;const Lg=Cx;var Ax={};const Da=Ax;var Ex=Object.prototype,Ix=Ex.hasOwnProperty;function Qh(t){for(var e=t.name+"",n=Da[e],i=Ix.call(Da,e)?n.length:0;i--;){var a=n[i],l=a.func;if(l==null||l==t)return a.name}return e}function gi(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}gi.prototype=Ua(vd.prototype);gi.prototype.constructor=gi;function Mn(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}function G0(t){if(t instanceof Jt)return t.clone();var e=new gi(t.__wrapped__,t.__chain__);return e.__actions__=Mn(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Tx=Object.prototype,Lx=Tx.hasOwnProperty;function y(t){if(Ye(t)&&!Mt(t)&&!(t instanceof Jt)){if(t instanceof gi)return t;if(Lx.call(t,"__wrapped__"))return G0(t)}return new gi(t)}y.prototype=vd.prototype;y.prototype.constructor=y;function eg(t){var e=Qh(t),n=y[e];if(typeof n!="function"||!(e in Jt.prototype))return!1;if(t===n)return!0;var i=Lg(n);return!!i&&t===i[0]}var Rx=800,Yx=16,Ox=Date.now;function j0(t){var e=0,n=0;return function(){var i=Ox(),a=Yx-(i-n);if(n=i,a>0){if(++e>=Rx)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Xx=j0(z0);const V0=Xx;var Px=/\{\n\/\* \[wrapped with (.+)\] \*/,$x=/,? & /;function Mx(t){var e=t.match(Px);return e?e[1].split($x):[]}var Dx=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function Nx(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Dx,`{
/* [wrapped with `+e+`] */
`)}function Rg(t){return function(){return t}}var Bx=function(){try{var t=Qo(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();const fd=Bx;var Fx=fd?function(t,e){return fd(t,"toString",{configurable:!0,enumerable:!1,value:Rg(e),writable:!0})}:xn;const qx=Fx;var Wx=j0(qx);const Yg=Wx;function _i(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function bd(t,e,n,i){for(var a=t.length,l=n+(i?1:-1);i?l--:++l<a;)if(e(t[l],l,t))return l;return-1}function Z0(t){return t!==t}function zx(t,e,n){for(var i=n-1,a=t.length;++i<a;)if(t[i]===e)return i;return-1}function Ha(t,e,n){return e===e?zx(t,e,n):bd(t,Z0,n)}function yd(t,e){var n=t==null?0:t.length;return!!n&&Ha(t,e,0)>-1}var Ux=1,Hx=2,Gx=8,jx=16,Vx=32,Zx=64,Kx=128,Jx=256,Qx=512,t6=[["ary",Kx],["bind",Ux],["bindKey",Hx],["curry",Gx],["curryRight",jx],["flip",Qx],["partial",Vx],["partialRight",Zx],["rearg",Jx]];function e6(t,e){return _i(t6,function(n){var i="_."+n[0];e&n[1]&&!yd(t,i)&&t.push(i)}),t.sort()}function K0(t,e,n){var i=e+"";return Yg(t,Nx(i,e6(Mx(i),n)))}var n6=1,i6=2,r6=4,o6=8,Ip=32,Tp=64;function J0(t,e,n,i,a,l,u,g,S,v){var A=e&o6,Y=A?u:void 0,X=A?void 0:u,M=A?l:void 0,q=A?void 0:l;e|=A?Ip:Tp,e&=~(A?Tp:Ip),e&r6||(e&=~(n6|i6));var j=[t,e,a,M,Y,q,X,g,S,v],et=n.apply(void 0,j);return eg(t)&&V0(et,j),et.placeholder=i,K0(et,t,e)}function Ga(t){var e=t;return e.placeholder}var a6=9007199254740991,s6=/^(?:0|[1-9]\d*)$/;function Tr(t,e){var n=typeof t;return e=e==null?a6:e,!!e&&(n=="number"||n!="symbol"&&s6.test(t))&&t>-1&&t%1==0&&t<e}var l6=Math.min;function h6(t,e){for(var n=t.length,i=l6(e.length,n),a=Mn(t);i--;){var l=e[i];t[i]=Tr(l,n)?a[l]:void 0}return t}var Lp="__lodash_placeholder__";function so(t,e){for(var n=-1,i=t.length,a=0,l=[];++n<i;){var u=t[n];(u===e||u===Lp)&&(t[n]=Lp,l[a++]=n)}return l}var d6=1,u6=2,f6=8,g6=16,c6=128,w6=512;function xd(t,e,n,i,a,l,u,g,S,v){var A=e&c6,Y=e&d6,X=e&u6,M=e&(f6|g6),q=e&w6,j=X?void 0:al(t);function et(){for(var V=arguments.length,dt=Array(V),lt=V;lt--;)dt[lt]=arguments[lt];if(M)var nt=Ga(et),ut=xx(dt,nt);if(i&&(dt=U0(dt,i,a,M)),l&&(dt=H0(dt,l,u,M)),V-=ut,M&&V<v){var p=so(dt,nt);return J0(t,e,xd,et.placeholder,n,dt,p,g,S,v-V)}var st=Y?n:this,Ct=X?st[t]:t;return V=dt.length,g?dt=h6(dt,g):q&&V>1&&dt.reverse(),A&&S<V&&(dt.length=S),this&&this!==Ze&&this instanceof et&&(Ct=j||al(Ct)),Ct.apply(st,dt)}return et}function p6(t,e,n){var i=al(t);function a(){for(var l=arguments.length,u=Array(l),g=l,S=Ga(a);g--;)u[g]=arguments[g];var v=l<3&&u[0]!==S&&u[l-1]!==S?[]:so(u,S);if(l-=v.length,l<n)return J0(t,e,xd,a.placeholder,void 0,u,v,void 0,void 0,n-l);var A=this&&this!==Ze&&this instanceof a?i:t;return Jn(A,this,u)}return a}var _6=1;function m6(t,e,n,i){var a=e&_6,l=al(t);function u(){for(var g=-1,S=arguments.length,v=-1,A=i.length,Y=Array(A+S),X=this&&this!==Ze&&this instanceof u?l:t;++v<A;)Y[v]=i[v];for(;S--;)Y[v++]=arguments[++g];return Jn(X,a?n:this,Y)}return u}var Rp="__lodash_placeholder__",yf=1,k6=2,v6=4,Yp=8,qs=128,Op=256,b6=Math.min;function y6(t,e){var n=t[1],i=e[1],a=n|i,l=a<(yf|k6|qs),u=i==qs&&n==Yp||i==qs&&n==Op&&t[7].length<=e[8]||i==(qs|Op)&&e[7].length<=e[8]&&n==Yp;if(!(l||u))return t;i&yf&&(t[2]=e[2],a|=n&yf?0:v6);var g=e[3];if(g){var S=t[3];t[3]=S?U0(S,g,e[4]):g,t[4]=S?so(t[3],Rp):e[4]}return g=e[5],g&&(S=t[5],t[5]=S?H0(S,g,e[6]):g,t[6]=S?so(t[5],Rp):e[6]),g=e[7],g&&(t[7]=g),i&qs&&(t[8]=t[8]==null?e[8]:b6(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=a,t}var x6="Expected a function",Xp=1,S6=2,xf=8,Sf=16,Cf=32,Pp=64,$p=Math.max;function Lr(t,e,n,i,a,l,u,g){var S=e&S6;if(!S&&typeof t!="function")throw new TypeError(x6);var v=i?i.length:0;if(v||(e&=~(Cf|Pp),i=a=void 0),u=u===void 0?u:$p(Bt(u),0),g=g===void 0?g:Bt(g),v-=a?a.length:0,e&Pp){var A=i,Y=a;i=a=void 0}var X=S?void 0:Lg(t),M=[t,e,n,i,a,A,Y,l,u,g];if(X&&y6(M,X),t=M[0],e=M[1],n=M[2],i=M[3],a=M[4],g=M[9]=M[9]===void 0?S?0:t.length:$p(M[9]-v,0),!g&&e&(xf|Sf)&&(e&=~(xf|Sf)),!e||e==Xp)var q=vx(t,e,n);else e==xf||e==Sf?q=p6(t,e,g):(e==Cf||e==(Xp|Cf))&&!a.length?q=m6(t,e,n,i):q=xd.apply(void 0,M);var j=X?z0:V0;return K0(j(q,M),t,e)}var C6=128;function Q0(t,e,n){return e=n?void 0:e,e=t&&e==null?t.length:e,Lr(t,C6,void 0,void 0,void 0,void 0,e)}function Rr(t,e,n){e=="__proto__"&&fd?fd(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Ri(t,e){return t===e||t!==t&&e!==e}var A6=Object.prototype,E6=A6.hasOwnProperty;function kl(t,e,n){var i=t[e];(!(E6.call(t,e)&&Ri(i,n))||n===void 0&&!(e in t))&&Rr(t,e,n)}function tr(t,e,n,i){var a=!n;n||(n={});for(var l=-1,u=e.length;++l<u;){var g=e[l],S=i?i(n[g],t[g],g,n,t):void 0;S===void 0&&(S=t[g]),a?Rr(n,g,S):kl(n,g,S)}return n}var Mp=Math.max;function tm(t,e,n){return e=Mp(e===void 0?t.length-1:e,0),function(){for(var i=arguments,a=-1,l=Mp(i.length-e,0),u=Array(l);++a<l;)u[a]=i[e+a];a=-1;for(var g=Array(e+1);++a<e;)g[a]=i[a];return g[e]=n(u),Jn(t,this,g)}}function Ut(t,e){return Yg(tm(t,e,xn),t+"")}var I6=9007199254740991;function Sd(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=I6}function Dn(t){return t!=null&&Sd(t.length)&&!Ir(t)}function bn(t,e,n){if(!Ee(n))return!1;var i=typeof e;return(i=="number"?Dn(n)&&Tr(e,n.length):i=="string"&&e in n)?Ri(n[e],t):!1}function ja(t){return Ut(function(e,n){var i=-1,a=n.length,l=a>1?n[a-1]:void 0,u=a>2?n[2]:void 0;for(l=t.length>3&&typeof l=="function"?(a--,l):void 0,u&&bn(n[0],n[1],u)&&(l=a<3?void 0:l,a=1),e=Object(e);++i<a;){var g=n[i];g&&t(e,g,i,l)}return e})}var T6=Object.prototype;function vl(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||T6;return t===n}function Og(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var L6="[object Arguments]";function Dp(t){return Ye(t)&&yn(t)==L6}var em=Object.prototype,R6=em.hasOwnProperty,Y6=em.propertyIsEnumerable,O6=Dp(function(){return arguments}())?Dp:function(t){return Ye(t)&&R6.call(t,"callee")&&!Y6.call(t,"callee")};const Go=O6;function Xg(){return!1}var nm=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Np=nm&&typeof module=="object"&&module&&!module.nodeType&&module,X6=Np&&Np.exports===nm,Bp=X6?Ze.Buffer:void 0,P6=Bp?Bp.isBuffer:void 0,$6=P6||Xg;const lo=$6;var M6="[object Arguments]",D6="[object Array]",N6="[object Boolean]",B6="[object Date]",F6="[object Error]",q6="[object Function]",W6="[object Map]",z6="[object Number]",U6="[object Object]",H6="[object RegExp]",G6="[object Set]",j6="[object String]",V6="[object WeakMap]",Z6="[object ArrayBuffer]",K6="[object DataView]",J6="[object Float32Array]",Q6="[object Float64Array]",t8="[object Int8Array]",e8="[object Int16Array]",n8="[object Int32Array]",i8="[object Uint8Array]",r8="[object Uint8ClampedArray]",o8="[object Uint16Array]",a8="[object Uint32Array]",ve={};ve[J6]=ve[Q6]=ve[t8]=ve[e8]=ve[n8]=ve[i8]=ve[r8]=ve[o8]=ve[a8]=!0;ve[M6]=ve[D6]=ve[Z6]=ve[N6]=ve[K6]=ve[B6]=ve[F6]=ve[q6]=ve[W6]=ve[z6]=ve[U6]=ve[H6]=ve[G6]=ve[j6]=ve[V6]=!1;function s8(t){return Ye(t)&&Sd(t.length)&&!!ve[yn(t)]}function Qn(t){return function(e){return t(e)}}var im=typeof exports=="object"&&exports&&!exports.nodeType&&exports,tl=im&&typeof module=="object"&&module&&!module.nodeType&&module,l8=tl&&tl.exports===im,Af=l8&&N0.process,h8=function(){try{var t=tl&&tl.require&&tl.require("util").types;return t||Af&&Af.binding&&Af.binding("util")}catch(e){}}();const ci=h8;var Fp=ci&&ci.isTypedArray,d8=Fp?Qn(Fp):s8;const Va=d8;var u8=Object.prototype,f8=u8.hasOwnProperty;function rm(t,e){var n=Mt(t),i=!n&&Go(t),a=!n&&!i&&lo(t),l=!n&&!i&&!a&&Va(t),u=n||i||a||l,g=u?Og(t.length,String):[],S=g.length;for(var v in t)(e||f8.call(t,v))&&!(u&&(v=="length"||a&&(v=="offset"||v=="parent")||l&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||Tr(v,S)))&&g.push(v);return g}function om(t,e){return function(n){return t(e(n))}}var g8=om(Object.keys,Object);const c8=g8;var w8=Object.prototype,p8=w8.hasOwnProperty;function Pg(t){if(!vl(t))return c8(t);var e=[];for(var n in Object(t))p8.call(t,n)&&n!="constructor"&&e.push(n);return e}function ze(t){return Dn(t)?rm(t):Pg(t)}var _8=Object.prototype,m8=_8.hasOwnProperty,k8=ja(function(t,e){if(vl(e)||Dn(e)){tr(e,ze(e),t);return}for(var n in e)m8.call(e,n)&&kl(t,n,e[n])});const v8=k8;function b8(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var y8=Object.prototype,x8=y8.hasOwnProperty;function S8(t){if(!Ee(t))return b8(t);var e=vl(t),n=[];for(var i in t)i=="constructor"&&(e||!x8.call(t,i))||n.push(i);return n}function Nn(t){return Dn(t)?rm(t,!0):S8(t)}var C8=ja(function(t,e){tr(e,Nn(e),t)});const qp=C8;var A8=ja(function(t,e,n,i){tr(e,Nn(e),t,i)});const gd=A8;var E8=ja(function(t,e,n,i){tr(e,ze(e),t,i)});const I8=E8;var T8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,L8=/^\w*$/;function $g(t,e){if(Mt(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Zn(t)?!0:L8.test(t)||!T8.test(t)||e!=null&&t in Object(e)}var R8=Qo(Object,"create");const sl=R8;function Y8(){this.__data__=sl?sl(null):{},this.size=0}function O8(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var X8="__lodash_hash_undefined__",P8=Object.prototype,$8=P8.hasOwnProperty;function M8(t){var e=this.__data__;if(sl){var n=e[t];return n===X8?void 0:n}return $8.call(e,t)?e[t]:void 0}var D8=Object.prototype,N8=D8.hasOwnProperty;function B8(t){var e=this.__data__;return sl?e[t]!==void 0:N8.call(e,t)}var F8="__lodash_hash_undefined__";function q8(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=sl&&e===void 0?F8:e,this}function jo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}jo.prototype.clear=Y8;jo.prototype.delete=O8;jo.prototype.get=M8;jo.prototype.has=B8;jo.prototype.set=q8;function W8(){this.__data__=[],this.size=0}function Cd(t,e){for(var n=t.length;n--;)if(Ri(t[n][0],e))return n;return-1}var z8=Array.prototype,U8=z8.splice;function H8(t){var e=this.__data__,n=Cd(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():U8.call(e,n,1),--this.size,!0}function G8(t){var e=this.__data__,n=Cd(e,t);return n<0?void 0:e[n][1]}function j8(t){return Cd(this.__data__,t)>-1}function V8(t,e){var n=this.__data__,i=Cd(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function Yr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Yr.prototype.clear=W8;Yr.prototype.delete=H8;Yr.prototype.get=G8;Yr.prototype.has=j8;Yr.prototype.set=V8;var Z8=Qo(Ze,"Map");const ll=Z8;function K8(){this.size=0,this.__data__={hash:new jo,map:new(ll||Yr),string:new jo}}function J8(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Ad(t,e){var n=t.__data__;return J8(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Q8(t){var e=Ad(this,t).delete(t);return this.size-=e?1:0,e}function tS(t){return Ad(this,t).get(t)}function eS(t){return Ad(this,t).has(t)}function nS(t,e){var n=Ad(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function Or(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Or.prototype.clear=K8;Or.prototype.delete=Q8;Or.prototype.get=tS;Or.prototype.has=eS;Or.prototype.set=nS;var iS="Expected a function";function Ed(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(iS);var n=function(){var i=arguments,a=e?e.apply(this,i):i[0],l=n.cache;if(l.has(a))return l.get(a);var u=t.apply(this,i);return n.cache=l.set(a,u)||l,u};return n.cache=new(Ed.Cache||Or),n}Ed.Cache=Or;var rS=500;function oS(t){var e=Ed(t,function(i){return n.size===rS&&n.clear(),i}),n=e.cache;return e}var aS=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sS=/\\(\\)?/g,lS=oS(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(aS,function(n,i,a,l){e.push(a?l.replace(sS,"$1"):i||n)}),e});const am=lS;function ue(t){return t==null?"":Kn(t)}function uo(t,e){return Mt(t)?t:$g(t,e)?[t]:am(ue(t))}var hS=1/0;function er(t){if(typeof t=="string"||Zn(t))return t;var e=t+"";return e=="0"&&1/t==-hS?"-0":e}function ta(t,e){e=uo(e,t);for(var n=0,i=e.length;t!=null&&n<i;)t=t[er(e[n++])];return n&&n==i?t:void 0}function Mg(t,e,n){var i=t==null?void 0:ta(t,e);return i===void 0?n:i}function Dg(t,e){for(var n=-1,i=e.length,a=Array(i),l=t==null;++n<i;)a[n]=l?void 0:Mg(t,e[n]);return a}function fo(t,e){for(var n=-1,i=e.length,a=t.length;++n<i;)t[a+n]=e[n];return t}var Wp=un?un.isConcatSpreadable:void 0;function dS(t){return Mt(t)||Go(t)||!!(Wp&&t&&t[Wp])}function tn(t,e,n,i,a){var l=-1,u=t.length;for(n||(n=dS),a||(a=[]);++l<u;){var g=t[l];e>0&&n(g)?e>1?tn(g,e-1,n,i,a):fo(a,g):i||(a[a.length]=g)}return a}function sm(t){var e=t==null?0:t.length;return e?tn(t,1):[]}function Xr(t){return Yg(tm(t,void 0,sm),t+"")}var uS=Xr(Dg);const fS=uS;var gS=om(Object.getPrototypeOf,Object);const Id=gS;var cS="[object Object]",wS=Function.prototype,pS=Object.prototype,lm=wS.toString,_S=pS.hasOwnProperty,mS=lm.call(Object);function bl(t){if(!Ye(t)||yn(t)!=cS)return!1;var e=Id(t);if(e===null)return!0;var n=_S.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&lm.call(n)==mS}var kS="[object DOMException]",vS="[object Error]";function Ng(t){if(!Ye(t))return!1;var e=yn(t);return e==vS||e==kS||typeof t.message=="string"&&typeof t.name=="string"&&!bl(t)}var bS=Ut(function(t,e){try{return Jn(t,void 0,e)}catch(n){return Ng(n)?n:new Error(n)}});const hm=bS;var yS="Expected a function";function dm(t,e){var n;if(typeof e!="function")throw new TypeError(yS);return t=Bt(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var xS=1,SS=32,Bg=Ut(function(t,e,n){var i=xS;if(n.length){var a=so(n,Ga(Bg));i|=SS}return Lr(t,i,e,n,a)});Bg.placeholder={};const um=Bg;var CS=Xr(function(t,e){return _i(e,function(n){n=er(n),Rr(t,n,um(t[n],t))}),t});const AS=CS;var ES=1,IS=2,TS=32,Fg=Ut(function(t,e,n){var i=ES|IS;if(n.length){var a=so(n,Ga(Fg));i|=TS}return Lr(e,i,t,n,a)});Fg.placeholder={};const LS=Fg;function wi(t,e,n){var i=-1,a=t.length;e<0&&(e=-e>a?0:a+e),n=n>a?a:n,n<0&&(n+=a),a=e>n?0:n-e>>>0,e>>>=0;for(var l=Array(a);++i<a;)l[i]=t[i+e];return l}function go(t,e,n){var i=t.length;return n=n===void 0?i:n,!e&&n>=i?t:wi(t,e,n)}var RS="\\ud800-\\udfff",YS="\\u0300-\\u036f",OS="\\ufe20-\\ufe2f",XS="\\u20d0-\\u20ff",PS=YS+OS+XS,$S="\\ufe0e\\ufe0f",MS="\\u200d",DS=RegExp("["+MS+RS+PS+$S+"]");function Za(t){return DS.test(t)}function NS(t){return t.split("")}var fm="\\ud800-\\udfff",BS="\\u0300-\\u036f",FS="\\ufe20-\\ufe2f",qS="\\u20d0-\\u20ff",WS=BS+FS+qS,zS="\\ufe0e\\ufe0f",US="["+fm+"]",ng="["+WS+"]",ig="\\ud83c[\\udffb-\\udfff]",HS="(?:"+ng+"|"+ig+")",gm="[^"+fm+"]",cm="(?:\\ud83c[\\udde6-\\uddff]){2}",wm="[\\ud800-\\udbff][\\udc00-\\udfff]",GS="\\u200d",pm=HS+"?",_m="["+zS+"]?",jS="(?:"+GS+"(?:"+[gm,cm,wm].join("|")+")"+_m+pm+")*",VS=_m+pm+jS,ZS="(?:"+[gm+ng+"?",ng,cm,wm,US].join("|")+")",KS=RegExp(ig+"(?="+ig+")|"+ZS+VS,"g");function JS(t){return t.match(KS)||[]}function Li(t){return Za(t)?JS(t):NS(t)}function mm(t){return function(e){e=ue(e);var n=Za(e)?Li(e):void 0,i=n?n[0]:e.charAt(0),a=n?go(n,1).join(""):e.slice(1);return i[t]()+a}}var QS=mm("toUpperCase");const qg=QS;function km(t){return qg(ue(t).toLowerCase())}function Wg(t,e,n,i){var a=-1,l=t==null?0:t.length;for(i&&l&&(n=t[++a]);++a<l;)n=e(n,t[a],a,t);return n}function zg(t){return function(e){return t==null?void 0:t[e]}}var tC={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},eC=zg(tC);const nC=eC;var iC=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rC="\\u0300-\\u036f",oC="\\ufe20-\\ufe2f",aC="\\u20d0-\\u20ff",sC=rC+oC+aC,lC="["+sC+"]",hC=RegExp(lC,"g");function vm(t){return t=ue(t),t&&t.replace(iC,nC).replace(hC,"")}var dC=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function uC(t){return t.match(dC)||[]}var fC=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function gC(t){return fC.test(t)}var bm="\\ud800-\\udfff",cC="\\u0300-\\u036f",wC="\\ufe20-\\ufe2f",pC="\\u20d0-\\u20ff",_C=cC+wC+pC,ym="\\u2700-\\u27bf",xm="a-z\\xdf-\\xf6\\xf8-\\xff",mC="\\xac\\xb1\\xd7\\xf7",kC="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",vC="\\u2000-\\u206f",bC=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Sm="A-Z\\xc0-\\xd6\\xd8-\\xde",yC="\\ufe0e\\ufe0f",Cm=mC+kC+vC+bC,Am="['’]",zp="["+Cm+"]",xC="["+_C+"]",Em="\\d+",SC="["+ym+"]",Im="["+xm+"]",Tm="[^"+bm+Cm+Em+ym+xm+Sm+"]",CC="\\ud83c[\\udffb-\\udfff]",AC="(?:"+xC+"|"+CC+")",EC="[^"+bm+"]",Lm="(?:\\ud83c[\\udde6-\\uddff]){2}",Rm="[\\ud800-\\udbff][\\udc00-\\udfff]",Pa="["+Sm+"]",IC="\\u200d",Up="(?:"+Im+"|"+Tm+")",TC="(?:"+Pa+"|"+Tm+")",Hp="(?:"+Am+"(?:d|ll|m|re|s|t|ve))?",Gp="(?:"+Am+"(?:D|LL|M|RE|S|T|VE))?",Ym=AC+"?",Om="["+yC+"]?",LC="(?:"+IC+"(?:"+[EC,Lm,Rm].join("|")+")"+Om+Ym+")*",RC="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",YC="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",OC=Om+Ym+LC,XC="(?:"+[SC,Lm,Rm].join("|")+")"+OC,PC=RegExp([Pa+"?"+Im+"+"+Hp+"(?="+[zp,Pa,"$"].join("|")+")",TC+"+"+Gp+"(?="+[zp,Pa+Up,"$"].join("|")+")",Pa+"?"+Up+"+"+Hp,Pa+"+"+Gp,YC,RC,Em,XC].join("|"),"g");function $C(t){return t.match(PC)||[]}function Xm(t,e,n){return t=ue(t),e=n?void 0:e,e===void 0?gC(t)?$C(t):uC(t):t.match(e)||[]}var MC="['’]",DC=RegExp(MC,"g");function Ka(t){return function(e){return Wg(Xm(vm(e).replace(DC,"")),t,"")}}var NC=Ka(function(t,e,n){return e=e.toLowerCase(),t+(n?km(e):e)});const BC=NC;function FC(){if(!arguments.length)return[];var t=arguments[0];return Mt(t)?t:[t]}var qC=Ze.isFinite,WC=Math.min;function Ug(t){var e=Math[t];return function(n,i){if(n=ui(n),i=i==null?0:WC(Bt(i),292),i&&qC(n)){var a=(ue(n)+"e").split("e"),l=e(a[0]+"e"+(+a[1]+i));return a=(ue(l)+"e").split("e"),+(a[0]+"e"+(+a[1]-i))}return e(n)}}var zC=Ug("ceil");const UC=zC;function Pm(t){var e=y(t);return e.__chain__=!0,e}var HC=Math.ceil,GC=Math.max;function jC(t,e,n){(n?bn(t,e,n):e===void 0)?e=1:e=GC(Bt(e),0);var i=t==null?0:t.length;if(!i||e<1)return[];for(var a=0,l=0,u=Array(HC(i/e));a<i;)u[l++]=wi(t,a,a+=e);return u}function ea(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function VC(t,e,n){return n===void 0&&(n=e,e=void 0),n!==void 0&&(n=ui(n),n=n===n?n:0),e!==void 0&&(e=ui(e),e=e===e?e:0),ea(ui(t),e,n)}function ZC(){this.__data__=new Yr,this.size=0}function KC(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function JC(t){return this.__data__.get(t)}function QC(t){return this.__data__.has(t)}var tA=200;function eA(t,e){var n=this.__data__;if(n instanceof Yr){var i=n.__data__;if(!ll||i.length<tA-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Or(i)}return n.set(t,e),this.size=n.size,this}function Ii(t){var e=this.__data__=new Yr(t);this.size=e.size}Ii.prototype.clear=ZC;Ii.prototype.delete=KC;Ii.prototype.get=JC;Ii.prototype.has=QC;Ii.prototype.set=eA;function $m(t,e){return t&&tr(e,ze(e),t)}function nA(t,e){return t&&tr(e,Nn(e),t)}var Mm=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jp=Mm&&typeof module=="object"&&module&&!module.nodeType&&module,iA=jp&&jp.exports===Mm,Vp=iA?Ze.Buffer:void 0,Zp=Vp?Vp.allocUnsafe:void 0;function Dm(t,e){if(e)return t.slice();var n=t.length,i=Zp?Zp(n):new t.constructor(n);return t.copy(i),i}function co(t,e){for(var n=-1,i=t==null?0:t.length,a=0,l=[];++n<i;){var u=t[n];e(u,n,t)&&(l[a++]=u)}return l}function Hg(){return[]}var rA=Object.prototype,oA=rA.propertyIsEnumerable,Kp=Object.getOwnPropertySymbols,aA=Kp?function(t){return t==null?[]:(t=Object(t),co(Kp(t),function(e){return oA.call(t,e)}))}:Hg;const Gg=aA;function sA(t,e){return tr(t,Gg(t),e)}var lA=Object.getOwnPropertySymbols,hA=lA?function(t){for(var e=[];t;)fo(e,Gg(t)),t=Id(t);return e}:Hg;const Nm=hA;function dA(t,e){return tr(t,Nm(t),e)}function Bm(t,e,n){var i=e(t);return Mt(t)?i:fo(i,n(t))}function rg(t){return Bm(t,ze,Gg)}function jg(t){return Bm(t,Nn,Nm)}var uA=Qo(Ze,"DataView");const og=uA;var fA=Qo(Ze,"Promise");const ag=fA;var gA=Qo(Ze,"Set");const Na=gA;var Jp="[object Map]",cA="[object Object]",Qp="[object Promise]",t_="[object Set]",e_="[object WeakMap]",n_="[object DataView]",wA=Jo(og),pA=Jo(ll),_A=Jo(ag),mA=Jo(Na),kA=Jo(ol),Bo=yn;(og&&Bo(new og(new ArrayBuffer(1)))!=n_||ll&&Bo(new ll)!=Jp||ag&&Bo(ag.resolve())!=Qp||Na&&Bo(new Na)!=t_||ol&&Bo(new ol)!=e_)&&(Bo=function(t){var e=yn(t),n=e==cA?t.constructor:void 0,i=n?Jo(n):"";if(i)switch(i){case wA:return n_;case pA:return Jp;case _A:return Qp;case mA:return t_;case kA:return e_}return e});const Ki=Bo;var vA=Object.prototype,bA=vA.hasOwnProperty;function yA(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&bA.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var xA=Ze.Uint8Array;const cd=xA;function Vg(t){var e=new t.constructor(t.byteLength);return new cd(e).set(new cd(t)),e}function SA(t,e){var n=e?Vg(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var CA=/\w*$/;function AA(t){var e=new t.constructor(t.source,CA.exec(t));return e.lastIndex=t.lastIndex,e}var i_=un?un.prototype:void 0,r_=i_?i_.valueOf:void 0;function EA(t){return r_?Object(r_.call(t)):{}}function Fm(t,e){var n=e?Vg(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var IA="[object Boolean]",TA="[object Date]",LA="[object Map]",RA="[object Number]",YA="[object RegExp]",OA="[object Set]",XA="[object String]",PA="[object Symbol]",$A="[object ArrayBuffer]",MA="[object DataView]",DA="[object Float32Array]",NA="[object Float64Array]",BA="[object Int8Array]",FA="[object Int16Array]",qA="[object Int32Array]",WA="[object Uint8Array]",zA="[object Uint8ClampedArray]",UA="[object Uint16Array]",HA="[object Uint32Array]";function GA(t,e,n){var i=t.constructor;switch(e){case $A:return Vg(t);case IA:case TA:return new i(+t);case MA:return SA(t,n);case DA:case NA:case BA:case FA:case qA:case WA:case zA:case UA:case HA:return Fm(t,n);case LA:return new i;case RA:case XA:return new i(t);case YA:return AA(t);case OA:return new i;case PA:return EA(t)}}function qm(t){return typeof t.constructor=="function"&&!vl(t)?Ua(Id(t)):{}}var jA="[object Map]";function VA(t){return Ye(t)&&Ki(t)==jA}var o_=ci&&ci.isMap,ZA=o_?Qn(o_):VA;const Wm=ZA;var KA="[object Set]";function JA(t){return Ye(t)&&Ki(t)==KA}var a_=ci&&ci.isSet,QA=a_?Qn(a_):JA;const zm=QA;var tE=1,eE=2,nE=4,Um="[object Arguments]",iE="[object Array]",rE="[object Boolean]",oE="[object Date]",aE="[object Error]",Hm="[object Function]",sE="[object GeneratorFunction]",lE="[object Map]",hE="[object Number]",Gm="[object Object]",dE="[object RegExp]",uE="[object Set]",fE="[object String]",gE="[object Symbol]",cE="[object WeakMap]",wE="[object ArrayBuffer]",pE="[object DataView]",_E="[object Float32Array]",mE="[object Float64Array]",kE="[object Int8Array]",vE="[object Int16Array]",bE="[object Int32Array]",yE="[object Uint8Array]",xE="[object Uint8ClampedArray]",SE="[object Uint16Array]",CE="[object Uint32Array]",me={};me[Um]=me[iE]=me[wE]=me[pE]=me[rE]=me[oE]=me[_E]=me[mE]=me[kE]=me[vE]=me[bE]=me[lE]=me[hE]=me[Gm]=me[dE]=me[uE]=me[fE]=me[gE]=me[yE]=me[xE]=me[SE]=me[CE]=!0;me[aE]=me[Hm]=me[cE]=!1;function fi(t,e,n,i,a,l){var u,g=e&tE,S=e&eE,v=e&nE;if(n&&(u=a?n(t,i,a,l):n(t)),u!==void 0)return u;if(!Ee(t))return t;var A=Mt(t);if(A){if(u=yA(t),!g)return Mn(t,u)}else{var Y=Ki(t),X=Y==Hm||Y==sE;if(lo(t))return Dm(t,g);if(Y==Gm||Y==Um||X&&!a){if(u=S||X?{}:qm(t),!g)return S?dA(t,nA(u,t)):sA(t,$m(u,t))}else{if(!me[Y])return a?t:{};u=GA(t,Y,g)}}l||(l=new Ii);var M=l.get(t);if(M)return M;l.set(t,u),zm(t)?t.forEach(function(et){u.add(fi(et,e,n,et,t,l))}):Wm(t)&&t.forEach(function(et,V){u.set(V,fi(et,e,n,V,t,l))});var q=v?S?jg:rg:S?Nn:ze,j=A?void 0:q(t);return _i(j||t,function(et,V){j&&(V=et,et=t[V]),kl(u,V,fi(et,e,n,V,t,l))}),u}var AE=4;function EE(t){return fi(t,AE)}var IE=1,TE=4;function LE(t){return fi(t,IE|TE)}var RE=1,YE=4;function OE(t,e){return e=typeof e=="function"?e:void 0,fi(t,RE|YE,e)}var XE=4;function PE(t,e){return e=typeof e=="function"?e:void 0,fi(t,XE,e)}function $E(){return new gi(this.value(),this.__chain__)}function ME(t){for(var e=-1,n=t==null?0:t.length,i=0,a=[];++e<n;){var l=t[e];l&&(a[i++]=l)}return a}function DE(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return fo(Mt(n)?Mn(n):[n],tn(e,1))}var NE="__lodash_hash_undefined__";function BE(t){return this.__data__.set(t,NE),this}function FE(t){return this.__data__.has(t)}function Vo(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Or;++e<n;)this.add(t[e])}Vo.prototype.add=Vo.prototype.push=BE;Vo.prototype.has=FE;function Zg(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function hl(t,e){return t.has(e)}var qE=1,WE=2;function jm(t,e,n,i,a,l){var u=n&qE,g=t.length,S=e.length;if(g!=S&&!(u&&S>g))return!1;var v=l.get(t),A=l.get(e);if(v&&A)return v==e&&A==t;var Y=-1,X=!0,M=n&WE?new Vo:void 0;for(l.set(t,e),l.set(e,t);++Y<g;){var q=t[Y],j=e[Y];if(i)var et=u?i(j,q,Y,e,t,l):i(q,j,Y,t,e,l);if(et!==void 0){if(et)continue;X=!1;break}if(M){if(!Zg(e,function(V,dt){if(!hl(M,dt)&&(q===V||a(q,V,n,i,l)))return M.push(dt)})){X=!1;break}}else if(!(q===j||a(q,j,n,i,l))){X=!1;break}}return l.delete(t),l.delete(e),X}function Kg(t){var e=-1,n=Array(t.size);return t.forEach(function(i,a){n[++e]=[a,i]}),n}function Td(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var zE=1,UE=2,HE="[object Boolean]",GE="[object Date]",jE="[object Error]",VE="[object Map]",ZE="[object Number]",KE="[object RegExp]",JE="[object Set]",QE="[object String]",tI="[object Symbol]",eI="[object ArrayBuffer]",nI="[object DataView]",s_=un?un.prototype:void 0,Ef=s_?s_.valueOf:void 0;function iI(t,e,n,i,a,l,u){switch(n){case nI:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case eI:return!(t.byteLength!=e.byteLength||!l(new cd(t),new cd(e)));case HE:case GE:case ZE:return Ri(+t,+e);case jE:return t.name==e.name&&t.message==e.message;case KE:case QE:return t==e+"";case VE:var g=Kg;case JE:var S=i&zE;if(g||(g=Td),t.size!=e.size&&!S)return!1;var v=u.get(t);if(v)return v==e;i|=UE,u.set(t,e);var A=jm(g(t),g(e),i,a,l,u);return u.delete(t),A;case tI:if(Ef)return Ef.call(t)==Ef.call(e)}return!1}var rI=1,oI=Object.prototype,aI=oI.hasOwnProperty;function sI(t,e,n,i,a,l){var u=n&rI,g=rg(t),S=g.length,v=rg(e),A=v.length;if(S!=A&&!u)return!1;for(var Y=S;Y--;){var X=g[Y];if(!(u?X in e:aI.call(e,X)))return!1}var M=l.get(t),q=l.get(e);if(M&&q)return M==e&&q==t;var j=!0;l.set(t,e),l.set(e,t);for(var et=u;++Y<S;){X=g[Y];var V=t[X],dt=e[X];if(i)var lt=u?i(dt,V,X,e,t,l):i(V,dt,X,t,e,l);if(!(lt===void 0?V===dt||a(V,dt,n,i,l):lt)){j=!1;break}et||(et=X=="constructor")}if(j&&!et){var nt=t.constructor,ut=e.constructor;nt!=ut&&"constructor"in t&&"constructor"in e&&!(typeof nt=="function"&&nt instanceof nt&&typeof ut=="function"&&ut instanceof ut)&&(j=!1)}return l.delete(t),l.delete(e),j}var lI=1,l_="[object Arguments]",h_="[object Array]",Dh="[object Object]",hI=Object.prototype,d_=hI.hasOwnProperty;function dI(t,e,n,i,a,l){var u=Mt(t),g=Mt(e),S=u?h_:Ki(t),v=g?h_:Ki(e);S=S==l_?Dh:S,v=v==l_?Dh:v;var A=S==Dh,Y=v==Dh,X=S==v;if(X&&lo(t)){if(!lo(e))return!1;u=!0,A=!1}if(X&&!A)return l||(l=new Ii),u||Va(t)?jm(t,e,n,i,a,l):iI(t,e,S,n,i,a,l);if(!(n&lI)){var M=A&&d_.call(t,"__wrapped__"),q=Y&&d_.call(e,"__wrapped__");if(M||q){var j=M?t.value():t,et=q?e.value():e;return l||(l=new Ii),a(j,et,n,i,l)}}return X?(l||(l=new Ii),sI(t,e,n,i,a,l)):!1}function yl(t,e,n,i,a){return t===e?!0:t==null||e==null||!Ye(t)&&!Ye(e)?t!==t&&e!==e:dI(t,e,n,i,yl,a)}var uI=1,fI=2;function Jg(t,e,n,i){var a=n.length,l=a,u=!i;if(t==null)return!l;for(t=Object(t);a--;){var g=n[a];if(u&&g[2]?g[1]!==t[g[0]]:!(g[0]in t))return!1}for(;++a<l;){g=n[a];var S=g[0],v=t[S],A=g[1];if(u&&g[2]){if(v===void 0&&!(S in t))return!1}else{var Y=new Ii;if(i)var X=i(v,A,S,t,e,Y);if(!(X===void 0?yl(A,v,uI|fI,i,Y):X))return!1}}return!0}function Vm(t){return t===t&&!Ee(t)}function Qg(t){for(var e=ze(t),n=e.length;n--;){var i=e[n],a=t[i];e[n]=[i,a,Vm(a)]}return e}function Zm(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function Km(t){var e=Qg(t);return e.length==1&&e[0][2]?Zm(e[0][0],e[0][1]):function(n){return n===t||Jg(n,t,e)}}function gI(t,e){return t!=null&&e in Object(t)}function Jm(t,e,n){e=uo(e,t);for(var i=-1,a=e.length,l=!1;++i<a;){var u=er(e[i]);if(!(l=t!=null&&n(t,u)))break;t=t[u]}return l||++i!=a?l:(a=t==null?0:t.length,!!a&&Sd(a)&&Tr(u,a)&&(Mt(t)||Go(t)))}function tc(t,e){return t!=null&&Jm(t,e,gI)}var cI=1,wI=2;function Qm(t,e){return $g(t)&&Vm(e)?Zm(er(t),e):function(n){var i=Mg(n,t);return i===void 0&&i===e?tc(n,t):yl(e,i,cI|wI)}}function ec(t){return function(e){return e==null?void 0:e[t]}}function pI(t){return function(e){return ta(e,t)}}function t1(t){return $g(t)?ec(er(t)):pI(t)}function $t(t){return typeof t=="function"?t:t==null?xn:typeof t=="object"?Mt(t)?Qm(t[0],t[1]):Km(t):t1(t)}var _I="Expected a function";function mI(t){var e=t==null?0:t.length,n=$t;return t=e?Ae(t,function(i){if(typeof i[1]!="function")throw new TypeError(_I);return[n(i[0]),i[1]]}):[],Ut(function(i){for(var a=-1;++a<e;){var l=t[a];if(Jn(l[0],this,i))return Jn(l[1],this,i)}})}function e1(t,e,n){var i=n.length;if(t==null)return!i;for(t=Object(t);i--;){var a=n[i],l=e[a],u=t[a];if(u===void 0&&!(a in t)||!l(u))return!1}return!0}function kI(t){var e=ze(t);return function(n){return e1(n,t,e)}}var vI=1;function bI(t){return kI(fi(t,vI))}function yI(t,e){return e==null||e1(t,e,ze(e))}function xI(t,e,n,i){for(var a=-1,l=t==null?0:t.length;++a<l;){var u=t[a];e(i,u,n(u),t)}return i}function n1(t){return function(e,n,i){for(var a=-1,l=Object(e),u=i(e),g=u.length;g--;){var S=u[t?g:++a];if(n(l[S],S,l)===!1)break}return e}}var SI=n1();const nc=SI;function nr(t,e){return t&&nc(t,e,ze)}function i1(t,e){return function(n,i){if(n==null)return n;if(!Dn(n))return t(n,i);for(var a=n.length,l=e?a:-1,u=Object(n);(e?l--:++l<a)&&i(u[l],l,u)!==!1;);return n}}var CI=i1(nr);const wo=CI;function AI(t,e,n,i){return wo(t,function(a,l,u){e(i,a,n(a),u)}),i}function Ld(t,e){return function(n,i){var a=Mt(n)?xI:AI,l=e?e():{};return a(n,t,$t(i),l)}}var EI=Object.prototype,II=EI.hasOwnProperty,TI=Ld(function(t,e,n){II.call(t,n)?++t[n]:Rr(t,n,1)});const LI=TI;function RI(t,e){var n=Ua(t);return e==null?n:$m(n,e)}var YI=8;function ic(t,e,n){e=n?void 0:e;var i=Lr(t,YI,void 0,void 0,void 0,void 0,void 0,e);return i.placeholder=ic.placeholder,i}ic.placeholder={};var OI=16;function rc(t,e,n){e=n?void 0:e;var i=Lr(t,OI,void 0,void 0,void 0,void 0,void 0,e);return i.placeholder=rc.placeholder,i}rc.placeholder={};var XI=function(){return Ze.Date.now()};const td=XI;var PI="Expected a function",$I=Math.max,MI=Math.min;function r1(t,e,n){var i,a,l,u,g,S,v=0,A=!1,Y=!1,X=!0;if(typeof t!="function")throw new TypeError(PI);e=ui(e)||0,Ee(n)&&(A=!!n.leading,Y="maxWait"in n,l=Y?$I(ui(n.maxWait)||0,e):l,X="trailing"in n?!!n.trailing:X);function M(p){var st=i,Ct=a;return i=a=void 0,v=p,u=t.apply(Ct,st),u}function q(p){return v=p,g=setTimeout(V,e),A?M(p):u}function j(p){var st=p-S,Ct=p-v,Rt=e-st;return Y?MI(Rt,l-Ct):Rt}function et(p){var st=p-S,Ct=p-v;return S===void 0||st>=e||st<0||Y&&Ct>=l}function V(){var p=td();if(et(p))return dt(p);g=setTimeout(V,j(p))}function dt(p){return g=void 0,X&&i?M(p):(i=a=void 0,u)}function lt(){g!==void 0&&clearTimeout(g),v=0,i=S=a=g=void 0}function nt(){return g===void 0?u:dt(td())}function ut(){var p=td(),st=et(p);if(i=arguments,a=this,S=p,st){if(g===void 0)return q(S);if(Y)return clearTimeout(g),g=setTimeout(V,e),M(S)}return g===void 0&&(g=setTimeout(V,e)),u}return ut.cancel=lt,ut.flush=nt,ut}function DI(t,e){return t==null||t!==t?e:t}var o1=Object.prototype,NI=o1.hasOwnProperty,BI=Ut(function(t,e){t=Object(t);var n=-1,i=e.length,a=i>2?e[2]:void 0;for(a&&bn(e[0],e[1],a)&&(i=1);++n<i;)for(var l=e[n],u=Nn(l),g=-1,S=u.length;++g<S;){var v=u[g],A=t[v];(A===void 0||Ri(A,o1[v])&&!NI.call(t,v))&&(t[v]=l[v])}return t});const FI=BI;function sg(t,e,n){(n!==void 0&&!Ri(t[e],n)||n===void 0&&!(e in t))&&Rr(t,e,n)}function Ne(t){return Ye(t)&&Dn(t)}function lg(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function a1(t){return tr(t,Nn(t))}function qI(t,e,n,i,a,l,u){var g=lg(t,n),S=lg(e,n),v=u.get(S);if(v){sg(t,n,v);return}var A=l?l(g,S,n+"",t,e,u):void 0,Y=A===void 0;if(Y){var X=Mt(S),M=!X&&lo(S),q=!X&&!M&&Va(S);A=S,X||M||q?Mt(g)?A=g:Ne(g)?A=Mn(g):M?(Y=!1,A=Dm(S,!0)):q?(Y=!1,A=Fm(S,!0)):A=[]:bl(S)||Go(S)?(A=g,Go(g)?A=a1(g):(!Ee(g)||Ir(g))&&(A=qm(S))):Y=!1}Y&&(u.set(S,A),a(A,S,i,l,u),u.delete(S)),sg(t,n,A)}function Rd(t,e,n,i,a){t!==e&&nc(e,function(l,u){if(a||(a=new Ii),Ee(l))qI(t,e,u,n,Rd,i,a);else{var g=i?i(lg(t,u),l,u+"",t,e,a):void 0;g===void 0&&(g=l),sg(t,u,g)}},Nn)}function s1(t,e,n,i,a,l){return Ee(t)&&Ee(e)&&(l.set(e,t),Rd(t,e,void 0,s1,l),l.delete(e)),t}var WI=ja(function(t,e,n,i){Rd(t,e,n,i)});const l1=WI;var zI=Ut(function(t){return t.push(void 0,s1),Jn(l1,void 0,t)});const UI=zI;var HI="Expected a function";function h1(t,e,n){if(typeof t!="function")throw new TypeError(HI);return setTimeout(function(){t.apply(void 0,n)},e)}var GI=Ut(function(t,e){return h1(t,1,e)});const jI=GI;var VI=Ut(function(t,e,n){return h1(t,ui(e)||0,n)});const ZI=VI;function oc(t,e,n){for(var i=-1,a=t==null?0:t.length;++i<a;)if(n(e,t[i]))return!0;return!1}var KI=200;function xl(t,e,n,i){var a=-1,l=yd,u=!0,g=t.length,S=[],v=e.length;if(!g)return S;n&&(e=Ae(e,Qn(n))),i?(l=oc,u=!1):e.length>=KI&&(l=hl,u=!1,e=new Vo(e));t:for(;++a<g;){var A=t[a],Y=n==null?A:n(A);if(A=i||A!==0?A:0,u&&Y===Y){for(var X=v;X--;)if(e[X]===Y)continue t;S.push(A)}else l(e,Y,i)||S.push(A)}return S}var JI=Ut(function(t,e){return Ne(t)?xl(t,tn(e,1,Ne,!0)):[]});const QI=JI;function ti(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var tT=Ut(function(t,e){var n=ti(e);return Ne(n)&&(n=void 0),Ne(t)?xl(t,tn(e,1,Ne,!0),$t(n)):[]});const eT=tT;var nT=Ut(function(t,e){var n=ti(e);return Ne(n)&&(n=void 0),Ne(t)?xl(t,tn(e,1,Ne,!0),void 0,n):[]});const iT=nT;var rT=kd(function(t,e){return t/e},1);const oT=rT;function aT(t,e,n){var i=t==null?0:t.length;return i?(e=n||e===void 0?1:Bt(e),wi(t,e<0?0:e,i)):[]}function sT(t,e,n){var i=t==null?0:t.length;return i?(e=n||e===void 0?1:Bt(e),e=i-e,wi(t,0,e<0?0:e)):[]}function Yd(t,e,n,i){for(var a=t.length,l=i?a:-1;(i?l--:++l<a)&&e(t[l],l,t););return n?wi(t,i?0:l,i?l+1:a):wi(t,i?l+1:0,i?a:l)}function lT(t,e){return t&&t.length?Yd(t,$t(e),!0,!0):[]}function hT(t,e){return t&&t.length?Yd(t,$t(e),!0):[]}function ir(t){return typeof t=="function"?t:xn}function u_(t,e){var n=Mt(t)?_i:wo;return n(t,ir(e))}function dT(t,e){for(var n=t==null?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}var uT=n1(!0);const d1=uT;function ac(t,e){return t&&d1(t,e,ze)}var fT=i1(ac,!0);const u1=fT;function f_(t,e){var n=Mt(t)?dT:u1;return n(t,ir(e))}function gT(t,e,n){t=ue(t),e=Kn(e);var i=t.length;n=n===void 0?i:ea(Bt(n),0,i);var a=n;return n-=e.length,n>=0&&t.slice(n,a)==e}function cT(t,e){return Ae(e,function(n){return[n,t[n]]})}function wT(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=[i,i]}),n}var pT="[object Map]",_T="[object Set]";function f1(t){return function(e){var n=Ki(e);return n==pT?Kg(e):n==_T?wT(e):cT(e,t(e))}}var mT=f1(ze);const g_=mT;var kT=f1(Nn);const c_=kT;var vT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bT=zg(vT);const yT=bT;var g1=/[&<>"']/g,xT=RegExp(g1.source);function c1(t){return t=ue(t),t&&xT.test(t)?t.replace(g1,yT):t}var w1=/[\\^$.*+?()[\]{}|]/g,ST=RegExp(w1.source);function CT(t){return t=ue(t),t&&ST.test(t)?t.replace(w1,"\\$&"):t}function p1(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function AT(t,e){var n=!0;return wo(t,function(i,a,l){return n=!!e(i,a,l),n}),n}function ET(t,e,n){var i=Mt(t)?p1:AT;return n&&bn(t,e,n)&&(e=void 0),i(t,$t(e))}var IT=4294967295;function _1(t){return t?ea(Bt(t),0,IT):0}function TT(t,e,n,i){var a=t.length;for(n=Bt(n),n<0&&(n=-n>a?0:a+n),i=i===void 0||i>a?a:Bt(i),i<0&&(i+=a),i=n>i?0:_1(i);n<i;)t[n++]=e;return t}function LT(t,e,n,i){var a=t==null?0:t.length;return a?(n&&typeof n!="number"&&bn(t,e,n)&&(n=0,i=a),TT(t,e,n,i)):[]}function m1(t,e){var n=[];return wo(t,function(i,a,l){e(i,a,l)&&n.push(i)}),n}function RT(t,e){var n=Mt(t)?co:m1;return n(t,$t(e))}function k1(t){return function(e,n,i){var a=Object(e);if(!Dn(e)){var l=$t(n);e=ze(e),n=function(g){return l(a[g],g,a)}}var u=t(e,n,i);return u>-1?a[l?e[u]:u]:void 0}}var YT=Math.max;function v1(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var a=n==null?0:Bt(n);return a<0&&(a=YT(i+a,0)),bd(t,$t(e),a)}var OT=k1(v1);const XT=OT;function b1(t,e,n){var i;return n(t,function(a,l,u){if(e(a,l,u))return i=l,!1}),i}function PT(t,e){return b1(t,$t(e),nr)}var $T=Math.max,MT=Math.min;function y1(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var a=i-1;return n!==void 0&&(a=Bt(n),a=n<0?$T(i+a,0):MT(a,i-1)),bd(t,$t(e),a,!0)}var DT=k1(y1);const NT=DT;function BT(t,e){return b1(t,$t(e),ac)}function w_(t){return t&&t.length?t[0]:void 0}function x1(t,e){var n=-1,i=Dn(t)?Array(t.length):[];return wo(t,function(a,l,u){i[++n]=e(a,l,u)}),i}function Od(t,e){var n=Mt(t)?Ae:x1;return n(t,$t(e))}function FT(t,e){return tn(Od(t,e),1)}var qT=1/0;function WT(t,e){return tn(Od(t,e),qT)}function zT(t,e,n){return n=n===void 0?1:Bt(n),tn(Od(t,e),n)}var UT=1/0;function HT(t){var e=t==null?0:t.length;return e?tn(t,UT):[]}function GT(t,e){var n=t==null?0:t.length;return n?(e=e===void 0?1:Bt(e),tn(t,e)):[]}var jT=512;function VT(t){return Lr(t,jT)}var ZT=Ug("floor");const KT=ZT;var JT="Expected a function",QT=8,t7=32,e7=128,n7=256;function S1(t){return Xr(function(e){var n=e.length,i=n,a=gi.prototype.thru;for(t&&e.reverse();i--;){var l=e[i];if(typeof l!="function")throw new TypeError(JT);if(a&&!u&&Qh(l)=="wrapper")var u=new gi([],!0)}for(i=u?i:n;++i<n;){l=e[i];var g=Qh(l),S=g=="wrapper"?Lg(l):void 0;S&&eg(S[0])&&S[1]==(e7|QT|t7|n7)&&!S[4].length&&S[9]==1?u=u[Qh(S[0])].apply(u,S[3]):u=l.length==1&&eg(l)?u[g]():u.thru(l)}return function(){var v=arguments,A=v[0];if(u&&v.length==1&&Mt(A))return u.plant(A).value();for(var Y=0,X=n?e[Y].apply(this,v):A;++Y<n;)X=e[Y].call(this,X);return X}})}var i7=S1();const r7=i7;var o7=S1(!0);const a7=o7;function s7(t,e){return t==null?t:nc(t,ir(e),Nn)}function l7(t,e){return t==null?t:d1(t,ir(e),Nn)}function h7(t,e){return t&&nr(t,ir(e))}function d7(t,e){return t&&ac(t,ir(e))}function u7(t){for(var e=-1,n=t==null?0:t.length,i={};++e<n;){var a=t[e];i[a[0]]=a[1]}return i}function Xd(t,e){return co(e,function(n){return Ir(t[n])})}function f7(t){return t==null?[]:Xd(t,ze(t))}function g7(t){return t==null?[]:Xd(t,Nn(t))}var c7=Object.prototype,w7=c7.hasOwnProperty,p7=Ld(function(t,e,n){w7.call(t,n)?t[n].push(e):Rr(t,n,[e])});const _7=p7;function sc(t,e){return t>e}function Pd(t){return function(e,n){return typeof e=="string"&&typeof n=="string"||(e=ui(e),n=ui(n)),t(e,n)}}var m7=Pd(sc);const k7=m7;var v7=Pd(function(t,e){return t>=e});const b7=v7;var y7=Object.prototype,x7=y7.hasOwnProperty;function S7(t,e){return t!=null&&x7.call(t,e)}function C7(t,e){return t!=null&&Jm(t,e,S7)}var A7=Math.max,E7=Math.min;function I7(t,e,n){return t>=E7(e,n)&&t<A7(e,n)}function T7(t,e,n){return e=Er(e),n===void 0?(n=e,e=0):n=Er(n),t=ui(t),I7(t,e,n)}var L7="[object String]";function $d(t){return typeof t=="string"||!Mt(t)&&Ye(t)&&yn(t)==L7}function lc(t,e){return Ae(e,function(n){return t[n]})}function Ja(t){return t==null?[]:lc(t,ze(t))}var R7=Math.max;function Y7(t,e,n,i){t=Dn(t)?t:Ja(t),n=n&&!i?Bt(n):0;var a=t.length;return n<0&&(n=R7(a+n,0)),$d(t)?n<=a&&t.indexOf(e,n)>-1:!!a&&Ha(t,e,n)>-1}var O7=Math.max;function X7(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var a=n==null?0:Bt(n);return a<0&&(a=O7(i+a,0)),Ha(t,e,a)}function P7(t){var e=t==null?0:t.length;return e?wi(t,0,-1):[]}var $7=Math.min;function hc(t,e,n){for(var i=n?oc:yd,a=t[0].length,l=t.length,u=l,g=Array(l),S=1/0,v=[];u--;){var A=t[u];u&&e&&(A=Ae(A,Qn(e))),S=$7(A.length,S),g[u]=!n&&(e||a>=120&&A.length>=120)?new Vo(u&&A):void 0}A=t[0];var Y=-1,X=g[0];t:for(;++Y<a&&v.length<S;){var M=A[Y],q=e?e(M):M;if(M=n||M!==0?M:0,!(X?hl(X,q):i(v,q,n))){for(u=l;--u;){var j=g[u];if(!(j?hl(j,q):i(t[u],q,n)))continue t}X&&X.push(q),v.push(M)}}return v}function dc(t){return Ne(t)?t:[]}var M7=Ut(function(t){var e=Ae(t,dc);return e.length&&e[0]===t[0]?hc(e):[]});const D7=M7;var N7=Ut(function(t){var e=ti(t),n=Ae(t,dc);return e===ti(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?hc(n,$t(e)):[]});const B7=N7;var F7=Ut(function(t){var e=ti(t),n=Ae(t,dc);return e=typeof e=="function"?e:void 0,e&&n.pop(),n.length&&n[0]===t[0]?hc(n,void 0,e):[]});const q7=F7;function W7(t,e,n,i){return nr(t,function(a,l,u){e(i,n(a),l,u)}),i}function C1(t,e){return function(n,i){return W7(n,t,e(i),{})}}var z7=Object.prototype,U7=z7.toString,H7=C1(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=U7.call(e)),t[e]=n},Rg(xn));const G7=H7;var A1=Object.prototype,j7=A1.hasOwnProperty,V7=A1.toString,Z7=C1(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=V7.call(e)),j7.call(t,e)?t[e].push(n):t[e]=[n]},$t);const K7=Z7;function E1(t,e){return e.length<2?t:ta(t,wi(e,0,-1))}function Sl(t,e,n){e=uo(e,t),t=E1(t,e);var i=t==null?t:t[er(ti(e))];return i==null?void 0:Jn(i,t,n)}var J7=Ut(Sl);const Q7=J7;var tL=Ut(function(t,e,n){var i=-1,a=typeof e=="function",l=Dn(t)?Array(t.length):[];return wo(t,function(u){l[++i]=a?Jn(e,u,n):Sl(u,e,n)}),l});const eL=tL;var nL="[object ArrayBuffer]";function iL(t){return Ye(t)&&yn(t)==nL}var p_=ci&&ci.isArrayBuffer,rL=p_?Qn(p_):iL;const oL=rL;var aL="[object Boolean]";function sL(t){return t===!0||t===!1||Ye(t)&&yn(t)==aL}var lL="[object Date]";function hL(t){return Ye(t)&&yn(t)==lL}var __=ci&&ci.isDate,dL=__?Qn(__):hL;const uL=dL;function fL(t){return Ye(t)&&t.nodeType===1&&!bl(t)}var gL="[object Map]",cL="[object Set]",wL=Object.prototype,pL=wL.hasOwnProperty;function _L(t){if(t==null)return!0;if(Dn(t)&&(Mt(t)||typeof t=="string"||typeof t.splice=="function"||lo(t)||Va(t)||Go(t)))return!t.length;var e=Ki(t);if(e==gL||e==cL)return!t.size;if(vl(t))return!Pg(t).length;for(var n in t)if(pL.call(t,n))return!1;return!0}function mL(t,e){return yl(t,e)}function kL(t,e,n){n=typeof n=="function"?n:void 0;var i=n?n(t,e):void 0;return i===void 0?yl(t,e,void 0,n):!!i}var vL=Ze.isFinite;function bL(t){return typeof t=="number"&&vL(t)}function I1(t){return typeof t=="number"&&t==Bt(t)}function yL(t,e){return t===e||Jg(t,e,Qg(e))}function xL(t,e,n){return n=typeof n=="function"?n:void 0,Jg(t,e,Qg(e),n)}var SL="[object Number]";function T1(t){return typeof t=="number"||Ye(t)&&yn(t)==SL}function CL(t){return T1(t)&&t!=+t}var AL=Jh?Ir:Xg;const EL=AL;var IL="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function TL(t){if(EL(t))throw new Error(IL);return W0(t)}function LL(t){return t==null}function RL(t){return t===null}var YL="[object RegExp]";function OL(t){return Ye(t)&&yn(t)==YL}var m_=ci&&ci.isRegExp,XL=m_?Qn(m_):OL;const uc=XL;var k_=9007199254740991;function PL(t){return I1(t)&&t>=-k_&&t<=k_}function $L(t){return t===void 0}var ML="[object WeakMap]";function DL(t){return Ye(t)&&Ki(t)==ML}var NL="[object WeakSet]";function BL(t){return Ye(t)&&yn(t)==NL}var FL=1;function qL(t){return $t(typeof t=="function"?t:fi(t,FL))}var WL=Array.prototype,zL=WL.join;function UL(t,e){return t==null?"":zL.call(t,e)}var HL=Ka(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()});const GL=HL;var jL=Ld(function(t,e,n){Rr(t,n,e)});const VL=jL;function ZL(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}var KL=Math.max,JL=Math.min;function QL(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var a=i;return n!==void 0&&(a=Bt(n),a=a<0?KL(i+a,0):JL(a,i-1)),e===e?ZL(t,e,a):bd(t,Z0,a,!0)}var tR=Ka(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()});const eR=tR;var nR=mm("toLowerCase");const iR=nR;function fc(t,e){return t<e}var rR=Pd(fc);const oR=rR;var aR=Pd(function(t,e){return t<=e});const sR=aR;function lR(t,e){var n={};return e=$t(e),nr(t,function(i,a,l){Rr(n,e(i,a,l),i)}),n}function hR(t,e){var n={};return e=$t(e),nr(t,function(i,a,l){Rr(n,a,e(i,a,l))}),n}var dR=1;function uR(t){return Km(fi(t,dR))}var fR=1;function gR(t,e){return Qm(t,fi(e,fR))}function Md(t,e,n){for(var i=-1,a=t.length;++i<a;){var l=t[i],u=e(l);if(u!=null&&(g===void 0?u===u&&!Zn(u):n(u,g)))var g=u,S=l}return S}function cR(t){return t&&t.length?Md(t,xn,sc):void 0}function wR(t,e){return t&&t.length?Md(t,$t(e),sc):void 0}function gc(t,e){for(var n,i=-1,a=t.length;++i<a;){var l=e(t[i]);l!==void 0&&(n=n===void 0?l:n+l)}return n}var pR=0/0;function L1(t,e){var n=t==null?0:t.length;return n?gc(t,e)/n:pR}function _R(t){return L1(t,xn)}function mR(t,e){return L1(t,$t(e))}var kR=ja(function(t,e,n){Rd(t,e,n)});const vR=kR;var bR=Ut(function(t,e){return function(n){return Sl(n,t,e)}});const yR=bR;var xR=Ut(function(t,e){return function(n){return Sl(t,n,e)}});const SR=xR;function CR(t){return t&&t.length?Md(t,xn,fc):void 0}function AR(t,e){return t&&t.length?Md(t,$t(e),fc):void 0}function R1(t,e,n){var i=ze(e),a=Xd(e,i),l=!(Ee(n)&&"chain"in n)||!!n.chain,u=Ir(t);return _i(a,function(g){var S=e[g];t[g]=S,u&&(t.prototype[g]=function(){var v=this.__chain__;if(l||v){var A=t(this.__wrapped__),Y=A.__actions__=Mn(this.__actions__);return Y.push({func:S,args:arguments,thisArg:t}),A.__chain__=v,A}return S.apply(t,fo([this.value()],arguments))})}),t}var ER=kd(function(t,e){return t*e},1);const IR=ER;var TR="Expected a function";function Cl(t){if(typeof t!="function")throw new TypeError(TR);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function LR(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}var RR="[object Map]",YR="[object Set]",If=un?un.iterator:void 0;function Y1(t){if(!t)return[];if(Dn(t))return $d(t)?Li(t):Mn(t);if(If&&t[If])return LR(t[If]());var e=Ki(t),n=e==RR?Kg:e==YR?Td:Ja;return n(t)}function OR(){this.__values__===void 0&&(this.__values__=Y1(this.value()));var t=this.__index__>=this.__values__.length,e=t?void 0:this.__values__[this.__index__++];return{done:t,value:e}}function O1(t,e){var n=t.length;if(n)return e+=e<0?n:0,Tr(e,n)?t[e]:void 0}function XR(t,e){return t&&t.length?O1(t,Bt(e)):void 0}function PR(t){return t=Bt(t),Ut(function(e){return O1(e,t)})}function cc(t,e){return e=uo(e,t),t=E1(t,e),t==null||delete t[er(ti(e))]}function $R(t){return bl(t)?void 0:t}var MR=1,DR=2,NR=4,BR=Xr(function(t,e){var n={};if(t==null)return n;var i=!1;e=Ae(e,function(l){return l=uo(l,t),i||(i=l.length>1),l}),tr(t,jg(t),n),i&&(n=fi(n,MR|DR|NR,$R));for(var a=e.length;a--;)cc(n,e[a]);return n});const FR=BR;function Al(t,e,n,i){if(!Ee(t))return t;e=uo(e,t);for(var a=-1,l=e.length,u=l-1,g=t;g!=null&&++a<l;){var S=er(e[a]),v=n;if(S==="__proto__"||S==="constructor"||S==="prototype")return t;if(a!=u){var A=g[S];v=i?i(A,S,g):void 0,v===void 0&&(v=Ee(A)?A:Tr(e[a+1])?[]:{})}kl(g,S,v),g=g[S]}return t}function X1(t,e,n){for(var i=-1,a=e.length,l={};++i<a;){var u=e[i],g=ta(t,u);n(g,u)&&Al(l,uo(u,t),g)}return l}function P1(t,e){if(t==null)return{};var n=Ae(jg(t),function(i){return[i]});return e=$t(e),X1(t,n,function(i,a){return e(i,a[0])})}function qR(t,e){return P1(t,Cl($t(e)))}function WR(t){return dm(2,t)}function zR(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function $1(t,e){if(t!==e){var n=t!==void 0,i=t===null,a=t===t,l=Zn(t),u=e!==void 0,g=e===null,S=e===e,v=Zn(e);if(!g&&!v&&!l&&t>e||l&&u&&S&&!g&&!v||i&&u&&S||!n&&S||!a)return 1;if(!i&&!l&&!v&&t<e||v&&n&&a&&!i&&!l||g&&n&&a||!u&&a||!S)return-1}return 0}function UR(t,e,n){for(var i=-1,a=t.criteria,l=e.criteria,u=a.length,g=n.length;++i<u;){var S=$1(a[i],l[i]);if(S){if(i>=g)return S;var v=n[i];return S*(v=="desc"?-1:1)}}return t.index-e.index}function M1(t,e,n){e.length?e=Ae(e,function(l){return Mt(l)?function(u){return ta(u,l.length===1?l[0]:l)}:l}):e=[xn];var i=-1;e=Ae(e,Qn($t));var a=x1(t,function(l,u,g){var S=Ae(e,function(v){return v(l)});return{criteria:S,index:++i,value:l}});return zR(a,function(l,u){return UR(l,u,n)})}function HR(t,e,n,i){return t==null?[]:(Mt(e)||(e=e==null?[]:[e]),n=i?void 0:n,Mt(n)||(n=n==null?[]:[n]),M1(t,e,n))}function wc(t){return Xr(function(e){return e=Ae(e,Qn($t)),Ut(function(n){var i=this;return t(e,function(a){return Jn(a,i,n)})})})}var GR=wc(Ae);const jR=GR;var VR=Ut;const ZR=VR;var KR=Math.min,JR=ZR(function(t,e){e=e.length==1&&Mt(e[0])?Ae(e[0],Qn($t)):Ae(tn(e,1),Qn($t));var n=e.length;return Ut(function(i){for(var a=-1,l=KR(i.length,n);++a<l;)i[a]=e[a].call(this,i[a]);return Jn(t,this,i)})});const QR=JR;var tY=wc(p1);const eY=tY;var nY=wc(Zg);const iY=nY;var rY=9007199254740991,oY=Math.floor;function hg(t,e){var n="";if(!t||e<1||e>rY)return n;do e%2&&(n+=t),e=oY(e/2),e&&(t+=t);while(e);return n}var aY=ec("length");const sY=aY;var D1="\\ud800-\\udfff",lY="\\u0300-\\u036f",hY="\\ufe20-\\ufe2f",dY="\\u20d0-\\u20ff",uY=lY+hY+dY,fY="\\ufe0e\\ufe0f",gY="["+D1+"]",dg="["+uY+"]",ug="\\ud83c[\\udffb-\\udfff]",cY="(?:"+dg+"|"+ug+")",N1="[^"+D1+"]",B1="(?:\\ud83c[\\udde6-\\uddff]){2}",F1="[\\ud800-\\udbff][\\udc00-\\udfff]",wY="\\u200d",q1=cY+"?",W1="["+fY+"]?",pY="(?:"+wY+"(?:"+[N1,B1,F1].join("|")+")"+W1+q1+")*",_Y=W1+q1+pY,mY="(?:"+[N1+dg+"?",dg,B1,F1,gY].join("|")+")",v_=RegExp(ug+"(?="+ug+")|"+mY+_Y,"g");function kY(t){for(var e=v_.lastIndex=0;v_.test(t);)++e;return e}function Qa(t){return Za(t)?kY(t):sY(t)}var vY=Math.ceil;function wd(t,e){e=e===void 0?" ":Kn(e);var n=e.length;if(n<2)return n?hg(e,t):e;var i=hg(e,vY(t/Qa(e)));return Za(e)?go(Li(i),0,t).join(""):i.slice(0,t)}var bY=Math.ceil,yY=Math.floor;function xY(t,e,n){t=ue(t),e=Bt(e);var i=e?Qa(t):0;if(!e||i>=e)return t;var a=(e-i)/2;return wd(yY(a),n)+t+wd(bY(a),n)}function SY(t,e,n){t=ue(t),e=Bt(e);var i=e?Qa(t):0;return e&&i<e?t+wd(e-i,n):t}function CY(t,e,n){t=ue(t),e=Bt(e);var i=e?Qa(t):0;return e&&i<e?wd(e-i,n)+t:t}var AY=/^\s+/,EY=Ze.parseInt;function IY(t,e,n){return n||e==null?e=0:e&&(e=+e),EY(ue(t).replace(AY,""),e||0)}var TY=32,pc=Ut(function(t,e){var n=so(e,Ga(pc));return Lr(t,TY,void 0,e,n)});pc.placeholder={};const z1=pc;var LY=64,_c=Ut(function(t,e){var n=so(e,Ga(_c));return Lr(t,LY,void 0,e,n)});_c.placeholder={};const RY=_c;var YY=Ld(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});const OY=YY;function XY(t,e){return X1(t,e,function(n,i){return tc(t,i)})}var PY=Xr(function(t,e){return t==null?{}:XY(t,e)});const $Y=PY;function MY(t){for(var e,n=this;n instanceof vd;){var i=G0(n);i.__index__=0,i.__values__=void 0,e?a.__wrapped__=i:e=i;var a=i;n=n.__wrapped__}return a.__wrapped__=t,e}function DY(t){return function(e){return t==null?void 0:ta(t,e)}}function NY(t,e,n,i){for(var a=n-1,l=t.length;++a<l;)if(i(t[a],e))return a;return-1}var BY=Array.prototype,b_=BY.splice;function mc(t,e,n,i){var a=i?NY:Ha,l=-1,u=e.length,g=t;for(t===e&&(e=Mn(e)),n&&(g=Ae(t,Qn(n)));++l<u;)for(var S=0,v=e[l],A=n?n(v):v;(S=a(g,A,S,i))>-1;)g!==t&&b_.call(g,S,1),b_.call(t,S,1);return t}function U1(t,e){return t&&t.length&&e&&e.length?mc(t,e):t}var FY=Ut(U1);const qY=FY;function WY(t,e,n){return t&&t.length&&e&&e.length?mc(t,e,$t(n)):t}function zY(t,e,n){return t&&t.length&&e&&e.length?mc(t,e,void 0,n):t}var UY=Array.prototype,HY=UY.splice;function H1(t,e){for(var n=t?e.length:0,i=n-1;n--;){var a=e[n];if(n==i||a!==l){var l=a;Tr(a)?HY.call(t,a,1):cc(t,a)}}return t}var GY=Xr(function(t,e){var n=t==null?0:t.length,i=Dg(t,e);return H1(t,Ae(e,function(a){return Tr(a,n)?+a:a}).sort($1)),i});const jY=GY;var VY=Math.floor,ZY=Math.random;function kc(t,e){return t+VY(ZY()*(e-t+1))}var KY=parseFloat,JY=Math.min,QY=Math.random;function tO(t,e,n){if(n&&typeof n!="boolean"&&bn(t,e,n)&&(e=n=void 0),n===void 0&&(typeof e=="boolean"?(n=e,e=void 0):typeof t=="boolean"&&(n=t,t=void 0)),t===void 0&&e===void 0?(t=0,e=1):(t=Er(t),e===void 0?(e=t,t=0):e=Er(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var a=QY();return JY(t+a*(e-t+KY("1e-"+((a+"").length-1))),e)}return kc(t,e)}var eO=Math.ceil,nO=Math.max;function iO(t,e,n,i){for(var a=-1,l=nO(eO((e-t)/(n||1)),0),u=Array(l);l--;)u[i?l:++a]=t,t+=n;return u}function G1(t){return function(e,n,i){return i&&typeof i!="number"&&bn(e,n,i)&&(n=i=void 0),e=Er(e),n===void 0?(n=e,e=0):n=Er(n),i=i===void 0?e<n?1:-1:Er(i),iO(e,n,i,t)}}var rO=G1();const oO=rO;var aO=G1(!0);const sO=aO;var lO=256,hO=Xr(function(t,e){return Lr(t,lO,void 0,void 0,void 0,e)});const dO=hO;function j1(t,e,n,i,a){return a(t,function(l,u,g){n=i?(i=!1,l):e(n,l,u,g)}),n}function uO(t,e,n){var i=Mt(t)?Wg:j1,a=arguments.length<3;return i(t,$t(e),n,a,wo)}function fO(t,e,n,i){var a=t==null?0:t.length;for(i&&a&&(n=t[--a]);a--;)n=e(n,t[a],a,t);return n}function gO(t,e,n){var i=Mt(t)?fO:j1,a=arguments.length<3;return i(t,$t(e),n,a,u1)}function cO(t,e){var n=Mt(t)?co:m1;return n(t,Cl($t(e)))}function wO(t,e){var n=[];if(!(t&&t.length))return n;var i=-1,a=[],l=t.length;for(e=$t(e);++i<l;){var u=t[i];e(u,i,t)&&(n.push(u),a.push(i))}return H1(t,a),n}function pO(t,e,n){return(n?bn(t,e,n):e===void 0)?e=1:e=Bt(e),hg(ue(t),e)}function _O(){var t=arguments,e=ue(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var mO="Expected a function";function kO(t,e){if(typeof t!="function")throw new TypeError(mO);return e=e===void 0?e:Bt(e),Ut(t,e)}function vO(t,e,n){e=uo(e,t);var i=-1,a=e.length;for(a||(a=1,t=void 0);++i<a;){var l=t==null?void 0:t[er(e[i])];l===void 0&&(i=a,l=n),t=Ir(l)?l.call(t):l}return t}var bO=Array.prototype,yO=bO.reverse;function fg(t){return t==null?t:yO.call(t)}var xO=Ug("round");const SO=xO;function V1(t){var e=t.length;return e?t[kc(0,e-1)]:void 0}function CO(t){return V1(Ja(t))}function AO(t){var e=Mt(t)?V1:CO;return e(t)}function Dd(t,e){var n=-1,i=t.length,a=i-1;for(e=e===void 0?i:e;++n<e;){var l=kc(n,a),u=t[l];t[l]=t[n],t[n]=u}return t.length=e,t}function EO(t,e){return Dd(Mn(t),ea(e,0,t.length))}function IO(t,e){var n=Ja(t);return Dd(n,ea(e,0,n.length))}function TO(t,e,n){(n?bn(t,e,n):e===void 0)?e=1:e=Bt(e);var i=Mt(t)?EO:IO;return i(t,e)}function LO(t,e,n){return t==null?t:Al(t,e,n)}function RO(t,e,n,i){return i=typeof i=="function"?i:void 0,t==null?t:Al(t,e,n,i)}function YO(t){return Dd(Mn(t))}function OO(t){return Dd(Ja(t))}function XO(t){var e=Mt(t)?YO:OO;return e(t)}var PO="[object Map]",$O="[object Set]";function MO(t){if(t==null)return 0;if(Dn(t))return $d(t)?Qa(t):t.length;var e=Ki(t);return e==PO||e==$O?t.size:Pg(t).length}function DO(t,e,n){var i=t==null?0:t.length;return i?(n&&typeof n!="number"&&bn(t,e,n)?(e=0,n=i):(e=e==null?0:Bt(e),n=n===void 0?i:Bt(n)),wi(t,e,n)):[]}var NO=Ka(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});const BO=NO;function FO(t,e){var n;return wo(t,function(i,a,l){return n=e(i,a,l),!n}),!!n}function qO(t,e,n){var i=Mt(t)?Zg:FO;return n&&bn(t,e,n)&&(e=void 0),i(t,$t(e))}var WO=Ut(function(t,e){if(t==null)return[];var n=e.length;return n>1&&bn(t,e[0],e[1])?e=[]:n>2&&bn(e[0],e[1],e[2])&&(e=[e[0]]),M1(t,tn(e,1),[])});const zO=WO;var UO=4294967295,HO=UO-1,GO=Math.floor,jO=Math.min;function vc(t,e,n,i){var a=0,l=t==null?0:t.length;if(l===0)return 0;e=n(e);for(var u=e!==e,g=e===null,S=Zn(e),v=e===void 0;a<l;){var A=GO((a+l)/2),Y=n(t[A]),X=Y!==void 0,M=Y===null,q=Y===Y,j=Zn(Y);if(u)var et=i||q;else v?et=q&&(i||X):g?et=q&&X&&(i||!M):S?et=q&&X&&!M&&(i||!j):M||j?et=!1:et=i?Y<=e:Y<e;et?a=A+1:l=A}return jO(l,HO)}var VO=4294967295,ZO=VO>>>1;function Nd(t,e,n){var i=0,a=t==null?i:t.length;if(typeof e=="number"&&e===e&&a<=ZO){for(;i<a;){var l=i+a>>>1,u=t[l];u!==null&&!Zn(u)&&(n?u<=e:u<e)?i=l+1:a=l}return a}return vc(t,e,xn,n)}function KO(t,e){return Nd(t,e)}function JO(t,e,n){return vc(t,e,$t(n))}function QO(t,e){var n=t==null?0:t.length;if(n){var i=Nd(t,e);if(i<n&&Ri(t[i],e))return i}return-1}function tX(t,e){return Nd(t,e,!0)}function eX(t,e,n){return vc(t,e,$t(n),!0)}function nX(t,e){var n=t==null?0:t.length;if(n){var i=Nd(t,e,!0)-1;if(Ri(t[i],e))return i}return-1}function Z1(t,e){for(var n=-1,i=t.length,a=0,l=[];++n<i;){var u=t[n],g=e?e(u):u;if(!n||!Ri(g,S)){var S=g;l[a++]=u===0?0:u}}return l}function iX(t){return t&&t.length?Z1(t):[]}function rX(t,e){return t&&t.length?Z1(t,$t(e)):[]}var oX=4294967295;function aX(t,e,n){return n&&typeof n!="number"&&bn(t,e,n)&&(e=n=void 0),n=n===void 0?oX:n>>>0,n?(t=ue(t),t&&(typeof e=="string"||e!=null&&!uc(e))&&(e=Kn(e),!e&&Za(t))?go(Li(t),0,n):t.split(e,n)):[]}var sX="Expected a function",lX=Math.max;function hX(t,e){if(typeof t!="function")throw new TypeError(sX);return e=e==null?0:lX(Bt(e),0),Ut(function(n){var i=n[e],a=go(n,0,e);return i&&fo(a,i),Jn(t,this,a)})}var dX=Ka(function(t,e,n){return t+(n?" ":"")+qg(e)});const uX=dX;function fX(t,e,n){return t=ue(t),n=n==null?0:ea(Bt(n),0,t.length),e=Kn(e),t.slice(n,n+e.length)==e}function gX(){return{}}function cX(){return""}function wX(){return!0}var pX=kd(function(t,e){return t-e},0);const _X=pX;function mX(t){return t&&t.length?gc(t,xn):0}function kX(t,e){return t&&t.length?gc(t,$t(e)):0}function vX(t){var e=t==null?0:t.length;return e?wi(t,1,e):[]}function bX(t,e,n){return t&&t.length?(e=n||e===void 0?1:Bt(e),wi(t,0,e<0?0:e)):[]}function yX(t,e,n){var i=t==null?0:t.length;return i?(e=n||e===void 0?1:Bt(e),e=i-e,wi(t,e<0?0:e,i)):[]}function xX(t,e){return t&&t.length?Yd(t,$t(e),!1,!0):[]}function SX(t,e){return t&&t.length?Yd(t,$t(e)):[]}function CX(t,e){return e(t),t}var K1=Object.prototype,AX=K1.hasOwnProperty;function y_(t,e,n,i){return t===void 0||Ri(t,K1[n])&&!AX.call(i,n)?e:t}var EX={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function IX(t){return"\\"+EX[t]}var TX=/<%=([\s\S]+?)%>/g;const J1=TX;var LX=/<%-([\s\S]+?)%>/g;const RX=LX;var YX=/<%([\s\S]+?)%>/g;const OX=YX;var XX={escape:RX,evaluate:OX,interpolate:J1,variable:"",imports:{_:{escape:c1}}};const gg=XX;var PX="Invalid `variable` option passed into `_.template`",$X=/\b__p \+= '';/g,MX=/\b(__p \+=) '' \+/g,DX=/(__e\(.*?\)|\b__t\)) \+\n'';/g,NX=/[()=,{}\[\]\/\s]/,BX=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Nh=/($^)/,FX=/['\n\r\u2028\u2029\\]/g,qX=Object.prototype,x_=qX.hasOwnProperty;function WX(t,e,n){var i=gg.imports._.templateSettings||gg;n&&bn(t,e,n)&&(e=void 0),t=ue(t),e=gd({},e,i,y_);var a=gd({},e.imports,i.imports,y_),l=ze(a),u=lc(a,l),g,S,v=0,A=e.interpolate||Nh,Y="__p += '",X=RegExp((e.escape||Nh).source+"|"+A.source+"|"+(A===J1?BX:Nh).source+"|"+(e.evaluate||Nh).source+"|$","g"),M=x_.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+`
`:"";t.replace(X,function(et,V,dt,lt,nt,ut){return dt||(dt=lt),Y+=t.slice(v,ut).replace(FX,IX),V&&(g=!0,Y+=`' +
__e(`+V+`) +
'`),nt&&(S=!0,Y+=`';
`+nt+`;
__p += '`),dt&&(Y+=`' +
((__t = (`+dt+`)) == null ? '' : __t) +
'`),v=ut+et.length,et}),Y+=`';
`;var q=x_.call(e,"variable")&&e.variable;if(!q)Y=`with (obj) {
`+Y+`
}
`;else if(NX.test(q))throw new Error(PX);Y=(S?Y.replace($X,""):Y).replace(MX,"$1").replace(DX,"$1;"),Y="function("+(q||"obj")+`) {
`+(q?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(g?", __e = _.escape":"")+(S?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Y+`return __p
}`;var j=hm(function(){return Function(l,M+"return "+Y).apply(void 0,u)});if(j.source=Y,Ng(j))throw j;return j}var zX="Expected a function";function UX(t,e,n){var i=!0,a=!0;if(typeof t!="function")throw new TypeError(zX);return Ee(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r1(t,e,{leading:i,maxWait:e,trailing:a})}function El(t,e){return e(t)}var HX=9007199254740991,Tf=4294967295,GX=Math.min;function jX(t,e){if(t=Bt(t),t<1||t>HX)return[];var n=Tf,i=GX(t,Tf);e=ir(e),t-=Tf;for(var a=Og(i,e);++n<t;)e(n);return a}function VX(){return this}function Q1(t,e){var n=t;return n instanceof Jt&&(n=n.value()),Wg(e,function(i,a){return a.func.apply(a.thisArg,fo([i],a.args))},n)}function Lf(){return Q1(this.__wrapped__,this.__actions__)}function ZX(t){return ue(t).toLowerCase()}function KX(t){return Mt(t)?Ae(t,er):Zn(t)?[t]:Mn(am(ue(t)))}var S_=9007199254740991;function JX(t){return t?ea(Bt(t),-S_,S_):t===0?t:0}function QX(t){return ue(t).toUpperCase()}function tP(t,e,n){var i=Mt(t),a=i||lo(t)||Va(t);if(e=$t(e),n==null){var l=t&&t.constructor;a?n=i?new l:[]:Ee(t)?n=Ir(l)?Ua(Id(t)):{}:n={}}return(a?_i:nr)(t,function(u,g,S){return e(n,u,g,S)}),n}function t2(t,e){for(var n=t.length;n--&&Ha(e,t[n],0)>-1;);return n}function e2(t,e){for(var n=-1,i=t.length;++n<i&&Ha(e,t[n],0)>-1;);return n}function eP(t,e,n){if(t=ue(t),t&&(n||e===void 0))return q0(t);if(!t||!(e=Kn(e)))return t;var i=Li(t),a=Li(e),l=e2(i,a),u=t2(i,a)+1;return go(i,l,u).join("")}function nP(t,e,n){if(t=ue(t),t&&(n||e===void 0))return t.slice(0,F0(t)+1);if(!t||!(e=Kn(e)))return t;var i=Li(t),a=t2(i,Li(e))+1;return go(i,0,a).join("")}var iP=/^\s+/;function rP(t,e,n){if(t=ue(t),t&&(n||e===void 0))return t.replace(iP,"");if(!t||!(e=Kn(e)))return t;var i=Li(t),a=e2(i,Li(e));return go(i,a).join("")}var oP=30,aP="...",sP=/\w*$/;function lP(t,e){var n=oP,i=aP;if(Ee(e)){var a="separator"in e?e.separator:a;n="length"in e?Bt(e.length):n,i="omission"in e?Kn(e.omission):i}t=ue(t);var l=t.length;if(Za(t)){var u=Li(t);l=u.length}if(n>=l)return t;var g=n-Qa(i);if(g<1)return i;var S=u?go(u,0,g).join(""):t.slice(0,g);if(a===void 0)return S+i;if(u&&(g+=S.length-g),uc(a)){if(t.slice(g).search(a)){var v,A=S;for(a.global||(a=RegExp(a.source,ue(sP.exec(a))+"g")),a.lastIndex=0;v=a.exec(A);)var Y=v.index;S=S.slice(0,Y===void 0?g:Y)}}else if(t.indexOf(Kn(a),g)!=g){var X=S.lastIndexOf(a);X>-1&&(S=S.slice(0,X))}return S+i}function hP(t){return Q0(t,1)}var dP={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},uP=zg(dP);const fP=uP;var n2=/&(?:amp|lt|gt|quot|#39);/g,gP=RegExp(n2.source);function cP(t){return t=ue(t),t&&gP.test(t)?t.replace(n2,fP):t}var wP=1/0,pP=Na&&1/Td(new Na([,-0]))[1]==wP?function(t){return new Na(t)}:Tg;const _P=pP;var mP=200;function ho(t,e,n){var i=-1,a=yd,l=t.length,u=!0,g=[],S=g;if(n)u=!1,a=oc;else if(l>=mP){var v=e?null:_P(t);if(v)return Td(v);u=!1,a=hl,S=new Vo}else S=e?[]:g;t:for(;++i<l;){var A=t[i],Y=e?e(A):A;if(A=n||A!==0?A:0,u&&Y===Y){for(var X=S.length;X--;)if(S[X]===Y)continue t;e&&S.push(Y),g.push(A)}else a(S,Y,n)||(S!==g&&S.push(Y),g.push(A))}return g}var kP=Ut(function(t){return ho(tn(t,1,Ne,!0))});const vP=kP;var bP=Ut(function(t){var e=ti(t);return Ne(e)&&(e=void 0),ho(tn(t,1,Ne,!0),$t(e))});const yP=bP;var xP=Ut(function(t){var e=ti(t);return e=typeof e=="function"?e:void 0,ho(tn(t,1,Ne,!0),void 0,e)});const SP=xP;function CP(t){return t&&t.length?ho(t):[]}function AP(t,e){return t&&t.length?ho(t,$t(e)):[]}function EP(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?ho(t,void 0,e):[]}var IP=0;function TP(t){var e=++IP;return ue(t)+e}function LP(t,e){return t==null?!0:cc(t,e)}var RP=Math.max;function bc(t){if(!(t&&t.length))return[];var e=0;return t=co(t,function(n){if(Ne(n))return e=RP(n.length,e),!0}),Og(e,function(n){return Ae(t,ec(n))})}function i2(t,e){if(!(t&&t.length))return[];var n=bc(t);return e==null?n:Ae(n,function(i){return Jn(e,void 0,i)})}function r2(t,e,n,i){return Al(t,e,n(ta(t,e)),i)}function YP(t,e,n){return t==null?t:r2(t,e,ir(n))}function OP(t,e,n,i){return i=typeof i=="function"?i:void 0,t==null?t:r2(t,e,ir(n),i)}var XP=Ka(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()});const PP=XP;function $P(t){return t==null?[]:lc(t,Nn(t))}var MP=Ut(function(t,e){return Ne(t)?xl(t,e):[]});const DP=MP;function NP(t,e){return z1(ir(e),t)}var BP=Xr(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,a=function(l){return Dg(l,t)};return e>1||this.__actions__.length||!(i instanceof Jt)||!Tr(n)?this.thru(a):(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:El,args:[a],thisArg:void 0}),new gi(i,this.__chain__).thru(function(l){return e&&!l.length&&l.push(void 0),l}))});const FP=BP;function qP(){return Pm(this)}function WP(){var t=this.__wrapped__;if(t instanceof Jt){var e=t;return this.__actions__.length&&(e=new Jt(this)),e=e.reverse(),e.__actions__.push({func:El,args:[fg],thisArg:void 0}),new gi(e,this.__chain__)}return this.thru(fg)}function yc(t,e,n){var i=t.length;if(i<2)return i?ho(t[0]):[];for(var a=-1,l=Array(i);++a<i;)for(var u=t[a],g=-1;++g<i;)g!=a&&(l[a]=xl(l[a]||u,t[g],e,n));return ho(tn(l,1),e,n)}var zP=Ut(function(t){return yc(co(t,Ne))});const UP=zP;var HP=Ut(function(t){var e=ti(t);return Ne(e)&&(e=void 0),yc(co(t,Ne),$t(e))});const GP=HP;var jP=Ut(function(t){var e=ti(t);return e=typeof e=="function"?e:void 0,yc(co(t,Ne),void 0,e)});const VP=jP;var ZP=Ut(bc);const KP=ZP;function o2(t,e,n){for(var i=-1,a=t.length,l=e.length,u={};++i<a;){var g=i<l?e[i]:void 0;n(u,t[i],g)}return u}function JP(t,e){return o2(t||[],e||[],kl)}function QP(t,e){return o2(t||[],e||[],Al)}var t$=Ut(function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n=typeof n=="function"?(t.pop(),n):void 0,i2(t,n)});const e$=t$,wt={chunk:jC,compact:ME,concat:DE,difference:QI,differenceBy:eT,differenceWith:iT,drop:aT,dropRight:sT,dropRightWhile:lT,dropWhile:hT,fill:LT,findIndex:v1,findLastIndex:y1,first:w_,flatten:sm,flattenDeep:HT,flattenDepth:GT,fromPairs:u7,head:w_,indexOf:X7,initial:P7,intersection:D7,intersectionBy:B7,intersectionWith:q7,join:UL,last:ti,lastIndexOf:QL,nth:XR,pull:qY,pullAll:U1,pullAllBy:WY,pullAllWith:zY,pullAt:jY,remove:wO,reverse:fg,slice:DO,sortedIndex:KO,sortedIndexBy:JO,sortedIndexOf:QO,sortedLastIndex:tX,sortedLastIndexBy:eX,sortedLastIndexOf:nX,sortedUniq:iX,sortedUniqBy:rX,tail:vX,take:bX,takeRight:yX,takeRightWhile:xX,takeWhile:SX,union:vP,unionBy:yP,unionWith:SP,uniq:CP,uniqBy:AP,uniqWith:EP,unzip:bc,unzipWith:i2,without:DP,xor:UP,xorBy:GP,xorWith:VP,zip:KP,zipObject:JP,zipObjectDeep:QP,zipWith:e$},we={countBy:LI,each:u_,eachRight:f_,every:ET,filter:RT,find:XT,findLast:NT,flatMap:FT,flatMapDeep:WT,flatMapDepth:zT,forEach:u_,forEachRight:f_,groupBy:_7,includes:Y7,invokeMap:eL,keyBy:VL,map:Od,orderBy:HR,partition:OY,reduce:uO,reduceRight:gO,reject:cO,sample:AO,sampleSize:TO,shuffle:XO,size:MO,some:qO,sortBy:zO},n$={now:td},Oe={after:J3,ary:Q0,before:dm,bind:um,bindKey:LS,curry:ic,curryRight:rc,debounce:r1,defer:jI,delay:ZI,flip:VT,memoize:Ed,negate:Cl,once:WR,overArgs:QR,partial:z1,partialRight:RY,rearg:dO,rest:kO,spread:hX,throttle:UX,unary:hP,wrap:NP},xt={castArray:FC,clone:EE,cloneDeep:LE,cloneDeepWith:OE,cloneWith:PE,conformsTo:yI,eq:Ri,gt:k7,gte:b7,isArguments:Go,isArray:Mt,isArrayBuffer:oL,isArrayLike:Dn,isArrayLikeObject:Ne,isBoolean:sL,isBuffer:lo,isDate:uL,isElement:fL,isEmpty:_L,isEqual:mL,isEqualWith:kL,isError:Ng,isFinite:bL,isFunction:Ir,isInteger:I1,isLength:Sd,isMap:Wm,isMatch:yL,isMatchWith:xL,isNaN:CL,isNative:TL,isNil:LL,isNull:RL,isNumber:T1,isObject:Ee,isObjectLike:Ye,isPlainObject:bl,isRegExp:uc,isSafeInteger:PL,isSet:zm,isString:$d,isSymbol:Zn,isTypedArray:Va,isUndefined:$L,isWeakMap:DL,isWeakSet:BL,lt:oR,lte:sR,toArray:Y1,toFinite:Er,toInteger:Bt,toLength:_1,toNumber:ui,toPlainObject:a1,toSafeInteger:JX,toString:ue},Sn={add:W3,ceil:UC,divide:oT,floor:KT,max:cR,maxBy:wR,mean:_R,meanBy:mR,min:CR,minBy:AR,multiply:IR,round:SO,subtract:_X,sum:mX,sumBy:kX},xc={clamp:VC,inRange:T7,random:tO},Pt={assign:v8,assignIn:qp,assignInWith:gd,assignWith:I8,at:fS,create:RI,defaults:FI,defaultsDeep:UI,entries:g_,entriesIn:c_,extend:qp,extendWith:gd,findKey:PT,findLastKey:BT,forIn:s7,forInRight:l7,forOwn:h7,forOwnRight:d7,functions:f7,functionsIn:g7,get:Mg,has:C7,hasIn:tc,invert:G7,invertBy:K7,invoke:Q7,keys:ze,keysIn:Nn,mapKeys:lR,mapValues:hR,merge:vR,mergeWith:l1,omit:FR,omitBy:qR,pick:$Y,pickBy:P1,result:vO,set:LO,setWith:RO,toPairs:g_,toPairsIn:c_,transform:tP,unset:LP,update:YP,updateWith:OP,values:Ja,valuesIn:$P},rr={at:FP,chain:Pm,commit:$E,lodash:y,next:OR,plant:MY,reverse:WP,tap:CX,thru:El,toIterator:VX,toJSON:Lf,value:Lf,valueOf:Lf,wrapperChain:qP},le={camelCase:BC,capitalize:km,deburr:vm,endsWith:gT,escape:c1,escapeRegExp:CT,kebabCase:GL,lowerCase:eR,lowerFirst:iR,pad:xY,padEnd:SY,padStart:CY,parseInt:IY,repeat:pO,replace:_O,snakeCase:BO,split:aX,startCase:uX,startsWith:fX,template:WX,templateSettings:gg,toLower:ZX,toUpper:QX,trim:eP,trimEnd:nP,trimStart:rP,truncate:lP,unescape:cP,upperCase:PP,upperFirst:qg,words:Xm},fe={attempt:hm,bindAll:AS,cond:mI,conforms:bI,constant:Rg,defaultTo:DI,flow:r7,flowRight:a7,identity:xn,iteratee:qL,matches:uR,matchesProperty:gR,method:yR,methodOf:SR,mixin:R1,noop:Tg,nthArg:PR,over:jR,overEvery:eY,overSome:iY,property:t1,propertyOf:DY,range:oO,rangeRight:sO,stubArray:Hg,stubFalse:Xg,stubObject:gX,stubString:cX,stubTrue:wX,times:jX,toPath:KX,uniqueId:TP};function i$(){var t=new Jt(this.__wrapped__);return t.__actions__=Mn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Mn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Mn(this.__views__),t}function r$(){if(this.__filtered__){var t=new Jt(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}var o$=Math.max,a$=Math.min;function s$(t,e,n){for(var i=-1,a=n.length;++i<a;){var l=n[i],u=l.size;switch(l.type){case"drop":t+=u;break;case"dropRight":e-=u;break;case"take":e=a$(e,t+u);break;case"takeRight":t=o$(t,e-u);break}}return{start:t,end:e}}var l$=1,h$=2,d$=Math.min;function u$(){var t=this.__wrapped__.value(),e=this.__dir__,n=Mt(t),i=e<0,a=n?t.length:0,l=s$(0,a,this.__views__),u=l.start,g=l.end,S=g-u,v=i?g:u-1,A=this.__iteratees__,Y=A.length,X=0,M=d$(S,this.__takeCount__);if(!n||!i&&a==S&&M==S)return Q1(t,this.__actions__);var q=[];t:for(;S--&&X<M;){v+=e;for(var j=-1,et=t[v];++j<Y;){var V=A[j],dt=V.iteratee,lt=V.type,nt=dt(et);if(lt==h$)et=nt;else if(!nt){if(lt==l$)continue t;break t}}q[X++]=et}return q}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var f$="4.17.21",g$=2,c$=1,w$=3,a2=4294967295,p$=Array.prototype,_$=Object.prototype,s2=_$.hasOwnProperty,C_=un?un.iterator:void 0,m$=Math.max,A_=Math.min,Sc=function(t){return function(e,n,i){if(i==null){var a=Ee(n),l=a&&ze(n),u=l&&l.length&&Xd(n,l);(u?u.length:a)||(i=n,n=e,e=this)}return t(e,n,i)}}(R1);y.after=Oe.after;y.ary=Oe.ary;y.assign=Pt.assign;y.assignIn=Pt.assignIn;y.assignInWith=Pt.assignInWith;y.assignWith=Pt.assignWith;y.at=Pt.at;y.before=Oe.before;y.bind=Oe.bind;y.bindAll=fe.bindAll;y.bindKey=Oe.bindKey;y.castArray=xt.castArray;y.chain=rr.chain;y.chunk=wt.chunk;y.compact=wt.compact;y.concat=wt.concat;y.cond=fe.cond;y.conforms=fe.conforms;y.constant=fe.constant;y.countBy=we.countBy;y.create=Pt.create;y.curry=Oe.curry;y.curryRight=Oe.curryRight;y.debounce=Oe.debounce;y.defaults=Pt.defaults;y.defaultsDeep=Pt.defaultsDeep;y.defer=Oe.defer;y.delay=Oe.delay;y.difference=wt.difference;y.differenceBy=wt.differenceBy;y.differenceWith=wt.differenceWith;y.drop=wt.drop;y.dropRight=wt.dropRight;y.dropRightWhile=wt.dropRightWhile;y.dropWhile=wt.dropWhile;y.fill=wt.fill;y.filter=we.filter;y.flatMap=we.flatMap;y.flatMapDeep=we.flatMapDeep;y.flatMapDepth=we.flatMapDepth;y.flatten=wt.flatten;y.flattenDeep=wt.flattenDeep;y.flattenDepth=wt.flattenDepth;y.flip=Oe.flip;y.flow=fe.flow;y.flowRight=fe.flowRight;y.fromPairs=wt.fromPairs;y.functions=Pt.functions;y.functionsIn=Pt.functionsIn;y.groupBy=we.groupBy;y.initial=wt.initial;y.intersection=wt.intersection;y.intersectionBy=wt.intersectionBy;y.intersectionWith=wt.intersectionWith;y.invert=Pt.invert;y.invertBy=Pt.invertBy;y.invokeMap=we.invokeMap;y.iteratee=fe.iteratee;y.keyBy=we.keyBy;y.keys=ze;y.keysIn=Pt.keysIn;y.map=we.map;y.mapKeys=Pt.mapKeys;y.mapValues=Pt.mapValues;y.matches=fe.matches;y.matchesProperty=fe.matchesProperty;y.memoize=Oe.memoize;y.merge=Pt.merge;y.mergeWith=Pt.mergeWith;y.method=fe.method;y.methodOf=fe.methodOf;y.mixin=Sc;y.negate=Cl;y.nthArg=fe.nthArg;y.omit=Pt.omit;y.omitBy=Pt.omitBy;y.once=Oe.once;y.orderBy=we.orderBy;y.over=fe.over;y.overArgs=Oe.overArgs;y.overEvery=fe.overEvery;y.overSome=fe.overSome;y.partial=Oe.partial;y.partialRight=Oe.partialRight;y.partition=we.partition;y.pick=Pt.pick;y.pickBy=Pt.pickBy;y.property=fe.property;y.propertyOf=fe.propertyOf;y.pull=wt.pull;y.pullAll=wt.pullAll;y.pullAllBy=wt.pullAllBy;y.pullAllWith=wt.pullAllWith;y.pullAt=wt.pullAt;y.range=fe.range;y.rangeRight=fe.rangeRight;y.rearg=Oe.rearg;y.reject=we.reject;y.remove=wt.remove;y.rest=Oe.rest;y.reverse=wt.reverse;y.sampleSize=we.sampleSize;y.set=Pt.set;y.setWith=Pt.setWith;y.shuffle=we.shuffle;y.slice=wt.slice;y.sortBy=we.sortBy;y.sortedUniq=wt.sortedUniq;y.sortedUniqBy=wt.sortedUniqBy;y.split=le.split;y.spread=Oe.spread;y.tail=wt.tail;y.take=wt.take;y.takeRight=wt.takeRight;y.takeRightWhile=wt.takeRightWhile;y.takeWhile=wt.takeWhile;y.tap=rr.tap;y.throttle=Oe.throttle;y.thru=El;y.toArray=xt.toArray;y.toPairs=Pt.toPairs;y.toPairsIn=Pt.toPairsIn;y.toPath=fe.toPath;y.toPlainObject=xt.toPlainObject;y.transform=Pt.transform;y.unary=Oe.unary;y.union=wt.union;y.unionBy=wt.unionBy;y.unionWith=wt.unionWith;y.uniq=wt.uniq;y.uniqBy=wt.uniqBy;y.uniqWith=wt.uniqWith;y.unset=Pt.unset;y.unzip=wt.unzip;y.unzipWith=wt.unzipWith;y.update=Pt.update;y.updateWith=Pt.updateWith;y.values=Pt.values;y.valuesIn=Pt.valuesIn;y.without=wt.without;y.words=le.words;y.wrap=Oe.wrap;y.xor=wt.xor;y.xorBy=wt.xorBy;y.xorWith=wt.xorWith;y.zip=wt.zip;y.zipObject=wt.zipObject;y.zipObjectDeep=wt.zipObjectDeep;y.zipWith=wt.zipWith;y.entries=Pt.toPairs;y.entriesIn=Pt.toPairsIn;y.extend=Pt.assignIn;y.extendWith=Pt.assignInWith;Sc(y,y);y.add=Sn.add;y.attempt=fe.attempt;y.camelCase=le.camelCase;y.capitalize=le.capitalize;y.ceil=Sn.ceil;y.clamp=xc.clamp;y.clone=xt.clone;y.cloneDeep=xt.cloneDeep;y.cloneDeepWith=xt.cloneDeepWith;y.cloneWith=xt.cloneWith;y.conformsTo=xt.conformsTo;y.deburr=le.deburr;y.defaultTo=fe.defaultTo;y.divide=Sn.divide;y.endsWith=le.endsWith;y.eq=xt.eq;y.escape=le.escape;y.escapeRegExp=le.escapeRegExp;y.every=we.every;y.find=we.find;y.findIndex=wt.findIndex;y.findKey=Pt.findKey;y.findLast=we.findLast;y.findLastIndex=wt.findLastIndex;y.findLastKey=Pt.findLastKey;y.floor=Sn.floor;y.forEach=we.forEach;y.forEachRight=we.forEachRight;y.forIn=Pt.forIn;y.forInRight=Pt.forInRight;y.forOwn=Pt.forOwn;y.forOwnRight=Pt.forOwnRight;y.get=Pt.get;y.gt=xt.gt;y.gte=xt.gte;y.has=Pt.has;y.hasIn=Pt.hasIn;y.head=wt.head;y.identity=xn;y.includes=we.includes;y.indexOf=wt.indexOf;y.inRange=xc.inRange;y.invoke=Pt.invoke;y.isArguments=xt.isArguments;y.isArray=Mt;y.isArrayBuffer=xt.isArrayBuffer;y.isArrayLike=xt.isArrayLike;y.isArrayLikeObject=xt.isArrayLikeObject;y.isBoolean=xt.isBoolean;y.isBuffer=xt.isBuffer;y.isDate=xt.isDate;y.isElement=xt.isElement;y.isEmpty=xt.isEmpty;y.isEqual=xt.isEqual;y.isEqualWith=xt.isEqualWith;y.isError=xt.isError;y.isFinite=xt.isFinite;y.isFunction=xt.isFunction;y.isInteger=xt.isInteger;y.isLength=xt.isLength;y.isMap=xt.isMap;y.isMatch=xt.isMatch;y.isMatchWith=xt.isMatchWith;y.isNaN=xt.isNaN;y.isNative=xt.isNative;y.isNil=xt.isNil;y.isNull=xt.isNull;y.isNumber=xt.isNumber;y.isObject=Ee;y.isObjectLike=xt.isObjectLike;y.isPlainObject=xt.isPlainObject;y.isRegExp=xt.isRegExp;y.isSafeInteger=xt.isSafeInteger;y.isSet=xt.isSet;y.isString=xt.isString;y.isSymbol=xt.isSymbol;y.isTypedArray=xt.isTypedArray;y.isUndefined=xt.isUndefined;y.isWeakMap=xt.isWeakMap;y.isWeakSet=xt.isWeakSet;y.join=wt.join;y.kebabCase=le.kebabCase;y.last=ti;y.lastIndexOf=wt.lastIndexOf;y.lowerCase=le.lowerCase;y.lowerFirst=le.lowerFirst;y.lt=xt.lt;y.lte=xt.lte;y.max=Sn.max;y.maxBy=Sn.maxBy;y.mean=Sn.mean;y.meanBy=Sn.meanBy;y.min=Sn.min;y.minBy=Sn.minBy;y.stubArray=fe.stubArray;y.stubFalse=fe.stubFalse;y.stubObject=fe.stubObject;y.stubString=fe.stubString;y.stubTrue=fe.stubTrue;y.multiply=Sn.multiply;y.nth=wt.nth;y.noop=fe.noop;y.now=n$.now;y.pad=le.pad;y.padEnd=le.padEnd;y.padStart=le.padStart;y.parseInt=le.parseInt;y.random=xc.random;y.reduce=we.reduce;y.reduceRight=we.reduceRight;y.repeat=le.repeat;y.replace=le.replace;y.result=Pt.result;y.round=Sn.round;y.sample=we.sample;y.size=we.size;y.snakeCase=le.snakeCase;y.some=we.some;y.sortedIndex=wt.sortedIndex;y.sortedIndexBy=wt.sortedIndexBy;y.sortedIndexOf=wt.sortedIndexOf;y.sortedLastIndex=wt.sortedLastIndex;y.sortedLastIndexBy=wt.sortedLastIndexBy;y.sortedLastIndexOf=wt.sortedLastIndexOf;y.startCase=le.startCase;y.startsWith=le.startsWith;y.subtract=Sn.subtract;y.sum=Sn.sum;y.sumBy=Sn.sumBy;y.template=le.template;y.times=fe.times;y.toFinite=xt.toFinite;y.toInteger=Bt;y.toLength=xt.toLength;y.toLower=le.toLower;y.toNumber=xt.toNumber;y.toSafeInteger=xt.toSafeInteger;y.toString=xt.toString;y.toUpper=le.toUpper;y.trim=le.trim;y.trimEnd=le.trimEnd;y.trimStart=le.trimStart;y.truncate=le.truncate;y.unescape=le.unescape;y.uniqueId=fe.uniqueId;y.upperCase=le.upperCase;y.upperFirst=le.upperFirst;y.each=we.forEach;y.eachRight=we.forEachRight;y.first=wt.head;Sc(y,function(){var t={};return nr(y,function(e,n){s2.call(y.prototype,n)||(t[n]=e)}),t}(),{chain:!1});y.VERSION=f$;(y.templateSettings=le.templateSettings).imports._=y;_i(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){y[t].placeholder=y});_i(["drop","take"],function(t,e){Jt.prototype[t]=function(n){n=n===void 0?1:m$(Bt(n),0);var i=this.__filtered__&&!e?new Jt(this):this.clone();return i.__filtered__?i.__takeCount__=A_(n,i.__takeCount__):i.__views__.push({size:A_(n,a2),type:t+(i.__dir__<0?"Right":"")}),i},Jt.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}});_i(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==c$||n==w$;Jt.prototype[t]=function(a){var l=this.clone();return l.__iteratees__.push({iteratee:$t(a),type:n}),l.__filtered__=l.__filtered__||i,l}});_i(["head","last"],function(t,e){var n="take"+(e?"Right":"");Jt.prototype[t]=function(){return this[n](1).value()[0]}});_i(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Jt.prototype[t]=function(){return this.__filtered__?new Jt(this):this[n](1)}});Jt.prototype.compact=function(){return this.filter(xn)};Jt.prototype.find=function(t){return this.filter(t).head()};Jt.prototype.findLast=function(t){return this.reverse().find(t)};Jt.prototype.invokeMap=Ut(function(t,e){return typeof t=="function"?new Jt(this):this.map(function(n){return Sl(n,t,e)})});Jt.prototype.reject=function(t){return this.filter(Cl($t(t)))};Jt.prototype.slice=function(t,e){t=Bt(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Jt(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==void 0&&(e=Bt(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)};Jt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()};Jt.prototype.toArray=function(){return this.take(a2)};nr(Jt.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),a=y[i?"take"+(e=="last"?"Right":""):e],l=i||/^find/.test(e);a&&(y.prototype[e]=function(){var u=this.__wrapped__,g=i?[1]:arguments,S=u instanceof Jt,v=g[0],A=S||Mt(u),Y=function(V){var dt=a.apply(y,fo([V],g));return i&&X?dt[0]:dt};A&&n&&typeof v=="function"&&v.length!=1&&(S=A=!1);var X=this.__chain__,M=!!this.__actions__.length,q=l&&!X,j=S&&!M;if(!l&&A){u=j?u:new Jt(this);var et=t.apply(u,g);return et.__actions__.push({func:El,args:[Y],thisArg:void 0}),new gi(et,X)}return q&&j?t.apply(this,g):(et=this.thru(Y),q?i?et.value()[0]:et.value():et)})});_i(["pop","push","shift","sort","splice","unshift"],function(t){var e=p$[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);y.prototype[t]=function(){var a=arguments;if(i&&!this.__chain__){var l=this.value();return e.apply(Mt(l)?l:[],a)}return this[n](function(u){return e.apply(Mt(u)?u:[],a)})}});nr(Jt.prototype,function(t,e){var n=y[e];if(n){var i=n.name+"";s2.call(Da,i)||(Da[i]=[]),Da[i].push({name:e,func:n})}});Da[xd(void 0,g$).name]=[{name:"wrapper",func:void 0}];Jt.prototype.clone=i$;Jt.prototype.reverse=r$;Jt.prototype.value=u$;y.prototype.at=rr.at;y.prototype.chain=rr.wrapperChain;y.prototype.commit=rr.commit;y.prototype.next=rr.next;y.prototype.plant=rr.plant;y.prototype.reverse=rr.reverse;y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=rr.value;y.prototype.first=y.prototype.head;C_&&(y.prototype[C_]=rr.toIterator);class k${constructor(e){_(this,"musicCrossfadeDuration",3);_(this,"musicMinGain",.01);_(this,"musicMaxGain",.5);_(this,"buffers",{});_(this,"context");_(this,"musicGainNode");_(this,"isMusicConnected",!1);this.game=e}createContext(){this.context=new AudioContext}async playSound(e,n){if(!this.isAudioEnabled())return;let i=await this.bufferSource(`/audio/sounds/${e}.mp3`),a=this.getSoundVolume(),l=i.connect(new GainNode(this.context,{gain:a}));if(n&&!this.getSettings().lowPowerMode){let{tileSize:g}=this.game.map;l=l.connect(new PannerNode(this.context,{positionX:n.x,positionY:n.y,distanceModel:"linear",refDistance:g,maxDistance:g*10}))}l.connect(this.context.destination);let{gain:u}=this.musicGainNode;u.cancelScheduledValues(this.context.currentTime),this.rampGain(u,u.value-a*this.musicMaxGain/2),i.addEventListener("ended",()=>{this.rampGain(u,this.getMusicVolume(),.5)}),i.start()}async playMusic(e){if(!e)return this.stopMusic();let n=await this.bufferSource(`/audio/music/${e}.mp3`);n.loop=!0,this.stopMusic(),n.connect(this.musicGainNode),this.isAudioEnabled()&&this.musicGainNode.connect(this.context.destination),this.rampGain(this.musicGainNode.gain,this.getMusicVolume(),this.musicCrossfadeDuration),n.start()}async bufferSource(e){var n,i;return this.updateVolume(),(i=(n=this.buffers)[e])!=null||(n[e]=this.loadAudio(e)),new AudioBufferSourceNode(this.context,{buffer:await this.buffers[e]})}async loadAudio(e){let n=await fetch(e),i=await n.arrayBuffer();return await this.context.decodeAudioData(i)}updateVolume(){this.musicGainNode||this.initMusicNode();let e=this.getMusicVolume();if(e<=0||!this.isAudioEnabled())this.isMusicConnected&&(this.musicGainNode.disconnect(this.context.destination),this.isMusicConnected=!1);else{let{gain:n}=this.musicGainNode;n.cancelScheduledValues(this.context.currentTime),this.isMusicConnected?this.rampGain(n,e):(this.musicGainNode.connect(this.context.destination),this.isMusicConnected=!0,this.rampGain(n,this.musicMinGain),this.rampGain(n,e,this.musicCrossfadeDuration))}}updatePlayerListener(){if(!this.context||!this.isAudioEnabled()||this.getSettings().lowPowerMode)return;let{player:e}=this.game,{positionX:n,positionY:i,forwardX:a,forwardY:l}=this.context.listener;if(!n||!i||!a||!l){this.context.listener.setPosition(e.x,e.y,0);return}switch(n.value=e.x,i.value=e.y,e.orientation){case Xt.Up:{a.value=0,l.value=1;break}case Xt.Down:{a.value=0,l.value=-1;break}case Xt.Left:{a.value=-1,l.value=0;break}case Xt.Right:{a.value=1,l.value=0;break}}}stopMusic(){let e=this.musicGainNode;if(this.initMusicNode(),!e)return;let{gain:n}=e;n.cancelScheduledValues(this.context.currentTime),this.rampGain(n,this.musicMinGain,this.musicCrossfadeDuration),setTimeout(()=>e.disconnect(),this.musicCrossfadeDuration*1e3)}initMusicNode(){this.musicGainNode=new GainNode(this.context,{gain:this.musicMinGain})}rampGain(e,n,i=0){n>0&&e.linearRampToValueAtTime(n,this.context.currentTime+i)}getSoundVolume(){return this.getSettings().soundVolume/100}getMusicVolume(){return this.getSettings().musicVolume/100*this.musicMaxGain*2}isAudioEnabled(){return this.getSettings().audioEnabled}getSettings(){return this.game.storage.data.settings}playHitSound(e){this.playSound(`hit${vt.randomInt(1,2)}`,e)}playKillSound(e){this.playSound(`kill${vt.randomInt(1,2)}`,e)}}var $a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ti={},v$={get exports(){return Ti},set exports(t){Ti=t}};/*!
 * jQuery JavaScript Library v3.6.3
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-12-20T21:28Z
 */(function(t){(function(e,n){t.exports=e.document?n(e,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return n(i)}})(typeof window<"u"?window:$a,function(e,n){var i=[],a=Object.getPrototypeOf,l=i.slice,u=i.flat?function(s){return i.flat.call(s)}:function(s){return i.concat.apply([],s)},g=i.push,S=i.indexOf,v={},A=v.toString,Y=v.hasOwnProperty,X=Y.toString,M=X.call(Object),q={},j=function(d){return typeof d=="function"&&typeof d.nodeType!="number"&&typeof d.item!="function"},et=function(d){return d!=null&&d===d.window},V=e.document,dt={type:!0,src:!0,nonce:!0,noModule:!0};function lt(s,d,f){f=f||V;var c,m,k=f.createElement("script");if(k.text=s,d)for(c in dt)m=d[c]||d.getAttribute&&d.getAttribute(c),m&&k.setAttribute(c,m);f.head.appendChild(k).parentNode.removeChild(k)}function nt(s){return s==null?s+"":typeof s=="object"||typeof s=="function"?v[A.call(s)]||"object":typeof s}var ut="3.6.3",p=function(s,d){return new p.fn.init(s,d)};p.fn=p.prototype={jquery:ut,constructor:p,length:0,toArray:function(){return l.call(this)},get:function(s){return s==null?l.call(this):s<0?this[s+this.length]:this[s]},pushStack:function(s){var d=p.merge(this.constructor(),s);return d.prevObject=this,d},each:function(s){return p.each(this,s)},map:function(s){return this.pushStack(p.map(this,function(d,f){return s.call(d,f,d)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(p.grep(this,function(s,d){return(d+1)%2}))},odd:function(){return this.pushStack(p.grep(this,function(s,d){return d%2}))},eq:function(s){var d=this.length,f=+s+(s<0?d:0);return this.pushStack(f>=0&&f<d?[this[f]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:i.sort,splice:i.splice},p.extend=p.fn.extend=function(){var s,d,f,c,m,k,x=arguments[0]||{},O=1,T=arguments.length,F=!1;for(typeof x=="boolean"&&(F=x,x=arguments[O]||{},O++),typeof x!="object"&&!j(x)&&(x={}),O===T&&(x=this,O--);O<T;O++)if((s=arguments[O])!=null)for(d in s)c=s[d],!(d==="__proto__"||x===c)&&(F&&c&&(p.isPlainObject(c)||(m=Array.isArray(c)))?(f=x[d],m&&!Array.isArray(f)?k=[]:!m&&!p.isPlainObject(f)?k={}:k=f,m=!1,x[d]=p.extend(F,k,c)):c!==void 0&&(x[d]=c));return x},p.extend({expando:"jQuery"+(ut+Math.random()).replace(/\D/g,""),isReady:!0,error:function(s){throw new Error(s)},noop:function(){},isPlainObject:function(s){var d,f;return!s||A.call(s)!=="[object Object]"?!1:(d=a(s),d?(f=Y.call(d,"constructor")&&d.constructor,typeof f=="function"&&X.call(f)===M):!0)},isEmptyObject:function(s){var d;for(d in s)return!1;return!0},globalEval:function(s,d,f){lt(s,{nonce:d&&d.nonce},f)},each:function(s,d){var f,c=0;if(st(s))for(f=s.length;c<f&&d.call(s[c],c,s[c])!==!1;c++);else for(c in s)if(d.call(s[c],c,s[c])===!1)break;return s},makeArray:function(s,d){var f=d||[];return s!=null&&(st(Object(s))?p.merge(f,typeof s=="string"?[s]:s):g.call(f,s)),f},inArray:function(s,d,f){return d==null?-1:S.call(d,s,f)},merge:function(s,d){for(var f=+d.length,c=0,m=s.length;c<f;c++)s[m++]=d[c];return s.length=m,s},grep:function(s,d,f){for(var c,m=[],k=0,x=s.length,O=!f;k<x;k++)c=!d(s[k],k),c!==O&&m.push(s[k]);return m},map:function(s,d,f){var c,m,k=0,x=[];if(st(s))for(c=s.length;k<c;k++)m=d(s[k],k,f),m!=null&&x.push(m);else for(k in s)m=d(s[k],k,f),m!=null&&x.push(m);return u(x)},guid:1,support:q}),typeof Symbol=="function"&&(p.fn[Symbol.iterator]=i[Symbol.iterator]),p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(s,d){v["[object "+d+"]"]=d.toLowerCase()});function st(s){var d=!!s&&"length"in s&&s.length,f=nt(s);return j(s)||et(s)?!1:f==="array"||d===0||typeof d=="number"&&d>0&&d-1 in s}var Ct=function(s){var d,f,c,m,k,x,O,T,F,H,J,W,G,_t,Ot,ct,ye,xe,Ht,Gt="sizzle"+1*new Date,Tt=s.document,rn=0,jt=0,ke=sn(),Co=sn(),ma=sn(),on=sn(),ei=function(E,R){return E===R&&(J=!0),0},En={}.hasOwnProperty,an=[],yi=an.pop,cn=an.push,ni=an.push,ka=an.slice,Mi=function(E,R){for(var $=0,K=E.length;$<K;$++)if(E[$]===R)return $;return-1},Ss="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",xi="(?:\\\\[\\da-fA-F]{1,6}"+ne+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",rh="\\["+ne+"*("+xi+")(?:"+ne+"*([*^$|!~]?=)"+ne+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+xi+"))|)"+ne+"*\\]",va=":("+xi+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+rh+")*)|.*)\\)|)",wn=new RegExp(ne+"+","g"),Ur=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),Ao=new RegExp("^"+ne+"*,"+ne+"*"),Cs=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),oh=new RegExp(ne+"|>"),ku=new RegExp(va),vu=new RegExp("^"+xi+"$"),ba={ID:new RegExp("^#("+xi+")"),CLASS:new RegExp("^\\.("+xi+")"),TAG:new RegExp("^("+xi+"|[*])"),ATTR:new RegExp("^"+rh),PSEUDO:new RegExp("^"+va),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+Ss+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},bu=/HTML$/i,yu=/^(?:input|select|textarea|button)$/i,Hr=/^h\d$/i,Eo=/^[^{]+\{\s*\[native \w/,xu=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Io=/[+~]/,ii=new RegExp("\\\\[\\da-fA-F]{1,6}"+ne+"?|\\\\([^\\r\\n\\f])","g"),He=function(E,R){var $="0x"+E.slice(1)-65536;return R||($<0?String.fromCharCode($+65536):String.fromCharCode($>>10|55296,$&1023|56320))},To=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ah=function(E,R){return R?E==="\0"?"�":E.slice(0,-1)+"\\"+E.charCodeAt(E.length-1).toString(16)+" ":"\\"+E},sh=function(){W()},Su=Lt(function(E){return E.disabled===!0&&E.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{ni.apply(an=ka.call(Tt.childNodes),Tt.childNodes),an[Tt.childNodes.length].nodeType}catch(E){ni={apply:an.length?function(R,$){cn.apply(R,ka.call($))}:function(R,$){for(var K=R.length,N=0;R[K++]=$[N++];);R.length=K-1}}}function ie(E,R,$,K){var N,z,it,ot,at,yt,mt,St=R&&R.ownerDocument,Dt=R?R.nodeType:9;if($=$||[],typeof E!="string"||!E||Dt!==1&&Dt!==9&&Dt!==11)return $;if(!K&&(W(R),R=R||G,Ot)){if(Dt!==11&&(at=xu.exec(E)))if(N=at[1]){if(Dt===9)if(it=R.getElementById(N)){if(it.id===N)return $.push(it),$}else return $;else if(St&&(it=St.getElementById(N))&&Ht(R,it)&&it.id===N)return $.push(it),$}else{if(at[2])return ni.apply($,R.getElementsByTagName(E)),$;if((N=at[3])&&f.getElementsByClassName&&R.getElementsByClassName)return ni.apply($,R.getElementsByClassName(N)),$}if(f.qsa&&!on[E+" "]&&(!ct||!ct.test(E))&&(Dt!==1||R.nodeName.toLowerCase()!=="object")){if(mt=E,St=R,Dt===1&&(oh.test(E)||Cs.test(E))){for(St=Io.test(E)&&Z(R.parentNode)||R,(St!==R||!f.scope)&&((ot=R.getAttribute("id"))?ot=ot.replace(To,ah):R.setAttribute("id",ot=Gt)),yt=x(E),z=yt.length;z--;)yt[z]=(ot?"#"+ot:":scope")+" "+ft(yt[z]);mt=yt.join(",")}try{if(f.cssSupportsSelector&&!CSS.supports("selector(:is("+mt+"))"))throw new Error;return ni.apply($,St.querySelectorAll(mt)),$}catch(Zt){on(E,!0)}finally{ot===Gt&&R.removeAttribute("id")}}}return T(E.replace(Ur,"$1"),R,$,K)}function sn(){var E=[];function R($,K){return E.push($+" ")>c.cacheLength&&delete R[E.shift()],R[$+" "]=K}return R}function In(E){return E[Gt]=!0,E}function Tn(E){var R=G.createElement("fieldset");try{return!!E(R)}catch($){return!1}finally{R.parentNode&&R.parentNode.removeChild(R),R=null}}function As(E,R){for(var $=E.split("|"),K=$.length;K--;)c.attrHandle[$[K]]=R}function lh(E,R){var $=R&&E,K=$&&E.nodeType===1&&R.nodeType===1&&E.sourceIndex-R.sourceIndex;if(K)return K;if($){for(;$=$.nextSibling;)if($===R)return-1}return E?1:-1}function Cu(E){return function(R){var $=R.nodeName.toLowerCase();return $==="input"&&R.type===E}}function Au(E){return function(R){var $=R.nodeName.toLowerCase();return($==="input"||$==="button")&&R.type===E}}function fr(E){return function(R){return"form"in R?R.parentNode&&R.disabled===!1?"label"in R?"label"in R.parentNode?R.parentNode.disabled===E:R.disabled===E:R.isDisabled===E||R.isDisabled!==!E&&Su(R)===E:R.disabled===E:"label"in R?R.disabled===E:!1}}function D(E){return In(function(R){return R=+R,In(function($,K){for(var N,z=E([],$.length,R),it=z.length;it--;)$[N=z[it]]&&($[N]=!(K[N]=$[N]))})})}function Z(E){return E&&typeof E.getElementsByTagName<"u"&&E}f=ie.support={},k=ie.isXML=function(E){var R=E&&E.namespaceURI,$=E&&(E.ownerDocument||E).documentElement;return!bu.test(R||$&&$.nodeName||"HTML")},W=ie.setDocument=function(E){var R,$,K=E?E.ownerDocument||E:Tt;return K==G||K.nodeType!==9||!K.documentElement||(G=K,_t=G.documentElement,Ot=!k(G),Tt!=G&&($=G.defaultView)&&$.top!==$&&($.addEventListener?$.addEventListener("unload",sh,!1):$.attachEvent&&$.attachEvent("onunload",sh)),f.scope=Tn(function(N){return _t.appendChild(N).appendChild(G.createElement("div")),typeof N.querySelectorAll<"u"&&!N.querySelectorAll(":scope fieldset div").length}),f.cssSupportsSelector=Tn(function(){return CSS.supports("selector(*)")&&G.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),f.attributes=Tn(function(N){return N.className="i",!N.getAttribute("className")}),f.getElementsByTagName=Tn(function(N){return N.appendChild(G.createComment("")),!N.getElementsByTagName("*").length}),f.getElementsByClassName=Eo.test(G.getElementsByClassName),f.getById=Tn(function(N){return _t.appendChild(N).id=Gt,!G.getElementsByName||!G.getElementsByName(Gt).length}),f.getById?(c.filter.ID=function(N){var z=N.replace(ii,He);return function(it){return it.getAttribute("id")===z}},c.find.ID=function(N,z){if(typeof z.getElementById<"u"&&Ot){var it=z.getElementById(N);return it?[it]:[]}}):(c.filter.ID=function(N){var z=N.replace(ii,He);return function(it){var ot=typeof it.getAttributeNode<"u"&&it.getAttributeNode("id");return ot&&ot.value===z}},c.find.ID=function(N,z){if(typeof z.getElementById<"u"&&Ot){var it,ot,at,yt=z.getElementById(N);if(yt){if(it=yt.getAttributeNode("id"),it&&it.value===N)return[yt];for(at=z.getElementsByName(N),ot=0;yt=at[ot++];)if(it=yt.getAttributeNode("id"),it&&it.value===N)return[yt]}return[]}}),c.find.TAG=f.getElementsByTagName?function(N,z){if(typeof z.getElementsByTagName<"u")return z.getElementsByTagName(N);if(f.qsa)return z.querySelectorAll(N)}:function(N,z){var it,ot=[],at=0,yt=z.getElementsByTagName(N);if(N==="*"){for(;it=yt[at++];)it.nodeType===1&&ot.push(it);return ot}return yt},c.find.CLASS=f.getElementsByClassName&&function(N,z){if(typeof z.getElementsByClassName<"u"&&Ot)return z.getElementsByClassName(N)},ye=[],ct=[],(f.qsa=Eo.test(G.querySelectorAll))&&(Tn(function(N){var z;_t.appendChild(N).innerHTML="<a id='"+Gt+"'></a><select id='"+Gt+"-\r\\' msallowcapture=''><option selected=''></option></select>",N.querySelectorAll("[msallowcapture^='']").length&&ct.push("[*^$]="+ne+`*(?:''|"")`),N.querySelectorAll("[selected]").length||ct.push("\\["+ne+"*(?:value|"+Ss+")"),N.querySelectorAll("[id~="+Gt+"-]").length||ct.push("~="),z=G.createElement("input"),z.setAttribute("name",""),N.appendChild(z),N.querySelectorAll("[name='']").length||ct.push("\\["+ne+"*name"+ne+"*="+ne+`*(?:''|"")`),N.querySelectorAll(":checked").length||ct.push(":checked"),N.querySelectorAll("a#"+Gt+"+*").length||ct.push(".#.+[+~]"),N.querySelectorAll("\\\f"),ct.push("[\\r\\n\\f]")}),Tn(function(N){N.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var z=G.createElement("input");z.setAttribute("type","hidden"),N.appendChild(z).setAttribute("name","D"),N.querySelectorAll("[name=d]").length&&ct.push("name"+ne+"*[*^$|!~]?="),N.querySelectorAll(":enabled").length!==2&&ct.push(":enabled",":disabled"),_t.appendChild(N).disabled=!0,N.querySelectorAll(":disabled").length!==2&&ct.push(":enabled",":disabled"),N.querySelectorAll("*,:x"),ct.push(",.*:")})),(f.matchesSelector=Eo.test(xe=_t.matches||_t.webkitMatchesSelector||_t.mozMatchesSelector||_t.oMatchesSelector||_t.msMatchesSelector))&&Tn(function(N){f.disconnectedMatch=xe.call(N,"*"),xe.call(N,"[s!='']:x"),ye.push("!=",va)}),f.cssSupportsSelector||ct.push(":has"),ct=ct.length&&new RegExp(ct.join("|")),ye=ye.length&&new RegExp(ye.join("|")),R=Eo.test(_t.compareDocumentPosition),Ht=R||Eo.test(_t.contains)?function(N,z){var it=N.nodeType===9&&N.documentElement||N,ot=z&&z.parentNode;return N===ot||!!(ot&&ot.nodeType===1&&(it.contains?it.contains(ot):N.compareDocumentPosition&&N.compareDocumentPosition(ot)&16))}:function(N,z){if(z){for(;z=z.parentNode;)if(z===N)return!0}return!1},ei=R?function(N,z){if(N===z)return J=!0,0;var it=!N.compareDocumentPosition-!z.compareDocumentPosition;return it||(it=(N.ownerDocument||N)==(z.ownerDocument||z)?N.compareDocumentPosition(z):1,it&1||!f.sortDetached&&z.compareDocumentPosition(N)===it?N==G||N.ownerDocument==Tt&&Ht(Tt,N)?-1:z==G||z.ownerDocument==Tt&&Ht(Tt,z)?1:H?Mi(H,N)-Mi(H,z):0:it&4?-1:1)}:function(N,z){if(N===z)return J=!0,0;var it,ot=0,at=N.parentNode,yt=z.parentNode,mt=[N],St=[z];if(!at||!yt)return N==G?-1:z==G?1:at?-1:yt?1:H?Mi(H,N)-Mi(H,z):0;if(at===yt)return lh(N,z);for(it=N;it=it.parentNode;)mt.unshift(it);for(it=z;it=it.parentNode;)St.unshift(it);for(;mt[ot]===St[ot];)ot++;return ot?lh(mt[ot],St[ot]):mt[ot]==Tt?-1:St[ot]==Tt?1:0}),G},ie.matches=function(E,R){return ie(E,null,null,R)},ie.matchesSelector=function(E,R){if(W(E),f.matchesSelector&&Ot&&!on[R+" "]&&(!ye||!ye.test(R))&&(!ct||!ct.test(R)))try{var $=xe.call(E,R);if($||f.disconnectedMatch||E.document&&E.document.nodeType!==11)return $}catch(K){on(R,!0)}return ie(R,G,null,[E]).length>0},ie.contains=function(E,R){return(E.ownerDocument||E)!=G&&W(E),Ht(E,R)},ie.attr=function(E,R){(E.ownerDocument||E)!=G&&W(E);var $=c.attrHandle[R.toLowerCase()],K=$&&En.call(c.attrHandle,R.toLowerCase())?$(E,R,!Ot):void 0;return K!==void 0?K:f.attributes||!Ot?E.getAttribute(R):(K=E.getAttributeNode(R))&&K.specified?K.value:null},ie.escape=function(E){return(E+"").replace(To,ah)},ie.error=function(E){throw new Error("Syntax error, unrecognized expression: "+E)},ie.uniqueSort=function(E){var R,$=[],K=0,N=0;if(J=!f.detectDuplicates,H=!f.sortStable&&E.slice(0),E.sort(ei),J){for(;R=E[N++];)R===E[N]&&(K=$.push(N));for(;K--;)E.splice($[K],1)}return H=null,E},m=ie.getText=function(E){var R,$="",K=0,N=E.nodeType;if(N){if(N===1||N===9||N===11){if(typeof E.textContent=="string")return E.textContent;for(E=E.firstChild;E;E=E.nextSibling)$+=m(E)}else if(N===3||N===4)return E.nodeValue}else for(;R=E[K++];)$+=m(R);return $},c=ie.selectors={cacheLength:50,createPseudo:In,match:ba,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(E){return E[1]=E[1].replace(ii,He),E[3]=(E[3]||E[4]||E[5]||"").replace(ii,He),E[2]==="~="&&(E[3]=" "+E[3]+" "),E.slice(0,4)},CHILD:function(E){return E[1]=E[1].toLowerCase(),E[1].slice(0,3)==="nth"?(E[3]||ie.error(E[0]),E[4]=+(E[4]?E[5]+(E[6]||1):2*(E[3]==="even"||E[3]==="odd")),E[5]=+(E[7]+E[8]||E[3]==="odd")):E[3]&&ie.error(E[0]),E},PSEUDO:function(E){var R,$=!E[6]&&E[2];return ba.CHILD.test(E[0])?null:(E[3]?E[2]=E[4]||E[5]||"":$&&ku.test($)&&(R=x($,!0))&&(R=$.indexOf(")",$.length-R)-$.length)&&(E[0]=E[0].slice(0,R),E[2]=$.slice(0,R)),E.slice(0,3))}},filter:{TAG:function(E){var R=E.replace(ii,He).toLowerCase();return E==="*"?function(){return!0}:function($){return $.nodeName&&$.nodeName.toLowerCase()===R}},CLASS:function(E){var R=ke[E+" "];return R||(R=new RegExp("(^|"+ne+")"+E+"("+ne+"|$)"))&&ke(E,function($){return R.test(typeof $.className=="string"&&$.className||typeof $.getAttribute<"u"&&$.getAttribute("class")||"")})},ATTR:function(E,R,$){return function(K){var N=ie.attr(K,E);return N==null?R==="!=":R?(N+="",R==="="?N===$:R==="!="?N!==$:R==="^="?$&&N.indexOf($)===0:R==="*="?$&&N.indexOf($)>-1:R==="$="?$&&N.slice(-$.length)===$:R==="~="?(" "+N.replace(wn," ")+" ").indexOf($)>-1:R==="|="?N===$||N.slice(0,$.length+1)===$+"-":!1):!0}},CHILD:function(E,R,$,K,N){var z=E.slice(0,3)!=="nth",it=E.slice(-4)!=="last",ot=R==="of-type";return K===1&&N===0?function(at){return!!at.parentNode}:function(at,yt,mt){var St,Dt,Zt,kt,Le,$e,ln=z!==it?"nextSibling":"previousSibling",pe=at.parentNode,Di=ot&&at.nodeName.toLowerCase(),Gr=!mt&&!ot,qe=!1;if(pe){if(z){for(;ln;){for(kt=at;kt=kt[ln];)if(ot?kt.nodeName.toLowerCase()===Di:kt.nodeType===1)return!1;$e=ln=E==="only"&&!$e&&"nextSibling"}return!0}if($e=[it?pe.firstChild:pe.lastChild],it&&Gr){for(kt=pe,Zt=kt[Gt]||(kt[Gt]={}),Dt=Zt[kt.uniqueID]||(Zt[kt.uniqueID]={}),St=Dt[E]||[],Le=St[0]===rn&&St[1],qe=Le&&St[2],kt=Le&&pe.childNodes[Le];kt=++Le&&kt&&kt[ln]||(qe=Le=0)||$e.pop();)if(kt.nodeType===1&&++qe&&kt===at){Dt[E]=[rn,Le,qe];break}}else if(Gr&&(kt=at,Zt=kt[Gt]||(kt[Gt]={}),Dt=Zt[kt.uniqueID]||(Zt[kt.uniqueID]={}),St=Dt[E]||[],Le=St[0]===rn&&St[1],qe=Le),qe===!1)for(;(kt=++Le&&kt&&kt[ln]||(qe=Le=0)||$e.pop())&&!((ot?kt.nodeName.toLowerCase()===Di:kt.nodeType===1)&&++qe&&(Gr&&(Zt=kt[Gt]||(kt[Gt]={}),Dt=Zt[kt.uniqueID]||(Zt[kt.uniqueID]={}),Dt[E]=[rn,qe]),kt===at)););return qe-=N,qe===K||qe%K===0&&qe/K>=0}}},PSEUDO:function(E,R){var $,K=c.pseudos[E]||c.setFilters[E.toLowerCase()]||ie.error("unsupported pseudo: "+E);return K[Gt]?K(R):K.length>1?($=[E,E,"",R],c.setFilters.hasOwnProperty(E.toLowerCase())?In(function(N,z){for(var it,ot=K(N,R),at=ot.length;at--;)it=Mi(N,ot[at]),N[it]=!(z[it]=ot[at])}):function(N){return K(N,0,$)}):K}},pseudos:{not:In(function(E){var R=[],$=[],K=O(E.replace(Ur,"$1"));return K[Gt]?In(function(N,z,it,ot){for(var at,yt=K(N,null,ot,[]),mt=N.length;mt--;)(at=yt[mt])&&(N[mt]=!(z[mt]=at))}):function(N,z,it){return R[0]=N,K(R,null,it,$),R[0]=null,!$.pop()}}),has:In(function(E){return function(R){return ie(E,R).length>0}}),contains:In(function(E){return E=E.replace(ii,He),function(R){return(R.textContent||m(R)).indexOf(E)>-1}}),lang:In(function(E){return vu.test(E||"")||ie.error("unsupported lang: "+E),E=E.replace(ii,He).toLowerCase(),function(R){var $;do if($=Ot?R.lang:R.getAttribute("xml:lang")||R.getAttribute("lang"))return $=$.toLowerCase(),$===E||$.indexOf(E+"-")===0;while((R=R.parentNode)&&R.nodeType===1);return!1}}),target:function(E){var R=s.location&&s.location.hash;return R&&R.slice(1)===E.id},root:function(E){return E===_t},focus:function(E){return E===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(E.type||E.href||~E.tabIndex)},enabled:fr(!1),disabled:fr(!0),checked:function(E){var R=E.nodeName.toLowerCase();return R==="input"&&!!E.checked||R==="option"&&!!E.selected},selected:function(E){return E.parentNode&&E.parentNode.selectedIndex,E.selected===!0},empty:function(E){for(E=E.firstChild;E;E=E.nextSibling)if(E.nodeType<6)return!1;return!0},parent:function(E){return!c.pseudos.empty(E)},header:function(E){return Hr.test(E.nodeName)},input:function(E){return yu.test(E.nodeName)},button:function(E){var R=E.nodeName.toLowerCase();return R==="input"&&E.type==="button"||R==="button"},text:function(E){var R;return E.nodeName.toLowerCase()==="input"&&E.type==="text"&&((R=E.getAttribute("type"))==null||R.toLowerCase()==="text")},first:D(function(){return[0]}),last:D(function(E,R){return[R-1]}),eq:D(function(E,R,$){return[$<0?$+R:$]}),even:D(function(E,R){for(var $=0;$<R;$+=2)E.push($);return E}),odd:D(function(E,R){for(var $=1;$<R;$+=2)E.push($);return E}),lt:D(function(E,R,$){for(var K=$<0?$+R:$>R?R:$;--K>=0;)E.push(K);return E}),gt:D(function(E,R,$){for(var K=$<0?$+R:$;++K<R;)E.push(K);return E})}},c.pseudos.nth=c.pseudos.eq;for(d in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})c.pseudos[d]=Cu(d);for(d in{submit:!0,reset:!0})c.pseudos[d]=Au(d);function U(){}U.prototype=c.filters=c.pseudos,c.setFilters=new U,x=ie.tokenize=function(E,R){var $,K,N,z,it,ot,at,yt=Co[E+" "];if(yt)return R?0:yt.slice(0);for(it=E,ot=[],at=c.preFilter;it;){(!$||(K=Ao.exec(it)))&&(K&&(it=it.slice(K[0].length)||it),ot.push(N=[])),$=!1,(K=Cs.exec(it))&&($=K.shift(),N.push({value:$,type:K[0].replace(Ur," ")}),it=it.slice($.length));for(z in c.filter)(K=ba[z].exec(it))&&(!at[z]||(K=at[z](K)))&&($=K.shift(),N.push({value:$,type:z,matches:K}),it=it.slice($.length));if(!$)break}return R?it.length:it?ie.error(E):Co(E,ot).slice(0)};function ft(E){for(var R=0,$=E.length,K="";R<$;R++)K+=E[R].value;return K}function Lt(E,R,$){var K=R.dir,N=R.next,z=N||K,it=$&&z==="parentNode",ot=jt++;return R.first?function(at,yt,mt){for(;at=at[K];)if(at.nodeType===1||it)return E(at,yt,mt);return!1}:function(at,yt,mt){var St,Dt,Zt,kt=[rn,ot];if(mt){for(;at=at[K];)if((at.nodeType===1||it)&&E(at,yt,mt))return!0}else for(;at=at[K];)if(at.nodeType===1||it)if(Zt=at[Gt]||(at[Gt]={}),Dt=Zt[at.uniqueID]||(Zt[at.uniqueID]={}),N&&N===at.nodeName.toLowerCase())at=at[K]||at;else{if((St=Dt[z])&&St[0]===rn&&St[1]===ot)return kt[2]=St[2];if(Dt[z]=kt,kt[2]=E(at,yt,mt))return!0}return!1}}function Qt(E){return E.length>1?function(R,$,K){for(var N=E.length;N--;)if(!E[N](R,$,K))return!1;return!0}:E[0]}function Pe(E,R,$){for(var K=0,N=R.length;K<N;K++)ie(E,R[K],$);return $}function ae(E,R,$,K,N){for(var z,it=[],ot=0,at=E.length,yt=R!=null;ot<at;ot++)(z=E[ot])&&(!$||$(z,K,N))&&(it.push(z),yt&&R.push(ot));return it}function Lo(E,R,$,K,N,z){return K&&!K[Gt]&&(K=Lo(K)),N&&!N[Gt]&&(N=Lo(N,z)),In(function(it,ot,at,yt){var mt,St,Dt,Zt=[],kt=[],Le=ot.length,$e=it||Pe(R||"*",at.nodeType?[at]:at,[]),ln=E&&(it||!R)?ae($e,Zt,E,at,yt):$e,pe=$?N||(it?E:Le||K)?[]:ot:ln;if($&&$(ln,pe,at,yt),K)for(mt=ae(pe,kt),K(mt,[],at,yt),St=mt.length;St--;)(Dt=mt[St])&&(pe[kt[St]]=!(ln[kt[St]]=Dt));if(it){if(N||E){if(N){for(mt=[],St=pe.length;St--;)(Dt=pe[St])&&mt.push(ln[St]=Dt);N(null,pe=[],mt,yt)}for(St=pe.length;St--;)(Dt=pe[St])&&(mt=N?Mi(it,Dt):Zt[St])>-1&&(it[mt]=!(ot[mt]=Dt))}}else pe=ae(pe===ot?pe.splice(Le,pe.length):pe),N?N(null,ot,pe,yt):ni.apply(ot,pe)})}function Es(E){for(var R,$,K,N=E.length,z=c.relative[E[0].type],it=z||c.relative[" "],ot=z?1:0,at=Lt(function(St){return St===R},it,!0),yt=Lt(function(St){return Mi(R,St)>-1},it,!0),mt=[function(St,Dt,Zt){var kt=!z&&(Zt||Dt!==F)||((R=Dt).nodeType?at(St,Dt,Zt):yt(St,Dt,Zt));return R=null,kt}];ot<N;ot++)if($=c.relative[E[ot].type])mt=[Lt(Qt(mt),$)];else{if($=c.filter[E[ot].type].apply(null,E[ot].matches),$[Gt]){for(K=++ot;K<N&&!c.relative[E[K].type];K++);return Lo(ot>1&&Qt(mt),ot>1&&ft(E.slice(0,ot-1).concat({value:E[ot-2].type===" "?"*":""})).replace(Ur,"$1"),$,ot<K&&Es(E.slice(ot,K)),K<N&&Es(E=E.slice(K)),K<N&&ft(E))}mt.push($)}return Qt(mt)}function Ln(E,R){var $=R.length>0,K=E.length>0,N=function(z,it,ot,at,yt){var mt,St,Dt,Zt=0,kt="0",Le=z&&[],$e=[],ln=F,pe=z||K&&c.find.TAG("*",yt),Di=rn+=ln==null?1:Math.random()||.1,Gr=pe.length;for(yt&&(F=it==G||it||yt);kt!==Gr&&(mt=pe[kt])!=null;kt++){if(K&&mt){for(St=0,!it&&mt.ownerDocument!=G&&(W(mt),ot=!Ot);Dt=E[St++];)if(Dt(mt,it||G,ot)){at.push(mt);break}yt&&(rn=Di)}$&&((mt=!Dt&&mt)&&Zt--,z&&Le.push(mt))}if(Zt+=kt,$&&kt!==Zt){for(St=0;Dt=R[St++];)Dt(Le,$e,it,ot);if(z){if(Zt>0)for(;kt--;)Le[kt]||$e[kt]||($e[kt]=yi.call(at));$e=ae($e)}ni.apply(at,$e),yt&&!z&&$e.length>0&&Zt+R.length>1&&ie.uniqueSort(at)}return yt&&(rn=Di,F=ln),Le};return $?In(N):N}return O=ie.compile=function(E,R){var $,K=[],N=[],z=ma[E+" "];if(!z){for(R||(R=x(E)),$=R.length;$--;)z=Es(R[$]),z[Gt]?K.push(z):N.push(z);z=ma(E,Ln(N,K)),z.selector=E}return z},T=ie.select=function(E,R,$,K){var N,z,it,ot,at,yt=typeof E=="function"&&E,mt=!K&&x(E=yt.selector||E);if($=$||[],mt.length===1){if(z=mt[0]=mt[0].slice(0),z.length>2&&(it=z[0]).type==="ID"&&R.nodeType===9&&Ot&&c.relative[z[1].type]){if(R=(c.find.ID(it.matches[0].replace(ii,He),R)||[])[0],R)yt&&(R=R.parentNode);else return $;E=E.slice(z.shift().value.length)}for(N=ba.needsContext.test(E)?0:z.length;N--&&(it=z[N],!c.relative[ot=it.type]);)if((at=c.find[ot])&&(K=at(it.matches[0].replace(ii,He),Io.test(z[0].type)&&Z(R.parentNode)||R))){if(z.splice(N,1),E=K.length&&ft(z),!E)return ni.apply($,K),$;break}}return(yt||O(E,mt))(K,R,!Ot,$,!R||Io.test(E)&&Z(R.parentNode)||R),$},f.sortStable=Gt.split("").sort(ei).join("")===Gt,f.detectDuplicates=!!J,W(),f.sortDetached=Tn(function(E){return E.compareDocumentPosition(G.createElement("fieldset"))&1}),Tn(function(E){return E.innerHTML="<a href='#'></a>",E.firstChild.getAttribute("href")==="#"})||As("type|href|height|width",function(E,R,$){if(!$)return E.getAttribute(R,R.toLowerCase()==="type"?1:2)}),(!f.attributes||!Tn(function(E){return E.innerHTML="<input/>",E.firstChild.setAttribute("value",""),E.firstChild.getAttribute("value")===""}))&&As("value",function(E,R,$){if(!$&&E.nodeName.toLowerCase()==="input")return E.defaultValue}),Tn(function(E){return E.getAttribute("disabled")==null})||As(Ss,function(E,R,$){var K;if(!$)return E[R]===!0?R.toLowerCase():(K=E.getAttributeNode(R))&&K.specified?K.value:null}),ie}(e);p.find=Ct,p.expr=Ct.selectors,p.expr[":"]=p.expr.pseudos,p.uniqueSort=p.unique=Ct.uniqueSort,p.text=Ct.getText,p.isXMLDoc=Ct.isXML,p.contains=Ct.contains,p.escapeSelector=Ct.escape;var Rt=function(s,d,f){for(var c=[],m=f!==void 0;(s=s[d])&&s.nodeType!==9;)if(s.nodeType===1){if(m&&p(s).is(f))break;c.push(s)}return c},Yt=function(s,d){for(var f=[];s;s=s.nextSibling)s.nodeType===1&&s!==d&&f.push(s);return f},qt=p.expr.match.needsContext;function Te(s,d){return s.nodeName&&s.nodeName.toLowerCase()===d.toLowerCase()}var po=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function mi(s,d,f){return j(d)?p.grep(s,function(c,m){return!!d.call(c,m,c)!==f}):d.nodeType?p.grep(s,function(c){return c===d!==f}):typeof d!="string"?p.grep(s,function(c){return S.call(d,c)>-1!==f}):p.filter(d,s,f)}p.filter=function(s,d,f){var c=d[0];return f&&(s=":not("+s+")"),d.length===1&&c.nodeType===1?p.find.matchesSelector(c,s)?[c]:[]:p.find.matches(s,p.grep(d,function(m){return m.nodeType===1}))},p.fn.extend({find:function(s){var d,f,c=this.length,m=this;if(typeof s!="string")return this.pushStack(p(s).filter(function(){for(d=0;d<c;d++)if(p.contains(m[d],this))return!0}));for(f=this.pushStack([]),d=0;d<c;d++)p.find(s,m[d],f);return c>1?p.uniqueSort(f):f},filter:function(s){return this.pushStack(mi(this,s||[],!1))},not:function(s){return this.pushStack(mi(this,s||[],!0))},is:function(s){return!!mi(this,typeof s=="string"&&qt.test(s)?p(s):s||[],!1).length}});var or,Ud=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ar=p.fn.init=function(s,d,f){var c,m;if(!s)return this;if(f=f||or,typeof s=="string")if(s[0]==="<"&&s[s.length-1]===">"&&s.length>=3?c=[null,s,null]:c=Ud.exec(s),c&&(c[1]||!d))if(c[1]){if(d=d instanceof p?d[0]:d,p.merge(this,p.parseHTML(c[1],d&&d.nodeType?d.ownerDocument||d:V,!0)),po.test(c[1])&&p.isPlainObject(d))for(c in d)j(this[c])?this[c](d[c]):this.attr(c,d[c]);return this}else return m=V.getElementById(c[2]),m&&(this[0]=m,this.length=1),this;else return!d||d.jquery?(d||f).find(s):this.constructor(d).find(s);else{if(s.nodeType)return this[0]=s,this.length=1,this;if(j(s))return f.ready!==void 0?f.ready(s):s(p)}return p.makeArray(s,this)};ar.prototype=p.fn,or=p(V);var Yi=/^(?:parents|prev(?:Until|All))/,Hd={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({has:function(s){var d=p(s,this),f=d.length;return this.filter(function(){for(var c=0;c<f;c++)if(p.contains(this,d[c]))return!0})},closest:function(s,d){var f,c=0,m=this.length,k=[],x=typeof s!="string"&&p(s);if(!qt.test(s)){for(;c<m;c++)for(f=this[c];f&&f!==d;f=f.parentNode)if(f.nodeType<11&&(x?x.index(f)>-1:f.nodeType===1&&p.find.matchesSelector(f,s))){k.push(f);break}}return this.pushStack(k.length>1?p.uniqueSort(k):k)},index:function(s){return s?typeof s=="string"?S.call(p(s),this[0]):S.call(this,s.jquery?s[0]:s):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(s,d){return this.pushStack(p.uniqueSort(p.merge(this.get(),p(s,d))))},addBack:function(s){return this.add(s==null?this.prevObject:this.prevObject.filter(s))}});function _o(s,d){for(;(s=s[d])&&s.nodeType!==1;);return s}p.each({parent:function(s){var d=s.parentNode;return d&&d.nodeType!==11?d:null},parents:function(s){return Rt(s,"parentNode")},parentsUntil:function(s,d,f){return Rt(s,"parentNode",f)},next:function(s){return _o(s,"nextSibling")},prev:function(s){return _o(s,"previousSibling")},nextAll:function(s){return Rt(s,"nextSibling")},prevAll:function(s){return Rt(s,"previousSibling")},nextUntil:function(s,d,f){return Rt(s,"nextSibling",f)},prevUntil:function(s,d,f){return Rt(s,"previousSibling",f)},siblings:function(s){return Yt((s.parentNode||{}).firstChild,s)},children:function(s){return Yt(s.firstChild)},contents:function(s){return s.contentDocument!=null&&a(s.contentDocument)?s.contentDocument:(Te(s,"template")&&(s=s.content||s),p.merge([],s.childNodes))}},function(s,d){p.fn[s]=function(f,c){var m=p.map(this,d,f);return s.slice(-5)!=="Until"&&(c=f),c&&typeof c=="string"&&(m=p.filter(c,m)),this.length>1&&(Hd[s]||p.uniqueSort(m),Yi.test(s)&&m.reverse()),this.pushStack(m)}});var Xe=/[^\x20\t\r\n\f]+/g;function Gd(s){var d={};return p.each(s.match(Xe)||[],function(f,c){d[c]=!0}),d}p.Callbacks=function(s){s=typeof s=="string"?Gd(s):p.extend({},s);var d,f,c,m,k=[],x=[],O=-1,T=function(){for(m=m||s.once,c=d=!0;x.length;O=-1)for(f=x.shift();++O<k.length;)k[O].apply(f[0],f[1])===!1&&s.stopOnFalse&&(O=k.length,f=!1);s.memory||(f=!1),d=!1,m&&(f?k=[]:k="")},F={add:function(){return k&&(f&&!d&&(O=k.length-1,x.push(f)),function H(J){p.each(J,function(W,G){j(G)?(!s.unique||!F.has(G))&&k.push(G):G&&G.length&&nt(G)!=="string"&&H(G)})}(arguments),f&&!d&&T()),this},remove:function(){return p.each(arguments,function(H,J){for(var W;(W=p.inArray(J,k,W))>-1;)k.splice(W,1),W<=O&&O--}),this},has:function(H){return H?p.inArray(H,k)>-1:k.length>0},empty:function(){return k&&(k=[]),this},disable:function(){return m=x=[],k=f="",this},disabled:function(){return!k},lock:function(){return m=x=[],!f&&!d&&(k=f=""),this},locked:function(){return!!m},fireWith:function(H,J){return m||(J=J||[],J=[H,J.slice?J.slice():J],x.push(J),d||T()),this},fire:function(){return F.fireWith(this,arguments),this},fired:function(){return!!c}};return F};function Pr(s){return s}function ia(s){throw s}function sr(s,d,f,c){var m;try{s&&j(m=s.promise)?m.call(s).done(d).fail(f):s&&j(m=s.then)?m.call(s,d,f):d.apply(void 0,[s].slice(c))}catch(k){f.apply(void 0,[k])}}p.extend({Deferred:function(s){var d=[["notify","progress",p.Callbacks("memory"),p.Callbacks("memory"),2],["resolve","done",p.Callbacks("once memory"),p.Callbacks("once memory"),0,"resolved"],["reject","fail",p.Callbacks("once memory"),p.Callbacks("once memory"),1,"rejected"]],f="pending",c={state:function(){return f},always:function(){return m.done(arguments).fail(arguments),this},catch:function(k){return c.then(null,k)},pipe:function(){var k=arguments;return p.Deferred(function(x){p.each(d,function(O,T){var F=j(k[T[4]])&&k[T[4]];m[T[1]](function(){var H=F&&F.apply(this,arguments);H&&j(H.promise)?H.promise().progress(x.notify).done(x.resolve).fail(x.reject):x[T[0]+"With"](this,F?[H]:arguments)})}),k=null}).promise()},then:function(k,x,O){var T=0;function F(H,J,W,G){return function(){var _t=this,Ot=arguments,ct=function(){var xe,Ht;if(!(H<T)){if(xe=W.apply(_t,Ot),xe===J.promise())throw new TypeError("Thenable self-resolution");Ht=xe&&(typeof xe=="object"||typeof xe=="function")&&xe.then,j(Ht)?G?Ht.call(xe,F(T,J,Pr,G),F(T,J,ia,G)):(T++,Ht.call(xe,F(T,J,Pr,G),F(T,J,ia,G),F(T,J,Pr,J.notifyWith))):(W!==Pr&&(_t=void 0,Ot=[xe]),(G||J.resolveWith)(_t,Ot))}},ye=G?ct:function(){try{ct()}catch(xe){p.Deferred.exceptionHook&&p.Deferred.exceptionHook(xe,ye.stackTrace),H+1>=T&&(W!==ia&&(_t=void 0,Ot=[xe]),J.rejectWith(_t,Ot))}};H?ye():(p.Deferred.getStackHook&&(ye.stackTrace=p.Deferred.getStackHook()),e.setTimeout(ye))}}return p.Deferred(function(H){d[0][3].add(F(0,H,j(O)?O:Pr,H.notifyWith)),d[1][3].add(F(0,H,j(k)?k:Pr)),d[2][3].add(F(0,H,j(x)?x:ia))}).promise()},promise:function(k){return k!=null?p.extend(k,c):c}},m={};return p.each(d,function(k,x){var O=x[2],T=x[5];c[x[1]]=O.add,T&&O.add(function(){f=T},d[3-k][2].disable,d[3-k][3].disable,d[0][2].lock,d[0][3].lock),O.add(x[3].fire),m[x[0]]=function(){return m[x[0]+"With"](this===m?void 0:this,arguments),this},m[x[0]+"With"]=O.fireWith}),c.promise(m),s&&s.call(m,m),m},when:function(s){var d=arguments.length,f=d,c=Array(f),m=l.call(arguments),k=p.Deferred(),x=function(O){return function(T){c[O]=this,m[O]=arguments.length>1?l.call(arguments):T,--d||k.resolveWith(c,m)}};if(d<=1&&(sr(s,k.done(x(f)).resolve,k.reject,!d),k.state()==="pending"||j(m[f]&&m[f].then)))return k.then();for(;f--;)sr(m[f],x(f),k.reject);return k.promise()}});var ra=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;p.Deferred.exceptionHook=function(s,d){e.console&&e.console.warn&&s&&ra.test(s.name)&&e.console.warn("jQuery.Deferred exception: "+s.message,s.stack,d)},p.readyException=function(s){e.setTimeout(function(){throw s})};var rs=p.Deferred();p.fn.ready=function(s){return rs.then(s).catch(function(d){p.readyException(d)}),this},p.extend({isReady:!1,readyWait:1,ready:function(s){(s===!0?--p.readyWait:p.isReady)||(p.isReady=!0,!(s!==!0&&--p.readyWait>0)&&rs.resolveWith(V,[p]))}}),p.ready.then=rs.then;function Oi(){V.removeEventListener("DOMContentLoaded",Oi),e.removeEventListener("load",Oi),p.ready()}V.readyState==="complete"||V.readyState!=="loading"&&!V.documentElement.doScroll?e.setTimeout(p.ready):(V.addEventListener("DOMContentLoaded",Oi),e.addEventListener("load",Oi));var gn=function(s,d,f,c,m,k,x){var O=0,T=s.length,F=f==null;if(nt(f)==="object"){m=!0;for(O in f)gn(s,d,O,f[O],!0,k,x)}else if(c!==void 0&&(m=!0,j(c)||(x=!0),F&&(x?(d.call(s,c),d=null):(F=d,d=function(H,J,W){return F.call(p(H),W)})),d))for(;O<T;O++)d(s[O],f,x?c:c.call(s[O],O,d(s[O],f)));return m?s:F?d.call(s):T?d(s[0],f):k},jd=/^-ms-/,oa=/-([a-z])/g;function aa(s,d){return d.toUpperCase()}function Bn(s){return s.replace(jd,"ms-").replace(oa,aa)}var Ke=function(s){return s.nodeType===1||s.nodeType===9||!+s.nodeType};function ki(){this.expando=p.expando+ki.uid++}ki.uid=1,ki.prototype={cache:function(s){var d=s[this.expando];return d||(d={},Ke(s)&&(s.nodeType?s[this.expando]=d:Object.defineProperty(s,this.expando,{value:d,configurable:!0}))),d},set:function(s,d,f){var c,m=this.cache(s);if(typeof d=="string")m[Bn(d)]=f;else for(c in d)m[Bn(c)]=d[c];return m},get:function(s,d){return d===void 0?this.cache(s):s[this.expando]&&s[this.expando][Bn(d)]},access:function(s,d,f){return d===void 0||d&&typeof d=="string"&&f===void 0?this.get(s,d):(this.set(s,d,f),f!==void 0?f:d)},remove:function(s,d){var f,c=s[this.expando];if(c!==void 0){if(d!==void 0)for(Array.isArray(d)?d=d.map(Bn):(d=Bn(d),d=d in c?[d]:d.match(Xe)||[]),f=d.length;f--;)delete c[d[f]];(d===void 0||p.isEmptyObject(c))&&(s.nodeType?s[this.expando]=void 0:delete s[this.expando])}},hasData:function(s){var d=s[this.expando];return d!==void 0&&!p.isEmptyObject(d)}};var bt=new ki,be=new ki,Ol=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Vd=/[A-Z]/g;function mo(s){return s==="true"?!0:s==="false"?!1:s==="null"?null:s===+s+""?+s:Ol.test(s)?JSON.parse(s):s}function Cn(s,d,f){var c;if(f===void 0&&s.nodeType===1)if(c="data-"+d.replace(Vd,"-$&").toLowerCase(),f=s.getAttribute(c),typeof f=="string"){try{f=mo(f)}catch(m){}be.set(s,d,f)}else f=void 0;return f}p.extend({hasData:function(s){return be.hasData(s)||bt.hasData(s)},data:function(s,d,f){return be.access(s,d,f)},removeData:function(s,d){be.remove(s,d)},_data:function(s,d,f){return bt.access(s,d,f)},_removeData:function(s,d){bt.remove(s,d)}}),p.fn.extend({data:function(s,d){var f,c,m,k=this[0],x=k&&k.attributes;if(s===void 0){if(this.length&&(m=be.get(k),k.nodeType===1&&!bt.get(k,"hasDataAttrs"))){for(f=x.length;f--;)x[f]&&(c=x[f].name,c.indexOf("data-")===0&&(c=Bn(c.slice(5)),Cn(k,c,m[c])));bt.set(k,"hasDataAttrs",!0)}return m}return typeof s=="object"?this.each(function(){be.set(this,s)}):gn(this,function(O){var T;if(k&&O===void 0)return T=be.get(k,s),T!==void 0||(T=Cn(k,s),T!==void 0)?T:void 0;this.each(function(){be.set(this,s,O)})},null,d,arguments.length>1,null,!0)},removeData:function(s){return this.each(function(){be.remove(this,s)})}}),p.extend({queue:function(s,d,f){var c;if(s)return d=(d||"fx")+"queue",c=bt.get(s,d),f&&(!c||Array.isArray(f)?c=bt.access(s,d,p.makeArray(f)):c.push(f)),c||[]},dequeue:function(s,d){d=d||"fx";var f=p.queue(s,d),c=f.length,m=f.shift(),k=p._queueHooks(s,d),x=function(){p.dequeue(s,d)};m==="inprogress"&&(m=f.shift(),c--),m&&(d==="fx"&&f.unshift("inprogress"),delete k.stop,m.call(s,x,k)),!c&&k&&k.empty.fire()},_queueHooks:function(s,d){var f=d+"queueHooks";return bt.get(s,f)||bt.access(s,f,{empty:p.Callbacks("once memory").add(function(){bt.remove(s,[d+"queue",f])})})}}),p.fn.extend({queue:function(s,d){var f=2;return typeof s!="string"&&(d=s,s="fx",f--),arguments.length<f?p.queue(this[0],s):d===void 0?this:this.each(function(){var c=p.queue(this,s,d);p._queueHooks(this,s),s==="fx"&&c[0]!=="inprogress"&&p.dequeue(this,s)})},dequeue:function(s){return this.each(function(){p.dequeue(this,s)})},clearQueue:function(s){return this.queue(s||"fx",[])},promise:function(s,d){var f,c=1,m=p.Deferred(),k=this,x=this.length,O=function(){--c||m.resolveWith(k,[k])};for(typeof s!="string"&&(d=s,s=void 0),s=s||"fx";x--;)f=bt.get(k[x],s+"queueHooks"),f&&f.empty&&(c++,f.empty.add(O));return O(),m.promise(d)}});var $r=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Xi=new RegExp("^(?:([+-])=|)("+$r+")([a-z%]*)$","i"),vi=["Top","Right","Bottom","Left"],Fn=V.documentElement,Mr=function(s){return p.contains(s.ownerDocument,s)},ko={composed:!0};Fn.getRootNode&&(Mr=function(s){return p.contains(s.ownerDocument,s)||s.getRootNode(ko)===s.ownerDocument});var bi=function(s,d){return s=d||s,s.style.display==="none"||s.style.display===""&&Mr(s)&&p.css(s,"display")==="none"};function sa(s,d,f,c){var m,k,x=20,O=c?function(){return c.cur()}:function(){return p.css(s,d,"")},T=O(),F=f&&f[3]||(p.cssNumber[d]?"":"px"),H=s.nodeType&&(p.cssNumber[d]||F!=="px"&&+T)&&Xi.exec(p.css(s,d));if(H&&H[3]!==F){for(T=T/2,F=F||H[3],H=+T||1;x--;)p.style(s,d,H+F),(1-k)*(1-(k=O()/T||.5))<=0&&(x=0),H=H/k;H=H*2,p.style(s,d,H+F),f=f||[]}return f&&(H=+H||+T||0,m=f[1]?H+(f[1]+1)*f[2]:+f[2],c&&(c.unit=F,c.start=H,c.end=m)),m}var la={};function os(s){var d,f=s.ownerDocument,c=s.nodeName,m=la[c];return m||(d=f.body.appendChild(f.createElement(c)),m=p.css(d,"display"),d.parentNode.removeChild(d),m==="none"&&(m="block"),la[c]=m,m)}function Pi(s,d){for(var f,c,m=[],k=0,x=s.length;k<x;k++)c=s[k],c.style&&(f=c.style.display,d?(f==="none"&&(m[k]=bt.get(c,"display")||null,m[k]||(c.style.display="")),c.style.display===""&&bi(c)&&(m[k]=os(c))):f!=="none"&&(m[k]="none",bt.set(c,"display",f)));for(k=0;k<x;k++)m[k]!=null&&(s[k].style.display=m[k]);return s}p.fn.extend({show:function(){return Pi(this,!0)},hide:function(){return Pi(this)},toggle:function(s){return typeof s=="boolean"?s?this.show():this.hide():this.each(function(){bi(this)?p(this).show():p(this).hide()})}});var lr=/^(?:checkbox|radio)$/i,ha=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,da=/^$|^module$|\/(?:java|ecma)script/i;(function(){var s=V.createDocumentFragment(),d=s.appendChild(V.createElement("div")),f=V.createElement("input");f.setAttribute("type","radio"),f.setAttribute("checked","checked"),f.setAttribute("name","t"),d.appendChild(f),q.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked,d.innerHTML="<textarea>x</textarea>",q.noCloneChecked=!!d.cloneNode(!0).lastChild.defaultValue,d.innerHTML="<option></option>",q.option=!!d.lastChild})();var en={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};en.tbody=en.tfoot=en.colgroup=en.caption=en.thead,en.th=en.td,q.option||(en.optgroup=en.option=[1,"<select multiple='multiple'>","</select>"]);function Ue(s,d){var f;return typeof s.getElementsByTagName<"u"?f=s.getElementsByTagName(d||"*"):typeof s.querySelectorAll<"u"?f=s.querySelectorAll(d||"*"):f=[],d===void 0||d&&Te(s,d)?p.merge([s],f):f}function as(s,d){for(var f=0,c=s.length;f<c;f++)bt.set(s[f],"globalEval",!d||bt.get(d[f],"globalEval"))}var Zd=/<|&#?\w+;/;function Xl(s,d,f,c,m){for(var k,x,O,T,F,H,J=d.createDocumentFragment(),W=[],G=0,_t=s.length;G<_t;G++)if(k=s[G],k||k===0)if(nt(k)==="object")p.merge(W,k.nodeType?[k]:k);else if(!Zd.test(k))W.push(d.createTextNode(k));else{for(x=x||J.appendChild(d.createElement("div")),O=(ha.exec(k)||["",""])[1].toLowerCase(),T=en[O]||en._default,x.innerHTML=T[1]+p.htmlPrefilter(k)+T[2],H=T[0];H--;)x=x.lastChild;p.merge(W,x.childNodes),x=J.firstChild,x.textContent=""}for(J.textContent="",G=0;k=W[G++];){if(c&&p.inArray(k,c)>-1){m&&m.push(k);continue}if(F=Mr(k),x=Ue(J.appendChild(k),"script"),F&&as(x),f)for(H=0;k=x[H++];)da.test(k.type||"")&&f.push(k)}return J}var ss=/^([^.]*)(?:\.(.+)|)/;function hr(){return!0}function Dr(){return!1}function Kd(s,d){return s===Jd()==(d==="focus")}function Jd(){try{return V.activeElement}catch(s){}}function ls(s,d,f,c,m,k){var x,O;if(typeof d=="object"){typeof f!="string"&&(c=c||f,f=void 0);for(O in d)ls(s,O,f,c,d[O],k);return s}if(c==null&&m==null?(m=f,c=f=void 0):m==null&&(typeof f=="string"?(m=c,c=void 0):(m=c,c=f,f=void 0)),m===!1)m=Dr;else if(!m)return s;return k===1&&(x=m,m=function(T){return p().off(T),x.apply(this,arguments)},m.guid=x.guid||(x.guid=p.guid++)),s.each(function(){p.event.add(this,d,m,c,f)})}p.event={global:{},add:function(s,d,f,c,m){var k,x,O,T,F,H,J,W,G,_t,Ot,ct=bt.get(s);if(Ke(s))for(f.handler&&(k=f,f=k.handler,m=k.selector),m&&p.find.matchesSelector(Fn,m),f.guid||(f.guid=p.guid++),(T=ct.events)||(T=ct.events=Object.create(null)),(x=ct.handle)||(x=ct.handle=function(ye){return typeof p<"u"&&p.event.triggered!==ye.type?p.event.dispatch.apply(s,arguments):void 0}),d=(d||"").match(Xe)||[""],F=d.length;F--;)O=ss.exec(d[F])||[],G=Ot=O[1],_t=(O[2]||"").split(".").sort(),G&&(J=p.event.special[G]||{},G=(m?J.delegateType:J.bindType)||G,J=p.event.special[G]||{},H=p.extend({type:G,origType:Ot,data:c,handler:f,guid:f.guid,selector:m,needsContext:m&&p.expr.match.needsContext.test(m),namespace:_t.join(".")},k),(W=T[G])||(W=T[G]=[],W.delegateCount=0,(!J.setup||J.setup.call(s,c,_t,x)===!1)&&s.addEventListener&&s.addEventListener(G,x)),J.add&&(J.add.call(s,H),H.handler.guid||(H.handler.guid=f.guid)),m?W.splice(W.delegateCount++,0,H):W.push(H),p.event.global[G]=!0)},remove:function(s,d,f,c,m){var k,x,O,T,F,H,J,W,G,_t,Ot,ct=bt.hasData(s)&&bt.get(s);if(!(!ct||!(T=ct.events))){for(d=(d||"").match(Xe)||[""],F=d.length;F--;){if(O=ss.exec(d[F])||[],G=Ot=O[1],_t=(O[2]||"").split(".").sort(),!G){for(G in T)p.event.remove(s,G+d[F],f,c,!0);continue}for(J=p.event.special[G]||{},G=(c?J.delegateType:J.bindType)||G,W=T[G]||[],O=O[2]&&new RegExp("(^|\\.)"+_t.join("\\.(?:.*\\.|)")+"(\\.|$)"),x=k=W.length;k--;)H=W[k],(m||Ot===H.origType)&&(!f||f.guid===H.guid)&&(!O||O.test(H.namespace))&&(!c||c===H.selector||c==="**"&&H.selector)&&(W.splice(k,1),H.selector&&W.delegateCount--,J.remove&&J.remove.call(s,H));x&&!W.length&&((!J.teardown||J.teardown.call(s,_t,ct.handle)===!1)&&p.removeEvent(s,G,ct.handle),delete T[G])}p.isEmptyObject(T)&&bt.remove(s,"handle events")}},dispatch:function(s){var d,f,c,m,k,x,O=new Array(arguments.length),T=p.event.fix(s),F=(bt.get(this,"events")||Object.create(null))[T.type]||[],H=p.event.special[T.type]||{};for(O[0]=T,d=1;d<arguments.length;d++)O[d]=arguments[d];if(T.delegateTarget=this,!(H.preDispatch&&H.preDispatch.call(this,T)===!1)){for(x=p.event.handlers.call(this,T,F),d=0;(m=x[d++])&&!T.isPropagationStopped();)for(T.currentTarget=m.elem,f=0;(k=m.handlers[f++])&&!T.isImmediatePropagationStopped();)(!T.rnamespace||k.namespace===!1||T.rnamespace.test(k.namespace))&&(T.handleObj=k,T.data=k.data,c=((p.event.special[k.origType]||{}).handle||k.handler).apply(m.elem,O),c!==void 0&&(T.result=c)===!1&&(T.preventDefault(),T.stopPropagation()));return H.postDispatch&&H.postDispatch.call(this,T),T.result}},handlers:function(s,d){var f,c,m,k,x,O=[],T=d.delegateCount,F=s.target;if(T&&F.nodeType&&!(s.type==="click"&&s.button>=1)){for(;F!==this;F=F.parentNode||this)if(F.nodeType===1&&!(s.type==="click"&&F.disabled===!0)){for(k=[],x={},f=0;f<T;f++)c=d[f],m=c.selector+" ",x[m]===void 0&&(x[m]=c.needsContext?p(m,this).index(F)>-1:p.find(m,this,null,[F]).length),x[m]&&k.push(c);k.length&&O.push({elem:F,handlers:k})}}return F=this,T<d.length&&O.push({elem:F,handlers:d.slice(T)}),O},addProp:function(s,d){Object.defineProperty(p.Event.prototype,s,{enumerable:!0,configurable:!0,get:j(d)?function(){if(this.originalEvent)return d(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[s]},set:function(f){Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:f})}})},fix:function(s){return s[p.expando]?s:new p.Event(s)},special:{load:{noBubble:!0},click:{setup:function(s){var d=this||s;return lr.test(d.type)&&d.click&&Te(d,"input")&&vo(d,"click",hr),!1},trigger:function(s){var d=this||s;return lr.test(d.type)&&d.click&&Te(d,"input")&&vo(d,"click"),!0},_default:function(s){var d=s.target;return lr.test(d.type)&&d.click&&Te(d,"input")&&bt.get(d,"click")||Te(d,"a")}},beforeunload:{postDispatch:function(s){s.result!==void 0&&s.originalEvent&&(s.originalEvent.returnValue=s.result)}}}};function vo(s,d,f){if(!f){bt.get(s,d)===void 0&&p.event.add(s,d,hr);return}bt.set(s,d,!1),p.event.add(s,d,{namespace:!1,handler:function(c){var m,k,x=bt.get(this,d);if(c.isTrigger&1&&this[d]){if(x.length)(p.event.special[d]||{}).delegateType&&c.stopPropagation();else if(x=l.call(arguments),bt.set(this,d,x),m=f(this,d),this[d](),k=bt.get(this,d),x!==k||m?bt.set(this,d,!1):k={},x!==k)return c.stopImmediatePropagation(),c.preventDefault(),k&&k.value}else x.length&&(bt.set(this,d,{value:p.event.trigger(p.extend(x[0],p.Event.prototype),x.slice(1),this)}),c.stopImmediatePropagation())}})}p.removeEvent=function(s,d,f){s.removeEventListener&&s.removeEventListener(d,f)},p.Event=function(s,d){if(!(this instanceof p.Event))return new p.Event(s,d);s&&s.type?(this.originalEvent=s,this.type=s.type,this.isDefaultPrevented=s.defaultPrevented||s.defaultPrevented===void 0&&s.returnValue===!1?hr:Dr,this.target=s.target&&s.target.nodeType===3?s.target.parentNode:s.target,this.currentTarget=s.currentTarget,this.relatedTarget=s.relatedTarget):this.type=s,d&&p.extend(this,d),this.timeStamp=s&&s.timeStamp||Date.now(),this[p.expando]=!0},p.Event.prototype={constructor:p.Event,isDefaultPrevented:Dr,isPropagationStopped:Dr,isImmediatePropagationStopped:Dr,isSimulated:!1,preventDefault:function(){var s=this.originalEvent;this.isDefaultPrevented=hr,s&&!this.isSimulated&&s.preventDefault()},stopPropagation:function(){var s=this.originalEvent;this.isPropagationStopped=hr,s&&!this.isSimulated&&s.stopPropagation()},stopImmediatePropagation:function(){var s=this.originalEvent;this.isImmediatePropagationStopped=hr,s&&!this.isSimulated&&s.stopImmediatePropagation(),this.stopPropagation()}},p.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},p.event.addProp),p.each({focus:"focusin",blur:"focusout"},function(s,d){p.event.special[s]={setup:function(){return vo(this,s,Kd),!1},trigger:function(){return vo(this,s),!0},_default:function(f){return bt.get(f.target,s)},delegateType:d}}),p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(s,d){p.event.special[s]={delegateType:d,bindType:d,handle:function(f){var c,m=this,k=f.relatedTarget,x=f.handleObj;return(!k||k!==m&&!p.contains(m,k))&&(f.type=x.origType,c=x.handler.apply(this,arguments),f.type=d),c}}}),p.fn.extend({on:function(s,d,f,c){return ls(this,s,d,f,c)},one:function(s,d,f,c){return ls(this,s,d,f,c,1)},off:function(s,d,f){var c,m;if(s&&s.preventDefault&&s.handleObj)return c=s.handleObj,p(s.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,c.selector,c.handler),this;if(typeof s=="object"){for(m in s)this.off(m,d,s[m]);return this}return(d===!1||typeof d=="function")&&(f=d,d=void 0),f===!1&&(f=Dr),this.each(function(){p.event.remove(this,s,f,d)})}});var Qd=/<script|<style|<link/i,tu=/checked\s*(?:[^=]|=\s*.checked.)/i,eu=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ua(s,d){return Te(s,"table")&&Te(d.nodeType!==11?d:d.firstChild,"tr")&&p(s).children("tbody")[0]||s}function nu(s){return s.type=(s.getAttribute("type")!==null)+"/"+s.type,s}function hs(s){return(s.type||"").slice(0,5)==="true/"?s.type=s.type.slice(5):s.removeAttribute("type"),s}function Pl(s,d){var f,c,m,k,x,O,T;if(d.nodeType===1){if(bt.hasData(s)&&(k=bt.get(s),T=k.events,T)){bt.remove(d,"handle events");for(m in T)for(f=0,c=T[m].length;f<c;f++)p.event.add(d,m,T[m][f])}be.hasData(s)&&(x=be.access(s),O=p.extend({},x),be.set(d,O))}}function iu(s,d){var f=d.nodeName.toLowerCase();f==="input"&&lr.test(s.type)?d.checked=s.checked:(f==="input"||f==="textarea")&&(d.defaultValue=s.defaultValue)}function Nr(s,d,f,c){d=u(d);var m,k,x,O,T,F,H=0,J=s.length,W=J-1,G=d[0],_t=j(G);if(_t||J>1&&typeof G=="string"&&!q.checkClone&&tu.test(G))return s.each(function(Ot){var ct=s.eq(Ot);_t&&(d[0]=G.call(this,Ot,ct.html())),Nr(ct,d,f,c)});if(J&&(m=Xl(d,s[0].ownerDocument,!1,s,c),k=m.firstChild,m.childNodes.length===1&&(m=k),k||c)){for(x=p.map(Ue(m,"script"),nu),O=x.length;H<J;H++)T=m,H!==W&&(T=p.clone(T,!0,!0),O&&p.merge(x,Ue(T,"script"))),f.call(s[H],T,H);if(O)for(F=x[x.length-1].ownerDocument,p.map(x,hs),H=0;H<O;H++)T=x[H],da.test(T.type||"")&&!bt.access(T,"globalEval")&&p.contains(F,T)&&(T.src&&(T.type||"").toLowerCase()!=="module"?p._evalUrl&&!T.noModule&&p._evalUrl(T.src,{nonce:T.nonce||T.getAttribute("nonce")},F):lt(T.textContent.replace(eu,""),T,F))}return s}function $l(s,d,f){for(var c,m=d?p.filter(d,s):s,k=0;(c=m[k])!=null;k++)!f&&c.nodeType===1&&p.cleanData(Ue(c)),c.parentNode&&(f&&Mr(c)&&as(Ue(c,"script")),c.parentNode.removeChild(c));return s}p.extend({htmlPrefilter:function(s){return s},clone:function(s,d,f){var c,m,k,x,O=s.cloneNode(!0),T=Mr(s);if(!q.noCloneChecked&&(s.nodeType===1||s.nodeType===11)&&!p.isXMLDoc(s))for(x=Ue(O),k=Ue(s),c=0,m=k.length;c<m;c++)iu(k[c],x[c]);if(d)if(f)for(k=k||Ue(s),x=x||Ue(O),c=0,m=k.length;c<m;c++)Pl(k[c],x[c]);else Pl(s,O);return x=Ue(O,"script"),x.length>0&&as(x,!T&&Ue(s,"script")),O},cleanData:function(s){for(var d,f,c,m=p.event.special,k=0;(f=s[k])!==void 0;k++)if(Ke(f)){if(d=f[bt.expando]){if(d.events)for(c in d.events)m[c]?p.event.remove(f,c):p.removeEvent(f,c,d.handle);f[bt.expando]=void 0}f[be.expando]&&(f[be.expando]=void 0)}}}),p.fn.extend({detach:function(s){return $l(this,s,!0)},remove:function(s){return $l(this,s)},text:function(s){return gn(this,function(d){return d===void 0?p.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=d)})},null,s,arguments.length)},append:function(){return Nr(this,arguments,function(s){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var d=ua(this,s);d.appendChild(s)}})},prepend:function(){return Nr(this,arguments,function(s){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var d=ua(this,s);d.insertBefore(s,d.firstChild)}})},before:function(){return Nr(this,arguments,function(s){this.parentNode&&this.parentNode.insertBefore(s,this)})},after:function(){return Nr(this,arguments,function(s){this.parentNode&&this.parentNode.insertBefore(s,this.nextSibling)})},empty:function(){for(var s,d=0;(s=this[d])!=null;d++)s.nodeType===1&&(p.cleanData(Ue(s,!1)),s.textContent="");return this},clone:function(s,d){return s=s==null?!1:s,d=d==null?s:d,this.map(function(){return p.clone(this,s,d)})},html:function(s){return gn(this,function(d){var f=this[0]||{},c=0,m=this.length;if(d===void 0&&f.nodeType===1)return f.innerHTML;if(typeof d=="string"&&!Qd.test(d)&&!en[(ha.exec(d)||["",""])[1].toLowerCase()]){d=p.htmlPrefilter(d);try{for(;c<m;c++)f=this[c]||{},f.nodeType===1&&(p.cleanData(Ue(f,!1)),f.innerHTML=d);f=0}catch(k){}}f&&this.empty().append(d)},null,s,arguments.length)},replaceWith:function(){var s=[];return Nr(this,arguments,function(d){var f=this.parentNode;p.inArray(this,s)<0&&(p.cleanData(Ue(this)),f&&f.replaceChild(d,this))},s)}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(s,d){p.fn[s]=function(f){for(var c,m=[],k=p(f),x=k.length-1,O=0;O<=x;O++)c=O===x?this:this.clone(!0),p(k[O])[d](c),g.apply(m,c.get());return this.pushStack(m)}});var ds=new RegExp("^("+$r+")(?!px)[a-z%]+$","i"),us=/^--/,fa=function(s){var d=s.ownerDocument.defaultView;return(!d||!d.opener)&&(d=e),d.getComputedStyle(s)},Ml=function(s,d,f){var c,m,k={};for(m in d)k[m]=s.style[m],s.style[m]=d[m];c=f.call(s);for(m in d)s.style[m]=k[m];return c},Dl=new RegExp(vi.join("|"),"i"),Nl="[\\x20\\t\\r\\n\\f]",ru=new RegExp("^"+Nl+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Nl+"+$","g");(function(){function s(){if(F){T.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",F.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Fn.appendChild(T).appendChild(F);var H=e.getComputedStyle(F);f=H.top!=="1%",O=d(H.marginLeft)===12,F.style.right="60%",k=d(H.right)===36,c=d(H.width)===36,F.style.position="absolute",m=d(F.offsetWidth/3)===12,Fn.removeChild(T),F=null}}function d(H){return Math.round(parseFloat(H))}var f,c,m,k,x,O,T=V.createElement("div"),F=V.createElement("div");F.style&&(F.style.backgroundClip="content-box",F.cloneNode(!0).style.backgroundClip="",q.clearCloneStyle=F.style.backgroundClip==="content-box",p.extend(q,{boxSizingReliable:function(){return s(),c},pixelBoxStyles:function(){return s(),k},pixelPosition:function(){return s(),f},reliableMarginLeft:function(){return s(),O},scrollboxSize:function(){return s(),m},reliableTrDimensions:function(){var H,J,W,G;return x==null&&(H=V.createElement("table"),J=V.createElement("tr"),W=V.createElement("div"),H.style.cssText="position:absolute;left:-11111px;border-collapse:separate",J.style.cssText="border:1px solid",J.style.height="1px",W.style.height="9px",W.style.display="block",Fn.appendChild(H).appendChild(J).appendChild(W),G=e.getComputedStyle(J),x=parseInt(G.height,10)+parseInt(G.borderTopWidth,10)+parseInt(G.borderBottomWidth,10)===J.offsetHeight,Fn.removeChild(H)),x}}))})();function bo(s,d,f){var c,m,k,x,O=us.test(d),T=s.style;return f=f||fa(s),f&&(x=f.getPropertyValue(d)||f[d],O&&x&&(x=x.replace(ru,"$1")||void 0),x===""&&!Mr(s)&&(x=p.style(s,d)),!q.pixelBoxStyles()&&ds.test(x)&&Dl.test(d)&&(c=T.width,m=T.minWidth,k=T.maxWidth,T.minWidth=T.maxWidth=T.width=x,x=f.width,T.width=c,T.minWidth=m,T.maxWidth=k)),x!==void 0?x+"":x}function Bl(s,d){return{get:function(){if(s()){delete this.get;return}return(this.get=d).apply(this,arguments)}}}var Fl=["Webkit","Moz","ms"],ql=V.createElement("div").style,yo={};function ou(s){for(var d=s[0].toUpperCase()+s.slice(1),f=Fl.length;f--;)if(s=Fl[f]+d,s in ql)return s}function Br(s){var d=p.cssProps[s]||yo[s];return d||(s in ql?s:yo[s]=ou(s)||s)}var au=/^(none|table(?!-c[ea]).+)/,su={position:"absolute",visibility:"hidden",display:"block"},Wl={letterSpacing:"0",fontWeight:"400"};function fs(s,d,f){var c=Xi.exec(d);return c?Math.max(0,c[2]-(f||0))+(c[3]||"px"):d}function ga(s,d,f,c,m,k){var x=d==="width"?1:0,O=0,T=0;if(f===(c?"border":"content"))return 0;for(;x<4;x+=2)f==="margin"&&(T+=p.css(s,f+vi[x],!0,m)),c?(f==="content"&&(T-=p.css(s,"padding"+vi[x],!0,m)),f!=="margin"&&(T-=p.css(s,"border"+vi[x]+"Width",!0,m))):(T+=p.css(s,"padding"+vi[x],!0,m),f!=="padding"?T+=p.css(s,"border"+vi[x]+"Width",!0,m):O+=p.css(s,"border"+vi[x]+"Width",!0,m));return!c&&k>=0&&(T+=Math.max(0,Math.ceil(s["offset"+d[0].toUpperCase()+d.slice(1)]-k-T-O-.5))||0),T}function gs(s,d,f){var c=fa(s),m=!q.boxSizingReliable()||f,k=m&&p.css(s,"boxSizing",!1,c)==="border-box",x=k,O=bo(s,d,c),T="offset"+d[0].toUpperCase()+d.slice(1);if(ds.test(O)){if(!f)return O;O="auto"}return(!q.boxSizingReliable()&&k||!q.reliableTrDimensions()&&Te(s,"tr")||O==="auto"||!parseFloat(O)&&p.css(s,"display",!1,c)==="inline")&&s.getClientRects().length&&(k=p.css(s,"boxSizing",!1,c)==="border-box",x=T in s,x&&(O=s[T])),O=parseFloat(O)||0,O+ga(s,d,f||(k?"border":"content"),x,c,O)+"px"}p.extend({cssHooks:{opacity:{get:function(s,d){if(d){var f=bo(s,"opacity");return f===""?"1":f}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(s,d,f,c){if(!(!s||s.nodeType===3||s.nodeType===8||!s.style)){var m,k,x,O=Bn(d),T=us.test(d),F=s.style;if(T||(d=Br(O)),x=p.cssHooks[d]||p.cssHooks[O],f!==void 0){if(k=typeof f,k==="string"&&(m=Xi.exec(f))&&m[1]&&(f=sa(s,d,m),k="number"),f==null||f!==f)return;k==="number"&&!T&&(f+=m&&m[3]||(p.cssNumber[O]?"":"px")),!q.clearCloneStyle&&f===""&&d.indexOf("background")===0&&(F[d]="inherit"),(!x||!("set"in x)||(f=x.set(s,f,c))!==void 0)&&(T?F.setProperty(d,f):F[d]=f)}else return x&&"get"in x&&(m=x.get(s,!1,c))!==void 0?m:F[d]}},css:function(s,d,f,c){var m,k,x,O=Bn(d),T=us.test(d);return T||(d=Br(O)),x=p.cssHooks[d]||p.cssHooks[O],x&&"get"in x&&(m=x.get(s,!0,f)),m===void 0&&(m=bo(s,d,c)),m==="normal"&&d in Wl&&(m=Wl[d]),f===""||f?(k=parseFloat(m),f===!0||isFinite(k)?k||0:m):m}}),p.each(["height","width"],function(s,d){p.cssHooks[d]={get:function(f,c,m){if(c)return au.test(p.css(f,"display"))&&(!f.getClientRects().length||!f.getBoundingClientRect().width)?Ml(f,su,function(){return gs(f,d,m)}):gs(f,d,m)},set:function(f,c,m){var k,x=fa(f),O=!q.scrollboxSize()&&x.position==="absolute",T=O||m,F=T&&p.css(f,"boxSizing",!1,x)==="border-box",H=m?ga(f,d,m,F,x):0;return F&&O&&(H-=Math.ceil(f["offset"+d[0].toUpperCase()+d.slice(1)]-parseFloat(x[d])-ga(f,d,"border",!1,x)-.5)),H&&(k=Xi.exec(c))&&(k[3]||"px")!=="px"&&(f.style[d]=c,c=p.css(f,d)),fs(f,c,H)}}}),p.cssHooks.marginLeft=Bl(q.reliableMarginLeft,function(s,d){if(d)return(parseFloat(bo(s,"marginLeft"))||s.getBoundingClientRect().left-Ml(s,{marginLeft:0},function(){return s.getBoundingClientRect().left}))+"px"}),p.each({margin:"",padding:"",border:"Width"},function(s,d){p.cssHooks[s+d]={expand:function(f){for(var c=0,m={},k=typeof f=="string"?f.split(" "):[f];c<4;c++)m[s+vi[c]+d]=k[c]||k[c-2]||k[0];return m}},s!=="margin"&&(p.cssHooks[s+d].set=fs)}),p.fn.extend({css:function(s,d){return gn(this,function(f,c,m){var k,x,O={},T=0;if(Array.isArray(c)){for(k=fa(f),x=c.length;T<x;T++)O[c[T]]=p.css(f,c[T],!1,k);return O}return m!==void 0?p.style(f,c,m):p.css(f,c)},s,d,arguments.length>1)}});function nn(s,d,f,c,m){return new nn.prototype.init(s,d,f,c,m)}p.Tween=nn,nn.prototype={constructor:nn,init:function(s,d,f,c,m,k){this.elem=s,this.prop=f,this.easing=m||p.easing._default,this.options=d,this.start=this.now=this.cur(),this.end=c,this.unit=k||(p.cssNumber[f]?"":"px")},cur:function(){var s=nn.propHooks[this.prop];return s&&s.get?s.get(this):nn.propHooks._default.get(this)},run:function(s){var d,f=nn.propHooks[this.prop];return this.options.duration?this.pos=d=p.easing[this.easing](s,this.options.duration*s,0,1,this.options.duration):this.pos=d=s,this.now=(this.end-this.start)*d+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),f&&f.set?f.set(this):nn.propHooks._default.set(this),this}},nn.prototype.init.prototype=nn.prototype,nn.propHooks={_default:{get:function(s){var d;return s.elem.nodeType!==1||s.elem[s.prop]!=null&&s.elem.style[s.prop]==null?s.elem[s.prop]:(d=p.css(s.elem,s.prop,""),!d||d==="auto"?0:d)},set:function(s){p.fx.step[s.prop]?p.fx.step[s.prop](s):s.elem.nodeType===1&&(p.cssHooks[s.prop]||s.elem.style[Br(s.prop)]!=null)?p.style(s.elem,s.prop,s.now+s.unit):s.elem[s.prop]=s.now}}},nn.propHooks.scrollTop=nn.propHooks.scrollLeft={set:function(s){s.elem.nodeType&&s.elem.parentNode&&(s.elem[s.prop]=s.now)}},p.easing={linear:function(s){return s},swing:function(s){return .5-Math.cos(s*Math.PI)/2},_default:"swing"},p.fx=nn.prototype.init,p.fx.step={};var Fr,ca,lu=/^(?:toggle|show|hide)$/,zl=/queueHooks$/;function wa(){ca&&(V.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(wa):e.setTimeout(wa,p.fx.interval),p.fx.tick())}function cs(){return e.setTimeout(function(){Fr=void 0}),Fr=Date.now()}function qr(s,d){var f,c=0,m={height:s};for(d=d?1:0;c<4;c+=2-d)f=vi[c],m["margin"+f]=m["padding"+f]=s;return d&&(m.opacity=m.width=s),m}function Ul(s,d,f){for(var c,m=(An.tweeners[d]||[]).concat(An.tweeners["*"]),k=0,x=m.length;k<x;k++)if(c=m[k].call(f,d,s))return c}function Hl(s,d,f){var c,m,k,x,O,T,F,H,J="width"in d||"height"in d,W=this,G={},_t=s.style,Ot=s.nodeType&&bi(s),ct=bt.get(s,"fxshow");f.queue||(x=p._queueHooks(s,"fx"),x.unqueued==null&&(x.unqueued=0,O=x.empty.fire,x.empty.fire=function(){x.unqueued||O()}),x.unqueued++,W.always(function(){W.always(function(){x.unqueued--,p.queue(s,"fx").length||x.empty.fire()})}));for(c in d)if(m=d[c],lu.test(m)){if(delete d[c],k=k||m==="toggle",m===(Ot?"hide":"show"))if(m==="show"&&ct&&ct[c]!==void 0)Ot=!0;else continue;G[c]=ct&&ct[c]||p.style(s,c)}if(T=!p.isEmptyObject(d),!(!T&&p.isEmptyObject(G))){J&&s.nodeType===1&&(f.overflow=[_t.overflow,_t.overflowX,_t.overflowY],F=ct&&ct.display,F==null&&(F=bt.get(s,"display")),H=p.css(s,"display"),H==="none"&&(F?H=F:(Pi([s],!0),F=s.style.display||F,H=p.css(s,"display"),Pi([s]))),(H==="inline"||H==="inline-block"&&F!=null)&&p.css(s,"float")==="none"&&(T||(W.done(function(){_t.display=F}),F==null&&(H=_t.display,F=H==="none"?"":H)),_t.display="inline-block")),f.overflow&&(_t.overflow="hidden",W.always(function(){_t.overflow=f.overflow[0],_t.overflowX=f.overflow[1],_t.overflowY=f.overflow[2]})),T=!1;for(c in G)T||(ct?"hidden"in ct&&(Ot=ct.hidden):ct=bt.access(s,"fxshow",{display:F}),k&&(ct.hidden=!Ot),Ot&&Pi([s],!0),W.done(function(){Ot||Pi([s]),bt.remove(s,"fxshow");for(c in G)p.style(s,c,G[c])})),T=Ul(Ot?ct[c]:0,c,W),c in ct||(ct[c]=T.start,Ot&&(T.end=T.start,T.start=0))}}function pa(s,d){var f,c,m,k,x;for(f in s)if(c=Bn(f),m=d[c],k=s[f],Array.isArray(k)&&(m=k[1],k=s[f]=k[0]),f!==c&&(s[c]=k,delete s[f]),x=p.cssHooks[c],x&&"expand"in x){k=x.expand(k),delete s[c];for(f in k)f in s||(s[f]=k[f],d[f]=m)}else d[c]=m}function An(s,d,f){var c,m,k=0,x=An.prefilters.length,O=p.Deferred().always(function(){delete T.elem}),T=function(){if(m)return!1;for(var J=Fr||cs(),W=Math.max(0,F.startTime+F.duration-J),G=W/F.duration||0,_t=1-G,Ot=0,ct=F.tweens.length;Ot<ct;Ot++)F.tweens[Ot].run(_t);return O.notifyWith(s,[F,_t,W]),_t<1&&ct?W:(ct||O.notifyWith(s,[F,1,0]),O.resolveWith(s,[F]),!1)},F=O.promise({elem:s,props:p.extend({},d),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},f),originalProperties:d,originalOptions:f,startTime:Fr||cs(),duration:f.duration,tweens:[],createTween:function(J,W){var G=p.Tween(s,F.opts,J,W,F.opts.specialEasing[J]||F.opts.easing);return F.tweens.push(G),G},stop:function(J){var W=0,G=J?F.tweens.length:0;if(m)return this;for(m=!0;W<G;W++)F.tweens[W].run(1);return J?(O.notifyWith(s,[F,1,0]),O.resolveWith(s,[F,J])):O.rejectWith(s,[F,J]),this}}),H=F.props;for(pa(H,F.opts.specialEasing);k<x;k++)if(c=An.prefilters[k].call(F,s,H,F.opts),c)return j(c.stop)&&(p._queueHooks(F.elem,F.opts.queue).stop=c.stop.bind(c)),c;return p.map(H,Ul,F),j(F.opts.start)&&F.opts.start.call(s,F),F.progress(F.opts.progress).done(F.opts.done,F.opts.complete).fail(F.opts.fail).always(F.opts.always),p.fx.timer(p.extend(T,{elem:s,anim:F,queue:F.opts.queue})),F}p.Animation=p.extend(An,{tweeners:{"*":[function(s,d){var f=this.createTween(s,d);return sa(f.elem,s,Xi.exec(d),f),f}]},tweener:function(s,d){j(s)?(d=s,s=["*"]):s=s.match(Xe);for(var f,c=0,m=s.length;c<m;c++)f=s[c],An.tweeners[f]=An.tweeners[f]||[],An.tweeners[f].unshift(d)},prefilters:[Hl],prefilter:function(s,d){d?An.prefilters.unshift(s):An.prefilters.push(s)}}),p.speed=function(s,d,f){var c=s&&typeof s=="object"?p.extend({},s):{complete:f||!f&&d||j(s)&&s,duration:s,easing:f&&d||d&&!j(d)&&d};return p.fx.off?c.duration=0:typeof c.duration!="number"&&(c.duration in p.fx.speeds?c.duration=p.fx.speeds[c.duration]:c.duration=p.fx.speeds._default),(c.queue==null||c.queue===!0)&&(c.queue="fx"),c.old=c.complete,c.complete=function(){j(c.old)&&c.old.call(this),c.queue&&p.dequeue(this,c.queue)},c},p.fn.extend({fadeTo:function(s,d,f,c){return this.filter(bi).css("opacity",0).show().end().animate({opacity:d},s,f,c)},animate:function(s,d,f,c){var m=p.isEmptyObject(s),k=p.speed(d,f,c),x=function(){var O=An(this,p.extend({},s),k);(m||bt.get(this,"finish"))&&O.stop(!0)};return x.finish=x,m||k.queue===!1?this.each(x):this.queue(k.queue,x)},stop:function(s,d,f){var c=function(m){var k=m.stop;delete m.stop,k(f)};return typeof s!="string"&&(f=d,d=s,s=void 0),d&&this.queue(s||"fx",[]),this.each(function(){var m=!0,k=s!=null&&s+"queueHooks",x=p.timers,O=bt.get(this);if(k)O[k]&&O[k].stop&&c(O[k]);else for(k in O)O[k]&&O[k].stop&&zl.test(k)&&c(O[k]);for(k=x.length;k--;)x[k].elem===this&&(s==null||x[k].queue===s)&&(x[k].anim.stop(f),m=!1,x.splice(k,1));(m||!f)&&p.dequeue(this,s)})},finish:function(s){return s!==!1&&(s=s||"fx"),this.each(function(){var d,f=bt.get(this),c=f[s+"queue"],m=f[s+"queueHooks"],k=p.timers,x=c?c.length:0;for(f.finish=!0,p.queue(this,s,[]),m&&m.stop&&m.stop.call(this,!0),d=k.length;d--;)k[d].elem===this&&k[d].queue===s&&(k[d].anim.stop(!0),k.splice(d,1));for(d=0;d<x;d++)c[d]&&c[d].finish&&c[d].finish.call(this);delete f.finish})}}),p.each(["toggle","show","hide"],function(s,d){var f=p.fn[d];p.fn[d]=function(c,m,k){return c==null||typeof c=="boolean"?f.apply(this,arguments):this.animate(qr(d,!0),c,m,k)}}),p.each({slideDown:qr("show"),slideUp:qr("hide"),slideToggle:qr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(s,d){p.fn[s]=function(f,c,m){return this.animate(d,f,c,m)}}),p.timers=[],p.fx.tick=function(){var s,d=0,f=p.timers;for(Fr=Date.now();d<f.length;d++)s=f[d],!s()&&f[d]===s&&f.splice(d--,1);f.length||p.fx.stop(),Fr=void 0},p.fx.timer=function(s){p.timers.push(s),p.fx.start()},p.fx.interval=13,p.fx.start=function(){ca||(ca=!0,wa())},p.fx.stop=function(){ca=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(s,d){return s=p.fx&&p.fx.speeds[s]||s,d=d||"fx",this.queue(d,function(f,c){var m=e.setTimeout(f,s);c.stop=function(){e.clearTimeout(m)}})},function(){var s=V.createElement("input"),d=V.createElement("select"),f=d.appendChild(V.createElement("option"));s.type="checkbox",q.checkOn=s.value!=="",q.optSelected=f.selected,s=V.createElement("input"),s.value="t",s.type="radio",q.radioValue=s.value==="t"}();var Gl,Wr=p.expr.attrHandle;p.fn.extend({attr:function(s,d){return gn(this,p.attr,s,d,arguments.length>1)},removeAttr:function(s){return this.each(function(){p.removeAttr(this,s)})}}),p.extend({attr:function(s,d,f){var c,m,k=s.nodeType;if(!(k===3||k===8||k===2)){if(typeof s.getAttribute>"u")return p.prop(s,d,f);if((k!==1||!p.isXMLDoc(s))&&(m=p.attrHooks[d.toLowerCase()]||(p.expr.match.bool.test(d)?Gl:void 0)),f!==void 0){if(f===null){p.removeAttr(s,d);return}return m&&"set"in m&&(c=m.set(s,f,d))!==void 0?c:(s.setAttribute(d,f+""),f)}return m&&"get"in m&&(c=m.get(s,d))!==null?c:(c=p.find.attr(s,d),c==null?void 0:c)}},attrHooks:{type:{set:function(s,d){if(!q.radioValue&&d==="radio"&&Te(s,"input")){var f=s.value;return s.setAttribute("type",d),f&&(s.value=f),d}}}},removeAttr:function(s,d){var f,c=0,m=d&&d.match(Xe);if(m&&s.nodeType===1)for(;f=m[c++];)s.removeAttribute(f)}}),Gl={set:function(s,d,f){return d===!1?p.removeAttr(s,f):s.setAttribute(f,f),f}},p.each(p.expr.match.bool.source.match(/\w+/g),function(s,d){var f=Wr[d]||p.find.attr;Wr[d]=function(c,m,k){var x,O,T=m.toLowerCase();return k||(O=Wr[T],Wr[T]=x,x=f(c,m,k)!=null?T:null,Wr[T]=O),x}});var jl=/^(?:input|select|textarea|button)$/i,ws=/^(?:a|area)$/i;p.fn.extend({prop:function(s,d){return gn(this,p.prop,s,d,arguments.length>1)},removeProp:function(s){return this.each(function(){delete this[p.propFix[s]||s]})}}),p.extend({prop:function(s,d,f){var c,m,k=s.nodeType;if(!(k===3||k===8||k===2))return(k!==1||!p.isXMLDoc(s))&&(d=p.propFix[d]||d,m=p.propHooks[d]),f!==void 0?m&&"set"in m&&(c=m.set(s,f,d))!==void 0?c:s[d]=f:m&&"get"in m&&(c=m.get(s,d))!==null?c:s[d]},propHooks:{tabIndex:{get:function(s){var d=p.find.attr(s,"tabindex");return d?parseInt(d,10):jl.test(s.nodeName)||ws.test(s.nodeName)&&s.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),q.optSelected||(p.propHooks.selected={get:function(s){var d=s.parentNode;return d&&d.parentNode&&d.parentNode.selectedIndex,null},set:function(s){var d=s.parentNode;d&&(d.selectedIndex,d.parentNode&&d.parentNode.selectedIndex)}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){p.propFix[this.toLowerCase()]=this});function dr(s){var d=s.match(Xe)||[];return d.join(" ")}function $i(s){return s.getAttribute&&s.getAttribute("class")||""}function xo(s){return Array.isArray(s)?s:typeof s=="string"?s.match(Xe)||[]:[]}p.fn.extend({addClass:function(s){var d,f,c,m,k,x;return j(s)?this.each(function(O){p(this).addClass(s.call(this,O,$i(this)))}):(d=xo(s),d.length?this.each(function(){if(c=$i(this),f=this.nodeType===1&&" "+dr(c)+" ",f){for(k=0;k<d.length;k++)m=d[k],f.indexOf(" "+m+" ")<0&&(f+=m+" ");x=dr(f),c!==x&&this.setAttribute("class",x)}}):this)},removeClass:function(s){var d,f,c,m,k,x;return j(s)?this.each(function(O){p(this).removeClass(s.call(this,O,$i(this)))}):arguments.length?(d=xo(s),d.length?this.each(function(){if(c=$i(this),f=this.nodeType===1&&" "+dr(c)+" ",f){for(k=0;k<d.length;k++)for(m=d[k];f.indexOf(" "+m+" ")>-1;)f=f.replace(" "+m+" "," ");x=dr(f),c!==x&&this.setAttribute("class",x)}}):this):this.attr("class","")},toggleClass:function(s,d){var f,c,m,k,x=typeof s,O=x==="string"||Array.isArray(s);return j(s)?this.each(function(T){p(this).toggleClass(s.call(this,T,$i(this),d),d)}):typeof d=="boolean"&&O?d?this.addClass(s):this.removeClass(s):(f=xo(s),this.each(function(){if(O)for(k=p(this),m=0;m<f.length;m++)c=f[m],k.hasClass(c)?k.removeClass(c):k.addClass(c);else(s===void 0||x==="boolean")&&(c=$i(this),c&&bt.set(this,"__className__",c),this.setAttribute&&this.setAttribute("class",c||s===!1?"":bt.get(this,"__className__")||""))}))},hasClass:function(s){var d,f,c=0;for(d=" "+s+" ";f=this[c++];)if(f.nodeType===1&&(" "+dr($i(f))+" ").indexOf(d)>-1)return!0;return!1}});var ps=/\r/g;p.fn.extend({val:function(s){var d,f,c,m=this[0];return arguments.length?(c=j(s),this.each(function(k){var x;this.nodeType===1&&(c?x=s.call(this,k,p(this).val()):x=s,x==null?x="":typeof x=="number"?x+="":Array.isArray(x)&&(x=p.map(x,function(O){return O==null?"":O+""})),d=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],(!d||!("set"in d)||d.set(this,x,"value")===void 0)&&(this.value=x))})):m?(d=p.valHooks[m.type]||p.valHooks[m.nodeName.toLowerCase()],d&&"get"in d&&(f=d.get(m,"value"))!==void 0?f:(f=m.value,typeof f=="string"?f.replace(ps,""):f==null?"":f)):void 0}}),p.extend({valHooks:{option:{get:function(s){var d=p.find.attr(s,"value");return d!=null?d:dr(p.text(s))}},select:{get:function(s){var d,f,c,m=s.options,k=s.selectedIndex,x=s.type==="select-one",O=x?null:[],T=x?k+1:m.length;for(k<0?c=T:c=x?k:0;c<T;c++)if(f=m[c],(f.selected||c===k)&&!f.disabled&&(!f.parentNode.disabled||!Te(f.parentNode,"optgroup"))){if(d=p(f).val(),x)return d;O.push(d)}return O},set:function(s,d){for(var f,c,m=s.options,k=p.makeArray(d),x=m.length;x--;)c=m[x],(c.selected=p.inArray(p.valHooks.option.get(c),k)>-1)&&(f=!0);return f||(s.selectedIndex=-1),k}}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(s,d){if(Array.isArray(d))return s.checked=p.inArray(p(s).val(),d)>-1}},q.checkOn||(p.valHooks[this].get=function(s){return s.getAttribute("value")===null?"on":s.value})}),q.focusin="onfocusin"in e;var ur=/^(?:focusinfocus|focusoutblur)$/,_s=function(s){s.stopPropagation()};p.extend(p.event,{trigger:function(s,d,f,c){var m,k,x,O,T,F,H,J,W=[f||V],G=Y.call(s,"type")?s.type:s,_t=Y.call(s,"namespace")?s.namespace.split("."):[];if(k=J=x=f=f||V,!(f.nodeType===3||f.nodeType===8)&&!ur.test(G+p.event.triggered)&&(G.indexOf(".")>-1&&(_t=G.split("."),G=_t.shift(),_t.sort()),T=G.indexOf(":")<0&&"on"+G,s=s[p.expando]?s:new p.Event(G,typeof s=="object"&&s),s.isTrigger=c?2:3,s.namespace=_t.join("."),s.rnamespace=s.namespace?new RegExp("(^|\\.)"+_t.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,s.result=void 0,s.target||(s.target=f),d=d==null?[s]:p.makeArray(d,[s]),H=p.event.special[G]||{},!(!c&&H.trigger&&H.trigger.apply(f,d)===!1))){if(!c&&!H.noBubble&&!et(f)){for(O=H.delegateType||G,ur.test(O+G)||(k=k.parentNode);k;k=k.parentNode)W.push(k),x=k;x===(f.ownerDocument||V)&&W.push(x.defaultView||x.parentWindow||e)}for(m=0;(k=W[m++])&&!s.isPropagationStopped();)J=k,s.type=m>1?O:H.bindType||G,F=(bt.get(k,"events")||Object.create(null))[s.type]&&bt.get(k,"handle"),F&&F.apply(k,d),F=T&&k[T],F&&F.apply&&Ke(k)&&(s.result=F.apply(k,d),s.result===!1&&s.preventDefault());return s.type=G,!c&&!s.isDefaultPrevented()&&(!H._default||H._default.apply(W.pop(),d)===!1)&&Ke(f)&&T&&j(f[G])&&!et(f)&&(x=f[T],x&&(f[T]=null),p.event.triggered=G,s.isPropagationStopped()&&J.addEventListener(G,_s),f[G](),s.isPropagationStopped()&&J.removeEventListener(G,_s),p.event.triggered=void 0,x&&(f[T]=x)),s.result}},simulate:function(s,d,f){var c=p.extend(new p.Event,f,{type:s,isSimulated:!0});p.event.trigger(c,null,d)}}),p.fn.extend({trigger:function(s,d){return this.each(function(){p.event.trigger(s,d,this)})},triggerHandler:function(s,d){var f=this[0];if(f)return p.event.trigger(s,d,f,!0)}}),q.focusin||p.each({focus:"focusin",blur:"focusout"},function(s,d){var f=function(c){p.event.simulate(d,c.target,p.event.fix(c))};p.event.special[d]={setup:function(){var c=this.ownerDocument||this.document||this,m=bt.access(c,d);m||c.addEventListener(s,f,!0),bt.access(c,d,(m||0)+1)},teardown:function(){var c=this.ownerDocument||this.document||this,m=bt.access(c,d)-1;m?bt.access(c,d,m):(c.removeEventListener(s,f,!0),bt.remove(c,d))}}});var zr=e.location,Vl={guid:Date.now()},_a=/\?/;p.parseXML=function(s){var d,f;if(!s||typeof s!="string")return null;try{d=new e.DOMParser().parseFromString(s,"text/xml")}catch(c){}return f=d&&d.getElementsByTagName("parsererror")[0],(!d||f)&&p.error("Invalid XML: "+(f?p.map(f.childNodes,function(c){return c.textContent}).join(`
`):s)),d};var Zl=/\[\]$/,ms=/\r?\n/g,Kl=/^(?:submit|button|image|reset|file)$/i,hu=/^(?:input|select|textarea|keygen)/i;function ks(s,d,f,c){var m;if(Array.isArray(d))p.each(d,function(k,x){f||Zl.test(s)?c(s,x):ks(s+"["+(typeof x=="object"&&x!=null?k:"")+"]",x,f,c)});else if(!f&&nt(d)==="object")for(m in d)ks(s+"["+m+"]",d[m],f,c);else c(s,d)}p.param=function(s,d){var f,c=[],m=function(k,x){var O=j(x)?x():x;c[c.length]=encodeURIComponent(k)+"="+encodeURIComponent(O==null?"":O)};if(s==null)return"";if(Array.isArray(s)||s.jquery&&!p.isPlainObject(s))p.each(s,function(){m(this.name,this.value)});else for(f in s)ks(f,s[f],d,m);return c.join("&")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var s=p.prop(this,"elements");return s?p.makeArray(s):this}).filter(function(){var s=this.type;return this.name&&!p(this).is(":disabled")&&hu.test(this.nodeName)&&!Kl.test(s)&&(this.checked||!lr.test(s))}).map(function(s,d){var f=p(this).val();return f==null?null:Array.isArray(f)?p.map(f,function(c){return{name:d.name,value:c.replace(ms,`\r
`)}}):{name:d.name,value:f.replace(ms,`\r
`)}}).get()}});var du=/%20/g,Jl=/#.*$/,uu=/([?&])_=[^&]*/,fu=/^(.*?):[ \t]*([^\r\n]*)$/mg,gu=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,cu=/^(?:GET|HEAD)$/,vs=/^\/\//,Ql={},bs={},th="*/".concat("*"),ys=V.createElement("a");ys.href=zr.href;function eh(s){return function(d,f){typeof d!="string"&&(f=d,d="*");var c,m=0,k=d.toLowerCase().match(Xe)||[];if(j(f))for(;c=k[m++];)c[0]==="+"?(c=c.slice(1)||"*",(s[c]=s[c]||[]).unshift(f)):(s[c]=s[c]||[]).push(f)}}function ge(s,d,f,c){var m={},k=s===bs;function x(O){var T;return m[O]=!0,p.each(s[O]||[],function(F,H){var J=H(d,f,c);if(typeof J=="string"&&!k&&!m[J])return d.dataTypes.unshift(J),x(J),!1;if(k)return!(T=J)}),T}return x(d.dataTypes[0])||!m["*"]&&x("*")}function he(s,d){var f,c,m=p.ajaxSettings.flatOptions||{};for(f in d)d[f]!==void 0&&((m[f]?s:c||(c={}))[f]=d[f]);return c&&p.extend(!0,s,c),s}function wu(s,d,f){for(var c,m,k,x,O=s.contents,T=s.dataTypes;T[0]==="*";)T.shift(),c===void 0&&(c=s.mimeType||d.getResponseHeader("Content-Type"));if(c){for(m in O)if(O[m]&&O[m].test(c)){T.unshift(m);break}}if(T[0]in f)k=T[0];else{for(m in f){if(!T[0]||s.converters[m+" "+T[0]]){k=m;break}x||(x=m)}k=k||x}if(k)return k!==T[0]&&T.unshift(k),f[k]}function pu(s,d,f,c){var m,k,x,O,T,F={},H=s.dataTypes.slice();if(H[1])for(x in s.converters)F[x.toLowerCase()]=s.converters[x];for(k=H.shift();k;)if(s.responseFields[k]&&(f[s.responseFields[k]]=d),!T&&c&&s.dataFilter&&(d=s.dataFilter(d,s.dataType)),T=k,k=H.shift(),k){if(k==="*")k=T;else if(T!=="*"&&T!==k){if(x=F[T+" "+k]||F["* "+k],!x){for(m in F)if(O=m.split(" "),O[1]===k&&(x=F[T+" "+O[0]]||F["* "+O[0]],x)){x===!0?x=F[m]:F[m]!==!0&&(k=O[0],H.unshift(O[1]));break}}if(x!==!0)if(x&&s.throws)d=x(d);else try{d=x(d)}catch(J){return{state:"parsererror",error:x?J:"No conversion from "+T+" to "+k}}}}return{state:"success",data:d}}p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zr.href,type:"GET",isLocal:gu.test(zr.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":th,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(s,d){return d?he(he(s,p.ajaxSettings),d):he(p.ajaxSettings,s)},ajaxPrefilter:eh(Ql),ajaxTransport:eh(bs),ajax:function(s,d){typeof s=="object"&&(d=s,s=void 0),d=d||{};var f,c,m,k,x,O,T,F,H,J,W=p.ajaxSetup({},d),G=W.context||W,_t=W.context&&(G.nodeType||G.jquery)?p(G):p.event,Ot=p.Deferred(),ct=p.Callbacks("once memory"),ye=W.statusCode||{},xe={},Ht={},Gt="canceled",Tt={readyState:0,getResponseHeader:function(jt){var ke;if(T){if(!k)for(k={};ke=fu.exec(m);)k[ke[1].toLowerCase()+" "]=(k[ke[1].toLowerCase()+" "]||[]).concat(ke[2]);ke=k[jt.toLowerCase()+" "]}return ke==null?null:ke.join(", ")},getAllResponseHeaders:function(){return T?m:null},setRequestHeader:function(jt,ke){return T==null&&(jt=Ht[jt.toLowerCase()]=Ht[jt.toLowerCase()]||jt,xe[jt]=ke),this},overrideMimeType:function(jt){return T==null&&(W.mimeType=jt),this},statusCode:function(jt){var ke;if(jt)if(T)Tt.always(jt[Tt.status]);else for(ke in jt)ye[ke]=[ye[ke],jt[ke]];return this},abort:function(jt){var ke=jt||Gt;return f&&f.abort(ke),rn(0,ke),this}};if(Ot.promise(Tt),W.url=((s||W.url||zr.href)+"").replace(vs,zr.protocol+"//"),W.type=d.method||d.type||W.method||W.type,W.dataTypes=(W.dataType||"*").toLowerCase().match(Xe)||[""],W.crossDomain==null){O=V.createElement("a");try{O.href=W.url,O.href=O.href,W.crossDomain=ys.protocol+"//"+ys.host!=O.protocol+"//"+O.host}catch(jt){W.crossDomain=!0}}if(W.data&&W.processData&&typeof W.data!="string"&&(W.data=p.param(W.data,W.traditional)),ge(Ql,W,d,Tt),T)return Tt;F=p.event&&W.global,F&&p.active++===0&&p.event.trigger("ajaxStart"),W.type=W.type.toUpperCase(),W.hasContent=!cu.test(W.type),c=W.url.replace(Jl,""),W.hasContent?W.data&&W.processData&&(W.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(W.data=W.data.replace(du,"+")):(J=W.url.slice(c.length),W.data&&(W.processData||typeof W.data=="string")&&(c+=(_a.test(c)?"&":"?")+W.data,delete W.data),W.cache===!1&&(c=c.replace(uu,"$1"),J=(_a.test(c)?"&":"?")+"_="+Vl.guid+++J),W.url=c+J),W.ifModified&&(p.lastModified[c]&&Tt.setRequestHeader("If-Modified-Since",p.lastModified[c]),p.etag[c]&&Tt.setRequestHeader("If-None-Match",p.etag[c])),(W.data&&W.hasContent&&W.contentType!==!1||d.contentType)&&Tt.setRequestHeader("Content-Type",W.contentType),Tt.setRequestHeader("Accept",W.dataTypes[0]&&W.accepts[W.dataTypes[0]]?W.accepts[W.dataTypes[0]]+(W.dataTypes[0]!=="*"?", "+th+"; q=0.01":""):W.accepts["*"]);for(H in W.headers)Tt.setRequestHeader(H,W.headers[H]);if(W.beforeSend&&(W.beforeSend.call(G,Tt,W)===!1||T))return Tt.abort();if(Gt="abort",ct.add(W.complete),Tt.done(W.success),Tt.fail(W.error),f=ge(bs,W,d,Tt),!f)rn(-1,"No Transport");else{if(Tt.readyState=1,F&&_t.trigger("ajaxSend",[Tt,W]),T)return Tt;W.async&&W.timeout>0&&(x=e.setTimeout(function(){Tt.abort("timeout")},W.timeout));try{T=!1,f.send(xe,rn)}catch(jt){if(T)throw jt;rn(-1,jt)}}function rn(jt,ke,Co,ma){var on,ei,En,an,yi,cn=ke;T||(T=!0,x&&e.clearTimeout(x),f=void 0,m=ma||"",Tt.readyState=jt>0?4:0,on=jt>=200&&jt<300||jt===304,Co&&(an=wu(W,Tt,Co)),!on&&p.inArray("script",W.dataTypes)>-1&&p.inArray("json",W.dataTypes)<0&&(W.converters["text script"]=function(){}),an=pu(W,an,Tt,on),on?(W.ifModified&&(yi=Tt.getResponseHeader("Last-Modified"),yi&&(p.lastModified[c]=yi),yi=Tt.getResponseHeader("etag"),yi&&(p.etag[c]=yi)),jt===204||W.type==="HEAD"?cn="nocontent":jt===304?cn="notmodified":(cn=an.state,ei=an.data,En=an.error,on=!En)):(En=cn,(jt||!cn)&&(cn="error",jt<0&&(jt=0))),Tt.status=jt,Tt.statusText=(ke||cn)+"",on?Ot.resolveWith(G,[ei,cn,Tt]):Ot.rejectWith(G,[Tt,cn,En]),Tt.statusCode(ye),ye=void 0,F&&_t.trigger(on?"ajaxSuccess":"ajaxError",[Tt,W,on?ei:En]),ct.fireWith(G,[Tt,cn]),F&&(_t.trigger("ajaxComplete",[Tt,W]),--p.active||p.event.trigger("ajaxStop")))}return Tt},getJSON:function(s,d,f){return p.get(s,d,f,"json")},getScript:function(s,d){return p.get(s,void 0,d,"script")}}),p.each(["get","post"],function(s,d){p[d]=function(f,c,m,k){return j(c)&&(k=k||m,m=c,c=void 0),p.ajax(p.extend({url:f,type:d,dataType:k,data:c,success:m},p.isPlainObject(f)&&f))}}),p.ajaxPrefilter(function(s){var d;for(d in s.headers)d.toLowerCase()==="content-type"&&(s.contentType=s.headers[d]||"")}),p._evalUrl=function(s,d,f){return p.ajax({url:s,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(c){p.globalEval(c,d,f)}})},p.fn.extend({wrapAll:function(s){var d;return this[0]&&(j(s)&&(s=s.call(this[0])),d=p(s,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&d.insertBefore(this[0]),d.map(function(){for(var f=this;f.firstElementChild;)f=f.firstElementChild;return f}).append(this)),this},wrapInner:function(s){return j(s)?this.each(function(d){p(this).wrapInner(s.call(this,d))}):this.each(function(){var d=p(this),f=d.contents();f.length?f.wrapAll(s):d.append(s)})},wrap:function(s){var d=j(s);return this.each(function(f){p(this).wrapAll(d?s.call(this,f):s)})},unwrap:function(s){return this.parent(s).not("body").each(function(){p(this).replaceWith(this.childNodes)}),this}}),p.expr.pseudos.hidden=function(s){return!p.expr.pseudos.visible(s)},p.expr.pseudos.visible=function(s){return!!(s.offsetWidth||s.offsetHeight||s.getClientRects().length)},p.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(s){}};var _u={0:200,1223:204},So=p.ajaxSettings.xhr();q.cors=!!So&&"withCredentials"in So,q.ajax=So=!!So,p.ajaxTransport(function(s){var d,f;if(q.cors||So&&!s.crossDomain)return{send:function(c,m){var k,x=s.xhr();if(x.open(s.type,s.url,s.async,s.username,s.password),s.xhrFields)for(k in s.xhrFields)x[k]=s.xhrFields[k];s.mimeType&&x.overrideMimeType&&x.overrideMimeType(s.mimeType),!s.crossDomain&&!c["X-Requested-With"]&&(c["X-Requested-With"]="XMLHttpRequest");for(k in c)x.setRequestHeader(k,c[k]);d=function(O){return function(){d&&(d=f=x.onload=x.onerror=x.onabort=x.ontimeout=x.onreadystatechange=null,O==="abort"?x.abort():O==="error"?typeof x.status!="number"?m(0,"error"):m(x.status,x.statusText):m(_u[x.status]||x.status,x.statusText,(x.responseType||"text")!=="text"||typeof x.responseText!="string"?{binary:x.response}:{text:x.responseText},x.getAllResponseHeaders()))}},x.onload=d(),f=x.onerror=x.ontimeout=d("error"),x.onabort!==void 0?x.onabort=f:x.onreadystatechange=function(){x.readyState===4&&e.setTimeout(function(){d&&f()})},d=d("abort");try{x.send(s.hasContent&&s.data||null)}catch(O){if(d)throw O}},abort:function(){d&&d()}}}),p.ajaxPrefilter(function(s){s.crossDomain&&(s.contents.script=!1)}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(s){return p.globalEval(s),s}}}),p.ajaxPrefilter("script",function(s){s.cache===void 0&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),p.ajaxTransport("script",function(s){if(s.crossDomain||s.scriptAttrs){var d,f;return{send:function(c,m){d=p("<script>").attr(s.scriptAttrs||{}).prop({charset:s.scriptCharset,src:s.url}).on("load error",f=function(k){d.remove(),f=null,k&&m(k.type==="error"?404:200,k.type)}),V.head.appendChild(d[0])},abort:function(){f&&f()}}}});var nh=[],xs=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var s=nh.pop()||p.expando+"_"+Vl.guid++;return this[s]=!0,s}}),p.ajaxPrefilter("json jsonp",function(s,d,f){var c,m,k,x=s.jsonp!==!1&&(xs.test(s.url)?"url":typeof s.data=="string"&&(s.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&xs.test(s.data)&&"data");if(x||s.dataTypes[0]==="jsonp")return c=s.jsonpCallback=j(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,x?s[x]=s[x].replace(xs,"$1"+c):s.jsonp!==!1&&(s.url+=(_a.test(s.url)?"&":"?")+s.jsonp+"="+c),s.converters["script json"]=function(){return k||p.error(c+" was not called"),k[0]},s.dataTypes[0]="json",m=e[c],e[c]=function(){k=arguments},f.always(function(){m===void 0?p(e).removeProp(c):e[c]=m,s[c]&&(s.jsonpCallback=d.jsonpCallback,nh.push(c)),k&&j(m)&&m(k[0]),k=m=void 0}),"script"}),q.createHTMLDocument=function(){var s=V.implementation.createHTMLDocument("").body;return s.innerHTML="<form></form><form></form>",s.childNodes.length===2}(),p.parseHTML=function(s,d,f){if(typeof s!="string")return[];typeof d=="boolean"&&(f=d,d=!1);var c,m,k;return d||(q.createHTMLDocument?(d=V.implementation.createHTMLDocument(""),c=d.createElement("base"),c.href=V.location.href,d.head.appendChild(c)):d=V),m=po.exec(s),k=!f&&[],m?[d.createElement(m[1])]:(m=Xl([s],d,k),k&&k.length&&p(k).remove(),p.merge([],m.childNodes))},p.fn.load=function(s,d,f){var c,m,k,x=this,O=s.indexOf(" ");return O>-1&&(c=dr(s.slice(O)),s=s.slice(0,O)),j(d)?(f=d,d=void 0):d&&typeof d=="object"&&(m="POST"),x.length>0&&p.ajax({url:s,type:m||"GET",dataType:"html",data:d}).done(function(T){k=arguments,x.html(c?p("<div>").append(p.parseHTML(T)).find(c):T)}).always(f&&function(T,F){x.each(function(){f.apply(this,k||[T.responseText,F,T])})}),this},p.expr.pseudos.animated=function(s){return p.grep(p.timers,function(d){return s===d.elem}).length},p.offset={setOffset:function(s,d,f){var c,m,k,x,O,T,F,H=p.css(s,"position"),J=p(s),W={};H==="static"&&(s.style.position="relative"),O=J.offset(),k=p.css(s,"top"),T=p.css(s,"left"),F=(H==="absolute"||H==="fixed")&&(k+T).indexOf("auto")>-1,F?(c=J.position(),x=c.top,m=c.left):(x=parseFloat(k)||0,m=parseFloat(T)||0),j(d)&&(d=d.call(s,f,p.extend({},O))),d.top!=null&&(W.top=d.top-O.top+x),d.left!=null&&(W.left=d.left-O.left+m),"using"in d?d.using.call(s,W):J.css(W)}},p.fn.extend({offset:function(s){if(arguments.length)return s===void 0?this:this.each(function(m){p.offset.setOffset(this,s,m)});var d,f,c=this[0];if(c)return c.getClientRects().length?(d=c.getBoundingClientRect(),f=c.ownerDocument.defaultView,{top:d.top+f.pageYOffset,left:d.left+f.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var s,d,f,c=this[0],m={top:0,left:0};if(p.css(c,"position")==="fixed")d=c.getBoundingClientRect();else{for(d=this.offset(),f=c.ownerDocument,s=c.offsetParent||f.documentElement;s&&(s===f.body||s===f.documentElement)&&p.css(s,"position")==="static";)s=s.parentNode;s&&s!==c&&s.nodeType===1&&(m=p(s).offset(),m.top+=p.css(s,"borderTopWidth",!0),m.left+=p.css(s,"borderLeftWidth",!0))}return{top:d.top-m.top-p.css(c,"marginTop",!0),left:d.left-m.left-p.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var s=this.offsetParent;s&&p.css(s,"position")==="static";)s=s.offsetParent;return s||Fn})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(s,d){var f=d==="pageYOffset";p.fn[s]=function(c){return gn(this,function(m,k,x){var O;if(et(m)?O=m:m.nodeType===9&&(O=m.defaultView),x===void 0)return O?O[d]:m[k];O?O.scrollTo(f?O.pageXOffset:x,f?x:O.pageYOffset):m[k]=x},s,c,arguments.length)}}),p.each(["top","left"],function(s,d){p.cssHooks[d]=Bl(q.pixelPosition,function(f,c){if(c)return c=bo(f,d),ds.test(c)?p(f).position()[d]+"px":c})}),p.each({Height:"height",Width:"width"},function(s,d){p.each({padding:"inner"+s,content:d,"":"outer"+s},function(f,c){p.fn[c]=function(m,k){var x=arguments.length&&(f||typeof m!="boolean"),O=f||(m===!0||k===!0?"margin":"border");return gn(this,function(T,F,H){var J;return et(T)?c.indexOf("outer")===0?T["inner"+s]:T.document.documentElement["client"+s]:T.nodeType===9?(J=T.documentElement,Math.max(T.body["scroll"+s],J["scroll"+s],T.body["offset"+s],J["offset"+s],J["client"+s])):H===void 0?p.css(T,F,O):p.style(T,F,H,O)},d,x?m:void 0,x)}})}),p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(s,d){p.fn[d]=function(f){return this.on(d,f)}}),p.fn.extend({bind:function(s,d,f){return this.on(s,null,d,f)},unbind:function(s,d){return this.off(s,null,d)},delegate:function(s,d,f,c){return this.on(d,s,f,c)},undelegate:function(s,d,f){return arguments.length===1?this.off(s,"**"):this.off(d,s||"**",f)},hover:function(s,d){return this.mouseenter(s).mouseleave(d||s)}}),p.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(s,d){p.fn[d]=function(f,c){return arguments.length>0?this.on(d,null,f,c):this.trigger(d)}});var ih=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;p.proxy=function(s,d){var f,c,m;if(typeof d=="string"&&(f=s[d],d=s,s=f),!!j(s))return c=l.call(arguments,2),m=function(){return s.apply(d||this,c.concat(l.call(arguments)))},m.guid=s.guid=s.guid||p.guid++,m},p.holdReady=function(s){s?p.readyWait++:p.ready(!0)},p.isArray=Array.isArray,p.parseJSON=JSON.parse,p.nodeName=Te,p.isFunction=j,p.isWindow=et,p.camelCase=Bn,p.type=nt,p.now=Date.now,p.isNumeric=function(s){var d=p.type(s);return(d==="number"||d==="string")&&!isNaN(s-parseFloat(s))},p.trim=function(s){return s==null?"":(s+"").replace(ih,"$1")};var mu=e.jQuery,Fe=e.$;return p.noConflict=function(s){return e.$===p&&(e.$=Fe),s&&e.jQuery===p&&(e.jQuery=mu),p},typeof n>"u"&&(e.jQuery=e.$=p),p})})(v$);class b${constructor(e,n){this.time=e,this.duration=n}isOver(e){return e-this.time>this.duration}}let y$=class{constructor(e,n,i=5e3,a){_(this,"element");_(this,"duration",5e3);_(this,"timer");_(this,"static",!1);this.instance=e,this.position=a,this.timer=new b$(Date.now(),i),this.element=this.createBlob(e,n),this.static=!!this.position}update(e,n){this.timer.time=n,Ti(this.element).find("p").html(e)}isOver(e){return this.timer.isOver(e)}destroy(){Ti(this.element).remove()}createBlob(e,n){return Ti(`<div id="${e}" class="bubble"><p>${n}</p><div class="bubble-tip"></div></div>`)}};class x${constructor(e){_(this,"container",Ti("#bubbles"));_(this,"bubbles",{});this.game=e}create(e,n,i=5e3,a){let l=this.bubbles[e];if(l)return l.update(n,Date.now());this.bubbles[e]=new y$(e,n,i,a),this.bubbles[e].element.appendTo(this.container)}setTo(e,n,i){let a=this.bubbles[e],{zoomFactor:l}=this.game.camera,u=this.game.renderer.tileSize*l,g=parseInt(a.element.css("width"))+24,S=g/2-u/2,v=-20;n=(n-this.game.camera.x)*l,i=(i-this.game.camera.y)*l-u*2-v,a.element.css({left:`${n-S+3}px`,top:`${i}px`})}update(e){y.each(this.bubbles,n=>{let i=this.game.entities.get(n.instance);i&&this.setTo(i.instance,i.x,i.y),n.static&&this.setTo(n.instance,n.position.x,n.position.y),n.isOver(e)&&this.destroy(n)})}clear(e){this.bubbles[e]&&this.destroy(this.bubbles[e])}destroy(e){e.destroy(),delete this.bubbles[e.instance]}clean(){y.each(this.bubbles,e=>e.destroy()),this.bubbles={}}}class E_{constructor(){_(this,"startValue",0);_(this,"endValue",0);_(this,"duration",0);_(this,"inProgress",!1);_(this,"startTime");_(this,"updateCallback");_(this,"stopCallback")}start(e,n,i,a,l,u){this.startTime=e,this.startValue=n,this.endValue=i,this.duration=a,this.updateCallback=l,this.stopCallback=u,this.inProgress=!0}step(e){var l,u;if(!this.inProgress)return;let n=e-this.startTime;n>this.duration&&(n=this.duration);let i=this.endValue-this.startValue,a=Math.round(this.startValue+i/this.duration*n);n===this.duration||a===this.endValue?(this.inProgress=!1,(l=this.stopCallback)==null||l.call(this)):(u=this.updateCallback)==null||u.call(this,a)}}class Gn{constructor(e,n,i,a,l){_(this,"frame",{index:0,x:0,y:0});_(this,"count",1);_(this,"lastTime",Date.now());_(this,"speed",100);_(this,"endCallback");this.name=e,this.length=n,this.row=i,this.width=a,this.height=l,this.reset()}update(e){var n;if(this.canAnimate()){if(this.lastTime=e,this.frame.index>=this.length-1)return this.count>0&&this.count--,this.count<=0&&((n=this.endCallback)==null||n.call(this)),this.reset();this.frame.index++,this.frame.x=this.frame.index*this.width,this.frame.y=this.row*this.height}}setCount(e,n){this.count=e,this.endCallback=n}setSpeed(e){this.speed=e}setRow(e){this.row=e}canAnimate(){return Date.now()-this.lastTime>this.speed}reset(){this.lastTime=Date.now(),this.frame={index:0,x:0,y:this.row*this.height}}}class Bd{constructor(e="",n){_(this,"x",0);_(this,"y",0);_(this,"gridX",0);_(this,"gridY",0);_(this,"name","");_(this,"region",-1);_(this,"sprite");_(this,"spriteFlipX",!1);_(this,"spriteFlipY",!1);_(this,"animation");_(this,"animations");_(this,"idleSpeed",450);_(this,"shadowOffsetY",0);_(this,"hidden",!1);_(this,"spriteLoaded",!1);_(this,"visible",!0);_(this,"fading",!1);_(this,"angled",!1);_(this,"angle",0);_(this,"hasCounter",!1);_(this,"countdownTime",0);_(this,"counter",0);_(this,"fadingDuration",1e3);_(this,"orientation");_(this,"fadingTime");_(this,"blinking");_(this,"normalSprite");_(this,"hurtSprite");_(this,"ready",!1);_(this,"attackRange",1);_(this,"hitPoints",0);_(this,"maxHitPoints",0);_(this,"mana",0);_(this,"maxMana",0);_(this,"level",1);_(this,"experience",0);_(this,"movementSpeed",250);_(this,"frozen",!1);_(this,"teleporting",!1);_(this,"dead",!1);_(this,"pvp",!1);_(this,"nameColour");_(this,"customScale");_(this,"nextGridX");_(this,"nextGridY");_(this,"fadingAlpha");_(this,"lastUpdate",Date.now());this.instance=e,this.type=n}fadeIn(e){this.fading=!0,this.fadingTime=e}blink(e=150){this.blinking=window.setInterval(()=>this.toggleVisibility(),e)}stopBlinking(){this.blinking&&clearInterval(this.blinking),this.setVisible(!0)}idle(){}animateDeath(e,n=120,i=1){this.setAnimation("death",n,i,e)}setSprite(e){var n;!e||this.sprite&&this.sprite.name===e.name||(this.isPlayer()&&(e.loadHurt=!0),e.loaded||e.load(),e.name=e.id,this.sprite=e,this.normalSprite=this.sprite,this.animations=e.createAnimations(),e.onLoad(()=>{e.loadHurt&&(this.hurtSprite=e.hurtSprite),this.customScale&&(this.sprite.offsetX*=this.customScale,this.sprite.offsetY*=this.customScale)}),this.spriteLoaded=!0,(n=this.readyCallback)==null||n.call(this))}setAnimation(e,n=this.idleSpeed,i=0,a){var u;if(!this.spriteLoaded||((u=this.animation)==null?void 0:u.name)===e)return;let l=this.animations[e];l&&(this.animation=l,e.startsWith("atk")&&this.animation.reset(),this.animation.setSpeed(n),this.animation.setCount(i,a||(()=>this.idle())))}setPosition(e,n){this.x=e,this.y=n}setGridPosition(e,n){this.gridX=e,this.gridY=n,this.region=vt.getRegion(e,n),this.setPosition(e*vt.tileSize,n*vt.tileSize)}setCountdown(e){this.counter=e,this.countdownTime=Date.now(),this.hasCounter=!0}setVisible(e){this.visible=e}setIdleSpeed(e){this.idleSpeed=e}getDistance(e){let{gridX:n,gridY:i}=this;return Math.abs(n-e.gridX)+Math.abs(i-e.gridY)}getAngle(){return this.angle}toggleVisibility(){this.setVisible(!this.visible)}isVisible(){return this.visible}drawNames(){return!0}hasShadow(){return!1}hasMedal(){return!1}isPlayer(){return this.type===_e.Player}isMob(){return this.type===_e.Mob}isNPC(){return this.type===_e.NPC}isItem(){return this.type===_e.Item}isChest(){return this.type===_e.Chest}isProjectile(){return this.type===_e.Projectile}isObject(){return this.type===_e.Object}isModerator(){return!1}isAdmin(){return!1}}class S${constructor(e){_(this,"game");_(this,"entities");this.entity=e}load(e){this.setGame(e),!((!this.entity||!e)&&!(this.entity instanceof Ji))&&(this.entity.onRequestPath((n,i)=>this.entity.gridX===n&&this.entity.gridY===i?[]:e.findPath(this.entity,n,i)),this.entity.onBeforeStep(()=>this.entities.unregisterPosition(this.entity)),this.entity.onStep(()=>{this.entities.registerPosition(this.entity),this.entity.forEachAttacker(n=>{if(n.target){if(n.target.instance!==this.entity.instance)return this.entity.removeAttacker(n);n.canAttackTarget()||n.follow(this.entity)}}),this.sendMovement(),this.entity.hasTarget()&&this.entity.getDistance(this.entity.target)<=this.entity.attackRange&&this.entity.stop(!0)}),this.entity.onFallback((n,i)=>{e.teleport(this.entity,n,i)}),this.entity.onStopPathing(()=>this.sendMovement()),this.entity.ready=!0)}setGame(e){this.game||(this.game=e),this.setEntities(this.game.entities)}setEntities(e){this.entities||(this.entities=e)}sendMovement(){let{entity:e,game:n}=this;e.isMob()&&(!e.hasTarget()&&!e.hasAttackers()||n.socket.send(gt.Movement,{opcode:Wi.Entity,targetInstance:e.instance,requestX:e.gridX,requestY:e.gridY}))}}class Ji extends Bd{constructor(n,i){super(n,i);_(this,"healthBarVisible",!1);_(this,"moving",!1);_(this,"following",!1);_(this,"stunned",!1);_(this,"interrupted",!1);_(this,"path",null);_(this,"target",null);_(this,"lastTarget","");_(this,"attackers",{});_(this,"movement",new E_);_(this,"attackAnimationSpeed",50);_(this,"walkAnimationSpeed",120);_(this,"nextGridX",-1);_(this,"nextGridY",-1);_(this,"movementSpeed",-1);_(this,"attackRange",1);_(this,"frozen",!1);_(this,"dead",!1);_(this,"orientation",Xt.Down);_(this,"effect",re.None);_(this,"destination");_(this,"newDestination");_(this,"step");_(this,"healthBarTimeout");_(this,"effects",{[re.Critical]:{key:"effect-critical",animation:new Gn("effect",10,0,48,48)},[re.Terror]:{key:"effect-terror",animation:new Gn("effect",8,0,64,64)},[re.Stun]:{key:"effect-stun",animation:new Gn("effect",6,0,48,48),perpetual:!0},[re.Healing]:{key:"effect-heal",animation:new Gn("effect",8,0,64,64)},[re.Fireball]:{key:"effect-fireball",animation:new Gn("effect",8,0,64,64)},[re.Iceball]:{key:"effect-iceball",animation:new Gn("effect",8,0,64,64)},[re.Burning]:{key:"effect-burn",animation:new Gn("effect",4,0,64,64),perpetual:!0,speed:150},[re.Freezing]:{key:"effect-freeze",animation:new Gn("effect",4,0,64,64),perpetual:!0,speed:150},[re.Poisonball]:{key:"effect-poisonball",animation:new Gn("effect",10,0,40,40),speed:175},[re.Boulder]:{key:"effect-boulder",animation:new Gn("effect",7,0,32,32)}});_(this,"fallbackCallback");_(this,"hitPointsCallback");_(this,"forced");_(this,"handler",new S$(this));this.loadAnimations()}loadAnimations(){y.each(this.effects,n=>{n.animation.setSpeed(n.speed||50),n.animation.setCount(1,()=>{n.perpetual||this.removeEffect(),n.animation.reset(),n.animation.count=1})})}setAnimation(n,i=120,a=0,l){var g;let u=["atk","walk","idle"];((g=this.animation)==null?void 0:g.name)!=="death"&&(this.spriteFlipX=!1,this.spriteFlipY=!1,u.includes(n)&&(n+=`_${this.orientation===Xt.Left?"right":this.orientationToString()}`,this.spriteFlipX=this.orientation===Xt.Left),super.setAnimation(n,i,a,l))}animateDeath(n,i=120,a=0){this.setAnimation("death",i,a,n)}toggleHurt(){this.dead||this.teleporting||(this.sprite=this.hurtSprite,window.setTimeout(()=>{this.sprite=this.normalSprite},75))}despawn(){this.hitPoints=0,this.dead=!0,this.removeTarget(),this.stop(),this.orientation=Xt.Down}follow(n,i=!1){this.following=!0,this.setTarget(n),this.move(n.gridX,n.gridY,i)}followPosition(n,i){this.following=!0,this.move(n,i)}addAttacker(n){this.attackers[n.instance]=n}removeAttacker(n){delete this.attackers[n.instance]}hasAttackers(){return Object.keys(this.attackers).length>0}performAction(n,i){switch(this.setOrientation(n),i){case Hn.Idle:{this.setAnimation("idle",this.idleSpeed);break}case Hn.Orientate:{this.setAnimation("idle",this.idleSpeed);break}case Hn.Attack:{this.setAnimation("atk",this.attackAnimationSpeed,1);break}case Hn.Walk:{this.setAnimation("walk",this.walkAnimationSpeed);break}}}idle(n){let i=n||this.orientation;this.performAction(i,Hn.Idle)}orientationToString(){switch(this.orientation){case Xt.Left:return"left";case Xt.Right:return"right";case Xt.Up:return"up";case Xt.Down:return"down"}}lookAt(n){let{gridX:i,gridY:a}=this;n.gridX>i?this.setOrientation(Xt.Right):n.gridX<i?this.setOrientation(Xt.Left):n.gridY>a?this.setOrientation(Xt.Down):n.gridY<a&&this.setOrientation(Xt.Up),this.idle()}go(n,i,a=!1,l=!1){this.frozen||(this.following&&(this.following=!1,this.removeTarget()),this.move(n,i,a,l))}move(n,i,a=!1,l=!1){var u;if(this.hasPath()&&!a)this.proceed(n,i);else{let g=this.requestPathfinding(n,i);if((!g||g.length<2)&&l)return(u=this.fallbackCallback)==null?void 0:u.call(this,n,i);this.followPath(g)}this.destination={x:n,y:i}}proceed(n,i){this.newDestination={x:n,y:i}}nextStep(){var u,g,S;let n=!1,i,a,l;if(this.step%2===0&&this.secondStepCallback&&this.secondStepCallback(),!!this.hasPath()){if((u=this.beforeStepCallback)==null||u.call(this),this.updateGridPosition(),!this.interrupted&&this.path)if(this.hasNextStep()&&([this.nextGridX,this.nextGridY]=this.path[this.step+1]),(g=this.stepCallback)==null||g.call(this),this.changedPath()){if({x:i,y:a}=this.newDestination,l=this.requestPathfinding(i,a),!l)return;this.newDestination=null,l.length<2?n=!0:((S=this.startPathingCallback)==null||S.call(this,l),this.followPath(l))}else this.hasNextStep()?(this.step++,this.updateMovement()):n=!0;else n=!0,this.interrupted=!1;n&&(this.path=null,this.idle(),this.stopPathingCallback&&this.stopPathingCallback(this.gridX,this.gridY,this.forced),this.forced&&(this.forced=!1))}}updateMovement(){let{path:n,step:i}=this;n&&(n[i][0]<n[i-1][0]&&this.performAction(Xt.Left,Hn.Walk),n[i][0]>n[i-1][0]&&this.performAction(Xt.Right,Hn.Walk),n[i][1]<n[i-1][1]&&this.performAction(Xt.Up,Hn.Walk),n[i][1]>n[i-1][1]&&this.performAction(Xt.Down,Hn.Walk))}followPath(n){var i;!n||n.length<2||(this.path=n,this.step=0,this.following&&n.pop(),!this.moving&&!this.changedPath()&&((i=this.startPathingCallback)==null||i.call(this,n)),this.nextStep())}stop(n=!1){n?this.hasPath()&&(this.path=null,this.destination=null,this.newDestination=null,this.movement=new E_,this.performAction(this.orientation,Hn.Idle),this.nextGridX=this.gridX,this.nextGridY=this.gridY):this.interrupted=!0}hasEffect(){return this.effect!==re.None}removeEffect(){this.effect=re.None}setEffect(n){this.effect=n}canAttackTarget(){return!(!this.hasTarget()||this.getDistance(this.target)>this.attackRange-1)}getEffectAnimation(){var n;return(n=this.effects[this.effect])==null?void 0:n.animation}getActiveEffect(){var n;return((n=this.effects[this.effect])==null?void 0:n.key)||""}triggerHealthBar(){this.healthBarVisible=!0,this.healthBarTimeout&&clearTimeout(this.healthBarTimeout),this.healthBarTimeout=window.setTimeout(()=>{this.healthBarVisible=!1},7e3)}clearHealthBar(){this.healthBarVisible=!1,clearTimeout(this.healthBarTimeout),this.healthBarTimeout=null}requestPathfinding(n,i){var a;return((a=this.requestPathCallback)==null?void 0:a.call(this,n,i))||null}updateGridPosition(){!this.path||this.path.length===0||this.setGridPosition(this.path[this.step][0],this.path[this.step][1])}forEachAttacker(n){y.each(this.attackers,i=>n(i))}hasShadow(){return!0}hasPath(){return this.path!==null}hasNextStep(){return this.path&&this.path.length-1>this.step}changedPath(){return!!this.newDestination}removeTarget(){this.target=null}forget(){this.attackers={}}moved(){var n;(n=this.moveCallback)==null||n.call(this)}setTarget(n){this.target=n,this.lastTarget=n.instance}hasTarget(n){return n?this.target===n:!!this.target}setObjectTarget(n){let i=new Ji(`${n.x}-${n.y}`,_e.Object);i.setGridPosition(n.x,n.y),this.setTarget(i),this.followPosition(n.x,n.y)}setHitPoints(n,i){var l;let a=!1;n<0&&(n=0),n<this.hitPoints&&(a=!0),this.hitPoints=n,i&&(this.maxHitPoints=i),(l=this.hitPointsCallback)==null||l.call(this,this.hitPoints,i||this.maxHitPoints,a)}setOrientation(n){this.orientation=n}onRequestPath(n){this.requestPathCallback=n}onStartPathing(n){this.startPathingCallback=n}onStopPathing(n){this.stopPathingCallback=n}onBeforeStep(n){this.beforeStepCallback=n}onStep(n){this.stepCallback=n}onSecondStep(n){this.secondStepCallback=n}onMove(n){this.moveCallback=n}onHitPoints(n){this.hitPointsCallback=n}onFallback(n){this.fallbackCallback=n}}class C$ extends Ji{constructor(n){super(n,_e.Mob);_(this,"hiddenName",!1)}hasShadow(){return!this.hiddenName}drawNames(){return!this.hiddenName}}class A$ extends Ji{constructor(e){super(e,_e.NPC)}}class I_{constructor(e,n,i,a,l,u,g){this.id=e,this.name=n,this.description=i,this.stage=a,this.stageCount=l,this.subStage=u,this.rewards=g}update(e,n,i,a){this.stage=e,n&&(this.subStage=n),i&&(this.name=i),a&&(this.description=a)}isFinished(){return this.stage>=this.stageCount}isStarted(){return this.stage>0}}class E${constructor(e,n=0,i=1){_(this,"name");_(this,"percentage",0);this.type=e,this.experience=n,this.level=i,this.name=D0[e]}update(e,n,i){this.experience=e,this.level=n||this.level,this.percentage=i||0}}class I${constructor(e,n,i,a=-1){this.type=e,this.key=n,this.level=i,this.quickSlot=a}update(e,n=this.quickSlot){this.level=e,this.quickSlot=n}}class T_{constructor(e,n,i){this.id=e,this.username=n,this.online=i}}class Il{constructor(e="",n="",i=0,a={}){_(this,"attackStats",vt.getEmptyStats());_(this,"defenseStats",vt.getEmptyStats());_(this,"bonuses",vt.getEmptyBonuses());this.key=e,this.name=n,this.count=i,this.enchantments=a}update(e="",n="",i=0,a={},l,u,g){this.key=e,this.name=n,this.count=i,this.enchantments=a,this.attackStats=l||vt.getEmptyStats(),this.defenseStats=u||vt.getEmptyStats(),this.bonuses=g||vt.getEmptyBonuses()}exists(){return this.key!==""}}class T$ extends Il{constructor(e="clotharmor",n="Cloth Armor",i=1,a={}){super(e,n,i,a)}update(e="clotharmor",n="Cloth Armor",i=0,a={},l,u,g){super.update(e,n,i,a,l,u,g)}}class L$ extends Il{}class R$ extends Il{}class Y$ extends Il{}class O$ extends Il{}class l2 extends Ji{constructor(n){super(n,_e.Player);_(this,"rank",Kh.None);_(this,"wanted",!1);_(this,"pvpKills",-1);_(this,"pvpDeaths",-1);_(this,"moveLeft",!1);_(this,"moveRight",!1);_(this,"moveUp",!1);_(this,"moveDown",!1);_(this,"poison",!1);_(this,"disableAction",!1);_(this,"medal",js.None);_(this,"hitPoints",0);_(this,"maxHitPoints",0);_(this,"mana",0);_(this,"maxMana",0);_(this,"equipments",{[Ce.Armour]:new T$,[Ce.Boots]:new L$,[Ce.Pendant]:new R$,[Ce.Ring]:new Y$,[Ce.Weapon]:new O$});_(this,"skills",{});_(this,"abilities",{});_(this,"quests",{});_(this,"achievements",{});_(this,"friends",{});_(this,"syncCallback");_(this,"poisonCallback");_(this,"abilityCallback");_(this,"manaCallback")}load(n,i=!1){this.instance=n.instance,this.name=n.name,this.level=n.level,this.movementSpeed=n.movementSpeed,this.orientation=n.orientation,this.rank=n.rank,this.attackRange=n.attackRange,n.displayInfo&&(this.nameColour=n.displayInfo.colour),this.setOrientation(n.orientation),i||this.setGridPosition(n.x,n.y),this.setHitPoints(n.hitPoints,n.maxHitPoints),this.setMana(n.mana,n.maxMana),n.equipments&&y.each(n.equipments,this.equip.bind(this))}loadSkills(n){y.each(n,i=>this.setSkill(i))}loadQuests(n){for(let[i,a]of n.entries())this.quests[a.key]=new I_(i,a.name,a.description,a.stage,a.stageCount,a.subStage,a.rewards)}loadAchievements(n){for(let[i,a]of n.entries())this.achievements[a.key]=new I_(i,a.name,a.description,a.stage,a.stageCount)}loadAbilities(n){y.each(n,i=>this.setAbility(i.key,i.level,i.type,i.quickSlot))}loadFriends(n){let i=0;y.each(n,(a,l)=>{this.friends[l]=new T_(i,l,a),i++})}equip(n){let{type:i,name:a,key:l,count:u,enchantments:g,attackRange:S,attackStats:v,defenseStats:A,bonuses:Y}=n;if(!l)return this.unequip(i);i===Ce.Weapon&&(this.attackRange=S||1),this.equipments[i].update(l,a,u,g,v,A,Y)}addFriend(n,i){this.friends[n]=new T_(y.size(this.friends),n,i)}unequip(n){this.equipments[n].update()}sync(){var n;(n=this.syncCallback)==null||n.call(this)}getSpriteName(){return this.equipments[Ce.Armour].key}getArmour(){return this.equipments[Ce.Armour]}getBoots(){return this.equipments[Ce.Boots]}getPendant(){return this.equipments[Ce.Pendant]}getRing(){return this.equipments[Ce.Ring]}getWeapon(){return this.equipments[Ce.Weapon]}isAdmin(){return this.rank===Kh.Administrator}isModerator(){return this.rank===Kh.Moderator}getTotalExperience(){let n=0;return y.each(this.skills,i=>{n+=i.experience}),n}getMedalKey(){switch(this.medal){case js.Silver:return"silvermedal";case js.Gold:return"goldmedal";default:return""}}setMana(n,i){var a;this.mana=n,i&&(this.maxMana=i),(a=this.manaCallback)==null||a.call(this,this.mana,i||this.maxMana)}setSkill({type:n,experience:i,level:a,percentage:l}){this.skills[n]||(this.skills[n]=new E$(n)),this.skills[n].update(i,a,l)}setQuest(n,i,a){var l;(l=this.quests[n])==null||l.update(i,a)}setAchievement(n,i,a,l){var u;(u=this.achievements[n])==null||u.update(i,void 0,a,l)}setAbility(n,i,a,l=-1){var u,g;n in this.abilities?(u=this.abilities[n])==null||u.update(i,l):this.abilities[n]=new I$(a,n,i,l),(a===dd.Active||l!==-1)&&((g=this.abilityCallback)==null||g.call(this,n,i,l))}setPoison(n){var i;this.poison=n,(i=this.poisonCallback)==null||i.call(this,n)}setFriendStatus(n,i){this.friends[n].online=i}isRanged(){return this.attackRange>1}hasWeapon(){return this.equipments[Ce.Weapon].exists()}hasMedal(){return this.medal!==js.None}hasKeyboardMovement(){return this.moveLeft||this.moveRight||this.moveUp||this.moveDown}onPoison(n){this.poisonCallback=n}onSync(n){this.syncCallback=n}onAbility(n){this.abilityCallback=n}onMana(n){this.manaCallback=n}}class X$ extends Bd{constructor(e){super(e,_e.Chest)}idle(){this.setAnimation("idle_down",150)}}class L_ extends Bd{constructor(n,i=1,a={}){super(n,_e.Item);_(this,"dropped",!1);this.count=i,this.enchantments=a}idle(){this.setAnimation("idle",150)}hasShadow(){return!0}}class h2 extends Bd{constructor(n,i){super(n,_e.Projectile);_(this,"type",_e.Projectile);_(this,"speed",150);_(this,"fadingDuration",100);_(this,"target");this.owner=i}idle(){this.setAnimation("travel")}impact(){var n;(n=this.impactCallback)==null||n.call(this)}setStart(n,i){this.setGridPosition(Math.floor(n/vt.tileSize),Math.floor(i/vt.tileSize))}setTarget(n){this.target=n,this.updateAngle()}getAnimationSpeed(){return this.idleSpeed}getTimeDiff(){return(Date.now()-this.lastUpdate)/1e3}getImpactEffect(){switch(this.sprite.name){case"projectile-boulder":return re.Boulder;case"projectile-poisonball":return re.Poisonball;case"projectile-iceball":return re.Iceball}return re.None}updateAngle(){this.target&&(this.angle=Math.atan2(this.target.y-this.y,this.target.x-this.x)*(180/Math.PI)-90)}getAngle(){return this.angle*Math.PI/180}onImpact(n){this.impactCallback=n}}class P${constructor(e){_(this,"renderingGrid",[]);this.map=e,this.load()}load(){for(let e=0;e<this.map.height;e++){this.renderingGrid[e]=[];for(let n=0;n<this.map.width;n++)this.renderingGrid[e][n]={}}ce.debug("Finished generating the rendering grid.")}addToRenderingGrid(e){let{instance:n,gridX:i,gridY:a}=e;this.map.isOutOfBounds(i,a)||(this.renderingGrid[a][i][n]=e)}removeFromRenderingGrid({instance:e,gridX:n,gridY:i}){delete this.renderingGrid[i][n][e]}}class $${constructor(e){_(this,"grids");_(this,"sprites");_(this,"entities",{});_(this,"decrepit",[]);this.game=e,this.grids=new P$(e.map),this.sprites=e.sprites,e.input.loadCursors()}create(e){if(this.isPlayer(e.instance)||e.instance in this.entities)return;let n;switch(e.type){case _e.Chest:{n=this.createChest(e.instance);break}case _e.NPC:{n=this.createNPC(e.instance);break}case _e.Item:{n=this.createItem(e);break}case _e.Mob:{n=this.createMob(e);break}case _e.Projectile:{n=this.createProjectile(e);break}case _e.Player:{n=this.createPlayer(e);break}}if(!n)return ce.error(`Failed to create entity ${e.instance}`);let i=this.game.sprites.get(n.isItem()?`item-${e.key}`:e.key);if(!i)return ce.error(`Failed to create sprite for entity ${e.key}.`);n.name=e.name,n.setGridPosition(e.x,e.y),n.setSprite(i),n.setIdleSpeed(i.idleSpeed),n.idle(),this.addEntity(n),n instanceof Ji&&n.handler.load(this.game)}createChest(e){return new X$(e)}createNPC(e){return new A$(e)}createItem(e){return new L_(e.instance,e.count,e.enchantments)}createMob(e){let n=new C$(e.instance);return n.setHitPoints(e.hitPoints,e.maxHitPoints),n.attackRange=e.attackRange,n.level=e.level,n.hiddenName=e.hiddenName,n.movementSpeed=e.movementSpeed,n.orientation=e.orientation,e.displayInfo&&(e.displayInfo.colour&&(n.nameColour=e.displayInfo.colour),e.displayInfo.scale&&(n.customScale=e.displayInfo.scale)),n}createProjectile(e){let n=this.get(e.ownerInstance),i=this.get(e.targetInstance);if(!n||!i)return;n.lookAt(i);let a=new h2(e.instance,n);return a.name=e.name,a.setStart(n.x,n.y),a.setTarget(i),a.angled=!0,a.type=e.type,a.onImpact(()=>{let l=a.getImpactEffect();l!==re.None&&i.setEffect(l),this.game.info.create(kn.Damage,e.damage,i.x,i.y,this.isPlayer(i.instance)),i.triggerHealthBar(),this.unregisterPosition(a),delete this.entities[a.instance]}),n.performAction(n.orientation,Hn.Attack),n.triggerHealthBar(),a}createPlayer(e){let n=new l2(e.instance);return n.load(e),n.setSprite(this.game.sprites.get(n.getSpriteName())),n}isPlayer(e){return this.game.player.instance===e}get(e){return this.entities[e]}addEntity(e){this.entities[e.instance]=e,this.registerPosition(e),e instanceof L_&&e.dropped||e.fadeIn(this.game.time)}removeEntity(e){this.unregisterPosition(e),delete this.entities[e.instance]}removeItem(e){this.unregisterPosition(e),delete this.entities[e.instance]}removeChest(e){e.setSprite(this.game.sprites.getDeath()),e.animateDeath(()=>{this.unregisterPosition(e),delete this.entities[e.instance]})}removeNPC(e){e.setSprite(this.game.sprites.getDeath()),e.animateDeath(()=>{this.unregisterPosition(e),delete this.entities[e.instance]})}registerPosition(e){this.grids.addToRenderingGrid(e)}unregisterPosition(e){this.grids.removeFromRenderingGrid(e)}clean(){this.decrepit.length!==0&&y.each(this.decrepit,e=>{e&&this.removeEntity(e)})}cleanDisplayInfo(){y.each(this.entities,e=>{e.nameColour="",e.customScale=0})}clearPlayers(e){y.each(this.entities,n=>{n.isPlayer()&&n.instance!==e.instance&&this.removeEntity(n)})}getAll(){return this.entities}forEachEntity(e){y.each(this.entities,e)}}class M${constructor(e,n,i,a,l,u=!1,g=-1){_(this,"opacity",1);_(this,"text");_(this,"prefix");_(this,"suffix");_(this,"lastTime");_(this,"speed");_(this,"updateY");_(this,"duration");_(this,"colour");_(this,"fill");_(this,"stroke");_(this,"destroyCallback");this.id=e,this.type=n,this.value=i,this.x=a,this.y=l,this.text=`${i}`,this.prefix="",this.suffix="",this.lastTime=0,this.speed=100,this.updateY=this.isHeal()?2:1,this.duration=this.isHeal()?400:1e3,this.colour=y3[n],g>-1&&(this.colour=x3[g]),this.fill=this.colour.fill,this.stroke=this.colour.stroke,u&&this.hasInflicted()&&(this.fill=this.colour.inflicted.fill,this.stroke=this.colour.inflicted.stroke),this.isDamage()&&i<1&&(this.text="MISS"),this.isPoison()&&(this.prefix="--"),this.isPoints()&&(this.prefix="++"),this.isExperience()&&(this.prefix="+",this.suffix="EXP")}update(e){var n;e-this.lastTime>this.speed&&(this.y-=this.updateY,this.lastTime=e,this.opacity-=70/this.duration,this.opacity<0&&((n=this.destroyCallback)==null||n.call(this,this.id)))}getText(){return`${this.prefix}${this.text} ${this.suffix}`}isHeal(){return this.type===kn.Heal}isPoison(){return this.type===kn.Poison}isExperience(){return this.type===kn.Experience||this.type===kn.Profession}isPoints(){return this.type===kn.Heal||this.type===kn.Mana}isDamage(){return this.type===kn.Damage||this.type===kn.Stun||this.type===kn.Critical}hasInflicted(){return this.colour.inflicted!==void 0}onDestroy(e){this.destroyCallback=e}}class D${constructor(){_(this,"infos",{})}create(e,n,i,a,l=!1,u=-1,g=!1){g&&(i+=vt.randomInt(-16,16),a+=vt.randomInt(-10,10));let S=vt.createId(Date.now(),i,a);this.addInfo(new M$(S,e,n,i,a,l,u))}addInfo(e){this.infos[e.id]=e,e.onDestroy(n=>delete this.infos[n])}isEmpty(){return y.size(this.infos)===0}update(e){this.forEachInfo(n=>n.update(e))}forEachInfo(e){y.each(this.infos,e)}}class N${constructor(e){_(this,"chatBox",document.querySelector("#chat"));_(this,"log",document.querySelector("#chat-log"));_(this,"input",document.querySelector("#chat-input"));_(this,"button",document.querySelector("#chat-button"));_(this,"fadingDuration",5e3);_(this,"fadingTimeout");this.game=e,this.button.addEventListener("click",()=>this.toggle()),this.input.addEventListener("blur",()=>this.hide())}keyDown(e){if(e==="Enter"&&this.input.value!=="")return this.send();(e==="Escape"||e==="Enter")&&this.toggle()}privateMessage(e){this.inputVisible()||(this.toggle(),this.input.value=`/pm *${e}* `,this.input.focus())}add(e,n,i="",a=!1){let l=this.createElement(e,n);l.style.color=i||"white",a&&(l.style.fontWeight="bold"),this.log.append(l),this.log.scrollTop=this.log.scrollHeight,this.displayChatBox(),this.hideChatBox()}createElement(e,n){let i=document.createElement("p");return i.innerHTML=`${e} » ${n}`,i}send(){this.game.socket.send(gt.Chat,[this.input.value]),this.hide()}toggle(){this.clearTimeout(),this.inputVisible()?this.hide():this.display()}display(){this.button.classList.add("active"),this.inputVisible()?this.input.style.display="block":vt.fadeIn(this.input),this.displayChatBox(),this.input.focus(),this.input.value="",vt.fadeIn(this.input)}displayChatBox(){vt.fadeIn(this.chatBox)}hide(){this.button.classList.remove("active"),this.hideChatBox(),this.input.blur(),this.input.value="",vt.fadeOut(this.input)}hideChatBox(){this.clearTimeout(),this.fadingTimeout=window.setTimeout(()=>{this.inputVisible()||vt.fadeOut(this.chatBox)},this.fadingDuration)}inputVisible(){return this.input.style.display==="block"}clear(){this.inputVisible()&&this.toggle(),this.clearTimeout()}clearTimeout(){clearTimeout(this.fadingTimeout),window.clearTimeout(this.fadingTimeout),this.fadingTimeout=void 0}}class B${constructor(e){_(this,"hovering");_(this,"attackInfo",Ti("#attack-info"));_(this,"name",this.attackInfo.find(".name"));_(this,"details",this.attackInfo.find(".details"));_(this,"health",this.attackInfo.find(".health"));_(this,"updateCallback");this.input=e,this.onUpdate(this.handleUpdate.bind(this))}update(e){let{name:n,health:i,details:a}=this;if(!e||!this.validEntity(e))return this.hovering=void 0,this.hide();this.isVisible()||this.display(),this.hovering=e,n.html(e.name),this.hasHealth()?this.setHealth(e.hitPoints):(i.hide(),a.html(""))}handleUpdate(e,n){this.hasHealth()&&this.hovering.instance===e&&(n<1?this.hide():this.setHealth(n))}setHealth(e){if(!this.hasHealth())return;this.health.show();let{maxHitPoints:n}=this.hovering;this.health.css("width",`${Math.ceil(e/n*100)-10}%`),this.details.html(`${e} / ${n}`)}validEntity(e){return e.instance!==this.input.player.instance&&!e.isProjectile()}hasHealth(){return this.hovering?this.hovering.isMob()||this.hovering.isPlayer():!1}display(){this.attackInfo.fadeIn("fast")}hide(){this.attackInfo.fadeOut("fast")}isVisible(){return this.attackInfo.css("display")==="block"}onUpdate(e){this.updateCallback=e}}class F${constructor(e){_(this,"app");_(this,"map");_(this,"camera");_(this,"player");_(this,"friends");_(this,"selectedCellVisible",!1);_(this,"keyMovement",!1);_(this,"targetVisible",!0);_(this,"selectedX",-1);_(this,"selectedY",-1);_(this,"cursor");_(this,"targetColour","rgba(255, 255, 255, 0.5)");_(this,"cursors",{});_(this,"lastMousePosition",{x:0,y:0});_(this,"hovering");_(this,"mouse",{x:0,y:0});_(this,"targetAnimation",new Gn("move",4,0,16,16));_(this,"chatHandler");_(this,"hud");_(this,"entity");this.game=e,this.app=e.app,this.map=e.map,this.camera=e.camera,this.player=e.player,this.friends=e.menu.getFriends(),this.chatHandler=new N$(e),this.hud=new B$(this),this.app.onLeftClick(this.handleLeftClick.bind(this)),this.app.onRightClick(this.handleRightClick.bind(this)),this.app.onKeyDown(this.handleKeyDown.bind(this)),this.app.onKeyUp(this.handleKeyUp.bind(this)),this.app.onMouseMove(n=>{this.game.started&&(this.setCoords(n),this.moveCursor())}),this.friends.onMessage(n=>this.chatHandler.privateMessage(n)),this.targetAnimation.setSpeed(50)}loadCursors(){this.cursors.hand=this.game.sprites.get("hand"),this.cursors.sword=this.game.sprites.get("sword"),this.cursors.loot=this.game.sprites.get("loot"),this.cursors.target=this.game.sprites.get("target"),this.cursors.arrow=this.game.sprites.get("arrow"),this.cursors.talk=this.game.sprites.get("talk"),this.cursors.spell=this.game.sprites.get("spell"),this.cursors.bow=this.game.sprites.get("bow"),this.cursors.axe=this.game.sprites.get("axe_cursor"),ce.debug("Loaded Cursors!")}handleLeftClick(e){if(this.setCoords(e),this.keyMovement=!1,this.player.disableAction=!1,this.isCtrlKey())return this.game.socket.send(gt.Command,[$0.CtrlClick,this.getCoords()]);this.move(this.getCoords())}handleRightClick(e){this.setCoords(e);let n=this.getCoords(),i=this.game.getEntityAt(n.x,n.y);i&&console.log(i)}handleKeyDown(e){if(this.friends.isPopupActive())return this.friends.keyDown(e.key);if(this.chatHandler.inputVisible())return this.chatHandler.keyDown(e.key);let n;switch(e.key){case"w":case"ц":case"ArrowUp":{this.player.moveUp=!0;return}case"a":case"ф":case"ArrowLeft":{this.player.moveLeft=!0;return}case"s":case"ы":case"ArrowDown":{this.player.moveDown=!0;return}case"d":case"в":case"ArrowRight":{this.player.moveRight=!0;return}case"Enter":{this.chatHandler.toggle();return}case"i":{this.game.menu.getInventory().toggle();return}case"m":{this.game.menu.getWarp().toggle();return}case"p":{this.game.menu.getProfile().toggle();return}case"h":{this.game.menu.getInventory().selectEdible();break}case"t":{n=this.game.entities.get(this.player.lastTarget),n&&this.player.follow(n);return}case"Escape":{this.game.menu.hide(),this.player.moving&&this.player.stop();return}case"+":case"=":{this.game.camera.zoom(.1),this.game.renderer.resize();return}case"-":case"_":{this.game.camera.zoom(-.1),this.game.renderer.resize();return}}}handleKeyUp(e){switch(e.key){case"w":case"ArrowUp":{this.player.moveUp=!1;break}case"a":case"ArrowLeft":{this.player.moveLeft=!1;break}case"s":case"ArrowDown":{this.player.moveDown=!1;break}case"d":case"ArrowRight":{this.player.moveRight=!1;break}}this.player.disableAction=!1}keyMove(e){this.player.hasPath()||(this.move(e),this.keyMovement=!0)}move(e){if(!this.player.stunned&&(this.setPassiveTarget(),!(this.player.disableAction||this.game.zoning.direction)&&!this.game.map.isOutOfBounds(e.x,e.y))){if(Fa()&&this.chatHandler.inputVisible()&&this.chatHandler.toggle(),this.game.menu.hide(),this.game.map.isObject(e.x,e.y))return this.player.setObjectTarget(e);if(this.player.removeTarget(),this.entity=this.game.getEntityAt(e.x,e.y),this.entity&&(this.setAttackTarget(),this.isTargetable(this.entity))){this.player.follow(this.entity),this.isAttackable(this.entity)&&this.entity.addAttacker(this.player),this.game.socket.send(gt.Target,[Fo.Attack,this.entity.instance]);return}this.player.go(e.x,e.y)}}moveCursor(){if(Fa())return;let e=this.getCoords();if(this.entity=this.game.getEntityAt(e.x,e.y),this.hud.update(this.entity),!this.entity){if(this.map.isObject(e.x,e.y)){let n=this.map.getTileCursor(e.x,e.y);this.setCursor(this.cursors[n||"talk"]),this.hovering=Xa.Object;return}this.setCursor(this.cursors.hand),this.hovering=null;return}switch(this.entity.type){case _e.Item:case _e.Chest:{this.setCursor(this.cursors.loot),this.hovering=Xa.Item;break}case _e.Mob:{this.setCursor(this.getAttackCursor()),this.hovering=Xa.Mob;break}case _e.NPC:{this.setCursor(this.cursors.talk),this.hovering=Xa.NPC;break}case _e.Player:{this.game.pvp&&(this.setCursor(this.getAttackCursor()),this.hovering=Xa.Player);break}}}saveMouse(){this.lastMousePosition.x=this.mouse.x,this.lastMousePosition.y=this.mouse.y}setPosition(e,n){this.selectedX=e,this.selectedY=n}setCursor(e){e&&(this.cursor=e)}setPassiveTarget(){this.targetAnimation.setRow(0)}setAttackTarget(){this.targetAnimation.setRow(1)}setCoords(e){let{width:n,height:i}=this.game.renderer.background;this.mouse.x=e.pageX,this.mouse.y=e.pageY,this.mouse.x>=n?this.mouse.x=n-1:this.mouse.x<=0&&(this.mouse.x=0),this.mouse.y>=i?this.mouse.y=i-1:this.mouse.y<=0&&(this.mouse.y=0)}getAttackCursor(){return this.cursors[this.player.isRanged()?"bow":"sword"]}getCoords(){let e=this.map.tileSize*this.camera.zoomFactor,n=this.mouse.x%e,i=this.mouse.y%e,a=Math.round((this.mouse.x-n)/e)+this.game.camera.gridX,l=Math.round((this.mouse.y-i)/e)+this.game.camera.gridY;return{x:a,y:l}}getTargetData(){let e=this.game.sprites.get("target");if(!e)return;let{frame:n}=this.targetAnimation,{tileSize:i}=this.game.map,{zoomFactor:a}=this.game.camera;return e.loaded||e.load(),{sprite:e,x:n.x,y:n.y,width:e.width,height:e.height,dx:this.selectedX*i*a,dy:this.selectedY*i*a,dw:e.width*a,dh:e.height*a}}isCtrlKey(){return window.event.ctrlKey}isTargetable(e){return this.isAttackable(e)||e.isNPC()||e.isChest()}isAttackable(e){return e.isMob()||e.isPlayer()&&this.game.pvp}isMouseRendered(){return this.mouse.x===this.lastMousePosition.x&&this.mouse.y===this.lastMousePosition.y}}class fn{constructor(e,n,i){_(this,"container");_(this,"close");_(this,"button");_(this,"showCallback");var a,l;this.containerName=e,this.closeButton=n,this.toggleButton=i,this.container=document.querySelector(this.containerName),this.close=document.querySelector(this.closeButton),this.button=document.querySelector(this.toggleButton),(a=this.close)==null||a.addEventListener("click",this.hide.bind(this)),(l=this.button)==null||l.addEventListener("click",this.toggle.bind(this))}batch(e){ce.debug("Unimplemented menu batch() function.")}synchronize(e){}add(e){ce.debug("Unimplemented menu add() function.")}remove(e){ce.debug("Unimplemented menu remove() function.")}show(e,n,i,a,l){var u,g;(u=this.showCallback)==null||u.call(this),(g=this.button)==null||g.classList.add("active"),vt.fadeIn(this.container)}hide(){var e;this.isVisible()&&((e=this.button)==null||e.classList.remove("active"),vt.fadeOut(this.container))}toggle(){this.isVisible()?this.hide():this.show()}resize(){}isVisible(){return this.container.style.display==="block"}onShow(e){this.showCallback=e}}class q$ extends fn{constructor(){super();_(this,"container",document.querySelector("#action-container"));_(this,"list",document.querySelector("#action-container > ul"));_(this,"name",document.querySelector("#action-container > .action-item-name"));_(this,"description",document.querySelector("#action-container > .action-item-description"));_(this,"buttonCallback")}show(n,i,a,l,u,g=""){this.clear(),y.each(n,v=>this.add(v)),this.name.innerHTML=i;let S=g||`<u>Attack Stats:</u>&emsp;&emsp;<u>Defense Stats:</u> <br>
            Crush: ${a.crush}&emsp;&emsp;&emsp;&emsp;Crush: ${l.crush} <br>
            Slash: ${a.slash}&emsp;&emsp;&emsp;&emsp;Slash: ${l.slash} <br>
            Stab: ${a.stab}&emsp;&emsp;&emsp;&emsp;&ensp;Stab: ${l.stab} <br>
            Magic: ${a.magic}&emsp;&emsp;&emsp;&emsp;Magic: ${l.magic} <br>
            <u>Bonuses</u>: <br>
            Accuracy: ${u.accuracy} <br>
            Strength: ${u.strength} <br>
            Archery: ${u.archery} <br>
            Magic: ${u.magic} <br>`;this.description.innerHTML=S,super.show()}add(n){let i=document.createElement("li");i.classList.add("action-button",`action-${n.toLowerCase()}`),i.addEventListener("click",()=>{var a;return(a=this.buttonCallback)==null?void 0:a.call(this,n)}),this.list.append(i)}clear(){this.list.innerHTML=""}onButton(n){this.buttonCallback=n}}class W$ extends fn{constructor(n){super("#inventory",void 0,"#inventory-button");_(this,"list",document.querySelector("#inventory-container > ul"));_(this,"selectedSlot",-1);_(this,"selectCallback");_(this,"touchClone");this.actions=n,this.load(),this.actions.onButton(i=>this.handleAction(i))}load(){if(!this.list)return ce.error("Could not create the skeleton for the inventory.");for(let n=0;n<ao.INVENTORY_SIZE;n++)this.list.append(this.createSlot(n))}handleAction(n){var i;(i=this.selectCallback)==null||i.call(this,this.selectedSlot,vt.getContainerAction(n)),this.actions.hide()}batch(n){y.each(n,i=>{i.key&&this.setSlot(i)})}add(n){this.setSlot(n)}remove(n){this.setSlot(n)}select(n,i=!1){let a=this.getElement(n);if(this.isEmpty(a))return this.actions.hide();if(this.selectedSlot=n,i){a.edible?this.handleAction(hi.Eat):a.equippable&&this.handleAction(hi.Equip);return}let l=[];a.edible&&l.push(hi.Eat),a.equippable&&l.push(hi.Equip),l.push(hi.Drop),this.actions.show(l,a.name,a.attackStats,a.defenseStats,a.bonuses,a.description)}selectEdible(){let n=this.getFirstEdible();n!==-1&&(this.selectedSlot=n,this.handleAction(hi.Eat))}dragStart(n,i){if(this.isEmpty(this.getElement(i))){n.preventDefault(),n.stopPropagation();return}this.selectedSlot=i}dragDrop(n,i){var l;let a=n.target;a&&(a.classList.remove("item-slot-focused"),this.selectedSlot!==-1&&((l=this.selectCallback)==null||l.call(this,this.selectedSlot,Hi.Swap,i),this.selectedSlot=-1))}dragOver(n){!n.target||!n.target.draggable||(n.preventDefault(),n.target.classList.add("item-slot-focused"))}dragLeave(n){n.target.classList.remove("item-slot-focused")}touchStart(n){this.isEmpty(this.getElement(n))||(this.selectedSlot=n)}touchMove(n,i){var l,u;if(this.selectedSlot===-1)return;let[a]=n.touches;i.classList.add("item-slot-focused"),(l=this.touchClone)!=null||(this.touchClone=i.cloneNode(!0)),this.touchClone.style.position="absolute",this.touchClone.style.top=`${a.clientY-i.clientHeight/2}px`,this.touchClone.style.left=`${a.clientX-i.clientWidth/2}px`,this.touchClone.style.opacity="0.75",(u=document.querySelector("#game-container"))==null||u.append(this.touchClone)}touchCancel(n){var i;(i=this.touchClone)==null||i.remove(),this.touchClone=void 0,n.classList.remove("item-slot-focused")}touchEnd(n,i){var g,S;this.touchCancel(i);let[a]=n.changedTouches,l=document.elementFromPoint(a.clientX,a.clientY),u=(g=l==null?void 0:l.dataset)==null?void 0:g.index;!u||this.selectedSlot===-1||((S=this.selectCallback)==null||S.call(this,this.selectedSlot,Hi.Swap,parseInt(u)),this.selectedSlot=-1)}setSlot(n){let i=this.getElement(n.index);if(!i)return ce.error(`Could not find slot element at: ${n.index}`);let a=i.querySelector(".inventory-item-image"),l=i.querySelector(".inventory-item-count");if(!a)return ce.error(`Could not find image element at: ${n.index}`);l&&(l.textContent=vt.getCount(n.count)),a.style.backgroundImage=n.key?vt.getImageURL(n.key):"",i.dataset.key=n.key,i.dataset.count=`${n.count}`,i.edible=n.edible,i.equippable=n.equippable,i.name=n.name,i.description=n.description,i.attackStats=n.attackStats,i.defenseStats=n.defenseStats,i.bonuses=n.bonuses}createSlot(n){let i=document.createElement("li"),a=document.createElement("div"),l=document.createElement("div"),u=document.createElement("div");return a.dataset.index=`${n}`,a.draggable=!0,a.classList.add("item-slot"),l.classList.add("inventory-item-image"),u.classList.add("inventory-item-count"),a.append(l),a.append(u),i.append(a),i.addEventListener("click",()=>this.select(n)),i.addEventListener("dblclick",()=>this.select(n,!0)),i.addEventListener("dragstart",g=>this.dragStart(g,n)),i.addEventListener("drop",g=>this.dragDrop(g,n)),i.addEventListener("dragover",g=>this.dragOver(g)),i.addEventListener("dragleave",g=>this.dragLeave(g)),i.addEventListener("touchstart",()=>this.touchStart(n)),i.addEventListener("touchmove",g=>this.touchMove(g,a)),i.addEventListener("touchcancel",()=>this.touchCancel(a)),i.addEventListener("touchend",g=>this.touchEnd(g,a)),i}hide(){super.hide(),this.selectedSlot=-1,this.actions.hide()}isEmpty(n){let i=n.querySelector(".inventory-item-image");return!i||i.style.backgroundImage===""}getElement(n){return this.list.children[n].querySelector("div")}getFirstEdible(){for(let n=0;n<this.list.children.length;n++)if(this.getElement(n).edible)return n;return-1}forEachSlot(n){for(let i=0;i<this.list.children.length;i++)n(i,this.getElement(i))}onSelect(n){this.selectCallback=n}}class z$ extends fn{constructor(n){super("#bank","#close-bank");_(this,"bankList",document.querySelector("#bank-slot > ul"));_(this,"inventoryList",document.querySelector("#bank-inventory-slots > ul"));_(this,"selectCallback");this.inventory=n,this.load()}load(){if(!this.bankList)return ce.error("[Bank] Could not find the bank slot list.");if(!this.inventoryList)return ce.error("[Bank] Could not find the inventory slot list.");for(let n=0;n<ao.BANK_SIZE;n++)this.bankList.append(vt.createSlot(oo.Bank,n,this.select.bind(this)));for(let n=0;n<ao.INVENTORY_SIZE;n++)this.inventoryList.append(vt.createSlot(oo.Inventory,n,this.select.bind(this)))}select(n,i){var a;(a=this.selectCallback)==null||a.call(this,n,i)}setSlot(n,i="",a=0){let l=this.getBankElement(n).querySelector(".bank-image"),u=this.getBankElement(n).querySelector(".item-count");l.style.backgroundImage=vt.getImageURL(i),u.textContent=vt.getCount(a)}synchronize(){this.isVisible()&&this.inventory.forEachSlot((n,i)=>{let a=this.getInventoryElement(n).querySelector(".bank-image"),l=this.getInventoryElement(n).querySelector(".item-count");a.style.backgroundImage=i.style.backgroundImage,l.textContent=i.textContent})}add(n){this.setSlot(n.index,n.key,n.count)}remove(n){this.setSlot(n.index,n.key,n.count)}show(n){super.show(),this.synchronize(),y.each(n,i=>this.setSlot(i.index,i.key,i.count))}hide(){super.hide()}getBankElement(n){return this.bankList.children[n].querySelector("div")}getInventoryElement(n){return this.inventoryList.children[n].querySelector("div")}onSelect(n){this.selectCallback=n}}class U$ extends fn{constructor(n){super("#store","#close-store");_(this,"key","");_(this,"currency","gold");_(this,"selectedIndex",-1);_(this,"selectedCount",-1);_(this,"confirmSell",document.querySelector("#confirm-sell"));_(this,"sellSlot",document.querySelector("#store-sell-slot"));_(this,"sellSlotText",document.querySelector("#store-sell-slot-text"));_(this,"sellSlotReturn",document.querySelector("#store-sell-slot-return"));_(this,"sellSlotReturnText",document.querySelector("#store-sell-slot-return-text"));_(this,"storeList",document.querySelector("#store-container > ul"));_(this,"inventoryList",document.querySelector("#store-inventory-slots > ul"));_(this,"selectCallback");this.inventory=n,this.load(),this.sellSlot.addEventListener("click",this.synchronize.bind(this)),this.confirmSell.addEventListener("click",this.sell.bind(this))}load(){for(let n=0;n<ao.INVENTORY_SIZE;n++)this.inventoryList.append(vt.createSlot(oo.Inventory,n,this.select.bind(this)))}update(n){this.clear(),this.key=n.key,this.currency=n.currency;for(let i=0;i<n.items.length;i++)this.storeList.append(this.createStoreItem(n.items[i],i))}select(n,i){var a;(a=this.selectCallback)==null||a.call(this,Ho.Select,this.key,i)}sell(){var n;(n=this.selectCallback)==null||n.call(this,Ho.Sell,this.key,this.selectedIndex,this.selectedCount)}buy(n,i=1){var a;(a=this.selectCallback)==null||a.call(this,Ho.Buy,this.key,n,i)}synchronize(){this.isVisible()&&(this.clearSellSlot(),this.inventory.forEachSlot((n,i)=>{let a=this.getElement(n).querySelector(".bank-image"),l=this.getElement(n).querySelector(".item-count");a.style.backgroundImage=i.style.backgroundImage,l.textContent=i.textContent}))}show(n){super.show(),this.update(n),this.synchronize()}clear(){this.key="",this.currency="gold",this.storeList.innerHTML=""}clearSellSlot(){this.selectedIndex=-1,this.selectedCount=-1,this.sellSlot.style.backgroundImage="",this.sellSlotText.textContent="",this.sellSlotReturn.style.backgroundImage="",this.sellSlotReturnText.textContent=""}move(n){if(n.key!==this.key)return ce.error("Invalid store key provided for the select.");this.synchronize();let i=this.getElement(n.item.index).querySelector(".bank-image"),a=this.getElement(n.item.index).querySelector(".item-count");if(!i||!a)return ce.error("[Store] Could not find image and count elements.");this.sellSlot.style.backgroundImage=i.style.backgroundImage,this.sellSlot.textContent=a.textContent,this.sellSlotReturn.style.backgroundImage=vt.getImageURL(this.currency),this.sellSlotReturnText.textContent=n.item.price.toString()||"",i.style.backgroundImage="",a.textContent="",this.selectedIndex=n.item.index,this.selectedCount=n.item.count}createStoreItem(n,i){let a=document.createElement("li"),l=document.createElement("div"),u=document.createElement("div"),g=document.createElement("div"),S=document.createElement("div"),v=document.createElement("div"),A=document.createElement("div");return l.classList.add("store-item"),u.classList.add("store-item-image"),g.classList.add("store-item-name"),S.classList.add("store-item-count"),v.classList.add("store-item-price"),A.classList.add("store-item-buy"),S.textContent=n.count.toString(),g.textContent=n.name,v.textContent=n.price.toString(),A.textContent="Buy",u.style.backgroundImage=vt.getImageURL(n.key),A.addEventListener("click",()=>this.buy(i)),l.append(u,g,S,v,A),a.append(l),a}getElement(n){return this.inventoryList.children[n].querySelector("div")}onSelect(n){this.selectCallback=n}}class H${constructor(e){_(this,"health",document.querySelector("#health"));_(this,"healthBar",document.querySelector("#health-bar"));_(this,"mana",document.querySelector("#mana"));_(this,"manaBar",document.querySelector("#mana-bar"));_(this,"healthText",document.querySelector("#health-bar-text"));_(this,"manaText",document.querySelector("#mana-bar-text"));this.player=e,this.player.onHitPoints(this.handleHitPoints.bind(this)),this.player.onMana(this.handleMana.bind(this)),this.player.onPoison(this.handlePoison.bind(this))}handleHitPoints(e,n,i){this.setPoints(this.health,this.healthBar,this.healthText,e,n,i)}handleMana(e,n){this.setPoints(this.mana,this.manaBar,this.manaText,e,n)}handlePoison(e){this.health.style.background=e?"linear-gradient(to right, #046E20, #19B047)":"linear-gradient(to right, #f00, #ef5a5a)"}resize(){this.handleHitPoints(this.player.hitPoints,this.player.maxHitPoints),this.handleMana(this.player.mana,this.player.maxMana)}setPoints(e,n,i,a,l,u){let g=a/l;e.style.width=`${Math.floor(n.offsetWidth*g).toString()}px`,i.textContent=`${a}/${l}`,u&&this.flash(this.player.poison?"poison":"white")}flash(e){this.health.classList.add(e),window.setTimeout(()=>this.health.classList.remove(e),500)}}class G$ extends fn{constructor(){super("#state-page");_(this,"name",document.querySelector("#profile-name"));_(this,"level",document.querySelector("#profile-level"));_(this,"experience",document.querySelector("#profile-experience"));_(this,"weapon",document.querySelector("#state-page > .weapon-slot"));_(this,"armour",document.querySelector("#state-page > .armour-slot"));_(this,"pendant",document.querySelector("#state-page > .pendant-slot"));_(this,"ring",document.querySelector("#state-page > .ring-slot"));_(this,"boots",document.querySelector("#state-page > .boots-slot"));_(this,"selectCallback");this.weapon.addEventListener("click",()=>{var n;return(n=this.selectCallback)==null?void 0:n.call(this,Ce.Weapon)}),this.armour.addEventListener("click",()=>{var n;return(n=this.selectCallback)==null?void 0:n.call(this,Ce.Armour)}),this.pendant.addEventListener("click",()=>{var n;return(n=this.selectCallback)==null?void 0:n.call(this,Ce.Pendant)}),this.ring.addEventListener("click",()=>{var n;return(n=this.selectCallback)==null?void 0:n.call(this,Ce.Ring)}),this.boots.addEventListener("click",()=>{var n;return(n=this.selectCallback)==null?void 0:n.call(this,Ce.Boots)})}synchronize(n){this.name.textContent=n.name,this.level.textContent=`Level ${n.level}`,this.experience.textContent=`${n.getTotalExperience()}`,this.weapon.style.backgroundImage=vt.getImageURL(n.getWeapon().key),this.armour.style.backgroundImage=vt.getImageURL(n.getArmour().key==="clotharmor"?"":n.getArmour().key),this.pendant.style.backgroundImage=vt.getImageURL(n.getPendant().key),this.ring.style.backgroundImage=vt.getImageURL(n.getRing().key),this.boots.style.backgroundImage=vt.getImageURL(n.getBoots().key)}onSelect(n){this.selectCallback=n}}var Gi={},j$={get exports(){return Gi},set exports(t){Gi=t}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,i="4.17.21",a=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",g="Invalid `variable` option passed into `_.template`",S="__lodash_hash_undefined__",v=500,A="__lodash_placeholder__",Y=1,X=2,M=4,q=1,j=2,et=1,V=2,dt=4,lt=8,nt=16,ut=32,p=64,st=128,Ct=256,Rt=512,Yt=30,qt="...",Te=800,po=16,mi=1,or=2,Ud=3,ar=1/0,Yi=9007199254740991,Hd=17976931348623157e292,_o=0/0,Xe=4294967295,Gd=Xe-1,Pr=Xe>>>1,ia=[["ary",st],["bind",et],["bindKey",V],["curry",lt],["curryRight",nt],["flip",Rt],["partial",ut],["partialRight",p],["rearg",Ct]],sr="[object Arguments]",ra="[object Array]",rs="[object AsyncFunction]",Oi="[object Boolean]",gn="[object Date]",jd="[object DOMException]",oa="[object Error]",aa="[object Function]",Bn="[object GeneratorFunction]",Ke="[object Map]",ki="[object Number]",bt="[object Null]",be="[object Object]",Ol="[object Promise]",Vd="[object Proxy]",mo="[object RegExp]",Cn="[object Set]",$r="[object String]",Xi="[object Symbol]",vi="[object Undefined]",Fn="[object WeakMap]",Mr="[object WeakSet]",ko="[object ArrayBuffer]",bi="[object DataView]",sa="[object Float32Array]",la="[object Float64Array]",os="[object Int8Array]",Pi="[object Int16Array]",lr="[object Int32Array]",ha="[object Uint8Array]",da="[object Uint8ClampedArray]",en="[object Uint16Array]",Ue="[object Uint32Array]",as=/\b__p \+= '';/g,Zd=/\b(__p \+=) '' \+/g,Xl=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ss=/&(?:amp|lt|gt|quot|#39);/g,hr=/[&<>"']/g,Dr=RegExp(ss.source),Kd=RegExp(hr.source),Jd=/<%-([\s\S]+?)%>/g,ls=/<%([\s\S]+?)%>/g,vo=/<%=([\s\S]+?)%>/g,Qd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tu=/^\w*$/,eu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ua=/[\\^$.*+?()[\]{}|]/g,nu=RegExp(ua.source),hs=/^\s+/,Pl=/\s/,iu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Nr=/\{\n\/\* \[wrapped with (.+)\] \*/,$l=/,? & /,ds=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,us=/[()=,{}\[\]\/\s]/,fa=/\\(\\)?/g,Ml=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dl=/\w*$/,Nl=/^[-+]0x[0-9a-f]+$/i,ru=/^0b[01]+$/i,bo=/^\[object .+?Constructor\]$/,Bl=/^0o[0-7]+$/i,Fl=/^(?:0|[1-9]\d*)$/,ql=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yo=/($^)/,ou=/['\n\r\u2028\u2029\\]/g,Br="\\ud800-\\udfff",au="\\u0300-\\u036f",su="\\ufe20-\\ufe2f",Wl="\\u20d0-\\u20ff",fs=au+su+Wl,ga="\\u2700-\\u27bf",gs="a-z\\xdf-\\xf6\\xf8-\\xff",nn="\\xac\\xb1\\xd7\\xf7",Fr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ca="\\u2000-\\u206f",lu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zl="A-Z\\xc0-\\xd6\\xd8-\\xde",wa="\\ufe0e\\ufe0f",cs=nn+Fr+ca+lu,qr="['’]",Ul="["+Br+"]",Hl="["+cs+"]",pa="["+fs+"]",An="\\d+",Gl="["+ga+"]",Wr="["+gs+"]",jl="[^"+Br+cs+An+ga+gs+zl+"]",ws="\\ud83c[\\udffb-\\udfff]",dr="(?:"+pa+"|"+ws+")",$i="[^"+Br+"]",xo="(?:\\ud83c[\\udde6-\\uddff]){2}",ps="[\\ud800-\\udbff][\\udc00-\\udfff]",ur="["+zl+"]",_s="\\u200d",zr="(?:"+Wr+"|"+jl+")",Vl="(?:"+ur+"|"+jl+")",_a="(?:"+qr+"(?:d|ll|m|re|s|t|ve))?",Zl="(?:"+qr+"(?:D|LL|M|RE|S|T|VE))?",ms=dr+"?",Kl="["+wa+"]?",hu="(?:"+_s+"(?:"+[$i,xo,ps].join("|")+")"+Kl+ms+")*",ks="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",du="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Jl=Kl+ms+hu,uu="(?:"+[Gl,xo,ps].join("|")+")"+Jl,fu="(?:"+[$i+pa+"?",pa,xo,ps,Ul].join("|")+")",gu=RegExp(qr,"g"),cu=RegExp(pa,"g"),vs=RegExp(ws+"(?="+ws+")|"+fu+Jl,"g"),Ql=RegExp([ur+"?"+Wr+"+"+_a+"(?="+[Hl,ur,"$"].join("|")+")",Vl+"+"+Zl+"(?="+[Hl,ur+zr,"$"].join("|")+")",ur+"?"+zr+"+"+_a,ur+"+"+Zl,du,ks,An,uu].join("|"),"g"),bs=RegExp("["+_s+Br+fs+wa+"]"),th=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ys=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],eh=-1,ge={};ge[sa]=ge[la]=ge[os]=ge[Pi]=ge[lr]=ge[ha]=ge[da]=ge[en]=ge[Ue]=!0,ge[sr]=ge[ra]=ge[ko]=ge[Oi]=ge[bi]=ge[gn]=ge[oa]=ge[aa]=ge[Ke]=ge[ki]=ge[be]=ge[mo]=ge[Cn]=ge[$r]=ge[Fn]=!1;var he={};he[sr]=he[ra]=he[ko]=he[bi]=he[Oi]=he[gn]=he[sa]=he[la]=he[os]=he[Pi]=he[lr]=he[Ke]=he[ki]=he[be]=he[mo]=he[Cn]=he[$r]=he[Xi]=he[ha]=he[da]=he[en]=he[Ue]=!0,he[oa]=he[aa]=he[Fn]=!1;var wu={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},pu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_u={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},So={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nh=parseFloat,xs=parseInt,ih=typeof $a=="object"&&$a&&$a.Object===Object&&$a,mu=typeof self=="object"&&self&&self.Object===Object&&self,Fe=ih||mu||Function("return this")(),s=e&&!e.nodeType&&e,d=s&&!0&&t&&!t.nodeType&&t,f=d&&d.exports===s,c=f&&ih.process,m=function(){try{var D=d&&d.require&&d.require("util").types;return D||c&&c.binding&&c.binding("util")}catch(Z){}}(),k=m&&m.isArrayBuffer,x=m&&m.isDate,O=m&&m.isMap,T=m&&m.isRegExp,F=m&&m.isSet,H=m&&m.isTypedArray;function J(D,Z,U){switch(U.length){case 0:return D.call(Z);case 1:return D.call(Z,U[0]);case 2:return D.call(Z,U[0],U[1]);case 3:return D.call(Z,U[0],U[1],U[2])}return D.apply(Z,U)}function W(D,Z,U,ft){for(var Lt=-1,Qt=D==null?0:D.length;++Lt<Qt;){var Pe=D[Lt];Z(ft,Pe,U(Pe),D)}return ft}function G(D,Z){for(var U=-1,ft=D==null?0:D.length;++U<ft&&Z(D[U],U,D)!==!1;);return D}function _t(D,Z){for(var U=D==null?0:D.length;U--&&Z(D[U],U,D)!==!1;);return D}function Ot(D,Z){for(var U=-1,ft=D==null?0:D.length;++U<ft;)if(!Z(D[U],U,D))return!1;return!0}function ct(D,Z){for(var U=-1,ft=D==null?0:D.length,Lt=0,Qt=[];++U<ft;){var Pe=D[U];Z(Pe,U,D)&&(Qt[Lt++]=Pe)}return Qt}function ye(D,Z){var U=D==null?0:D.length;return!!U&&En(D,Z,0)>-1}function xe(D,Z,U){for(var ft=-1,Lt=D==null?0:D.length;++ft<Lt;)if(U(Z,D[ft]))return!0;return!1}function Ht(D,Z){for(var U=-1,ft=D==null?0:D.length,Lt=Array(ft);++U<ft;)Lt[U]=Z(D[U],U,D);return Lt}function Gt(D,Z){for(var U=-1,ft=Z.length,Lt=D.length;++U<ft;)D[Lt+U]=Z[U];return D}function Tt(D,Z,U,ft){var Lt=-1,Qt=D==null?0:D.length;for(ft&&Qt&&(U=D[++Lt]);++Lt<Qt;)U=Z(U,D[Lt],Lt,D);return U}function rn(D,Z,U,ft){var Lt=D==null?0:D.length;for(ft&&Lt&&(U=D[--Lt]);Lt--;)U=Z(U,D[Lt],Lt,D);return U}function jt(D,Z){for(var U=-1,ft=D==null?0:D.length;++U<ft;)if(Z(D[U],U,D))return!0;return!1}var ke=ni("length");function Co(D){return D.split("")}function ma(D){return D.match(ds)||[]}function on(D,Z,U){var ft;return U(D,function(Lt,Qt,Pe){if(Z(Lt,Qt,Pe))return ft=Qt,!1}),ft}function ei(D,Z,U,ft){for(var Lt=D.length,Qt=U+(ft?1:-1);ft?Qt--:++Qt<Lt;)if(Z(D[Qt],Qt,D))return Qt;return-1}function En(D,Z,U){return Z===Z?sh(D,Z,U):ei(D,yi,U)}function an(D,Z,U,ft){for(var Lt=U-1,Qt=D.length;++Lt<Qt;)if(ft(D[Lt],Z))return Lt;return-1}function yi(D){return D!==D}function cn(D,Z){var U=D==null?0:D.length;return U?ne(D,Z)/U:_o}function ni(D){return function(Z){return Z==null?n:Z[D]}}function ka(D){return function(Z){return D==null?n:D[Z]}}function Mi(D,Z,U,ft,Lt){return Lt(D,function(Qt,Pe,ae){U=ft?(ft=!1,Qt):Z(U,Qt,Pe,ae)}),U}function Ss(D,Z){var U=D.length;for(D.sort(Z);U--;)D[U]=D[U].value;return D}function ne(D,Z){for(var U,ft=-1,Lt=D.length;++ft<Lt;){var Qt=Z(D[ft]);Qt!==n&&(U=U===n?Qt:U+Qt)}return U}function xi(D,Z){for(var U=-1,ft=Array(D);++U<D;)ft[U]=Z(U);return ft}function rh(D,Z){return Ht(Z,function(U){return[U,D[U]]})}function va(D){return D&&D.slice(0,In(D)+1).replace(hs,"")}function wn(D){return function(Z){return D(Z)}}function Ur(D,Z){return Ht(Z,function(U){return D[U]})}function Ao(D,Z){return D.has(Z)}function Cs(D,Z){for(var U=-1,ft=D.length;++U<ft&&En(Z,D[U],0)>-1;);return U}function oh(D,Z){for(var U=D.length;U--&&En(Z,D[U],0)>-1;);return U}function ku(D,Z){for(var U=D.length,ft=0;U--;)D[U]===Z&&++ft;return ft}var vu=ka(wu),ba=ka(pu);function bu(D){return"\\"+So[D]}function yu(D,Z){return D==null?n:D[Z]}function Hr(D){return bs.test(D)}function Eo(D){return th.test(D)}function xu(D){for(var Z,U=[];!(Z=D.next()).done;)U.push(Z.value);return U}function Io(D){var Z=-1,U=Array(D.size);return D.forEach(function(ft,Lt){U[++Z]=[Lt,ft]}),U}function ii(D,Z){return function(U){return D(Z(U))}}function He(D,Z){for(var U=-1,ft=D.length,Lt=0,Qt=[];++U<ft;){var Pe=D[U];(Pe===Z||Pe===A)&&(D[U]=A,Qt[Lt++]=U)}return Qt}function To(D){var Z=-1,U=Array(D.size);return D.forEach(function(ft){U[++Z]=ft}),U}function ah(D){var Z=-1,U=Array(D.size);return D.forEach(function(ft){U[++Z]=[ft,ft]}),U}function sh(D,Z,U){for(var ft=U-1,Lt=D.length;++ft<Lt;)if(D[ft]===Z)return ft;return-1}function Su(D,Z,U){for(var ft=U+1;ft--;)if(D[ft]===Z)return ft;return ft}function ie(D){return Hr(D)?As(D):ke(D)}function sn(D){return Hr(D)?lh(D):Co(D)}function In(D){for(var Z=D.length;Z--&&Pl.test(D.charAt(Z)););return Z}var Tn=ka(_u);function As(D){for(var Z=vs.lastIndex=0;vs.test(D);)++Z;return Z}function lh(D){return D.match(vs)||[]}function Cu(D){return D.match(Ql)||[]}var Au=function D(Z){Z=Z==null?Fe:fr.defaults(Fe.Object(),Z,fr.pick(Fe,ys));var U=Z.Array,ft=Z.Date,Lt=Z.Error,Qt=Z.Function,Pe=Z.Math,ae=Z.Object,Lo=Z.RegExp,Es=Z.String,Ln=Z.TypeError,E=U.prototype,R=Qt.prototype,$=ae.prototype,K=Z["__core-js_shared__"],N=R.toString,z=$.hasOwnProperty,it=0,ot=function(){var r=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),at=$.toString,yt=N.call(ae),mt=Fe._,St=Lo("^"+N.call(z).replace(ua,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dt=f?Z.Buffer:n,Zt=Z.Symbol,kt=Z.Uint8Array,Le=Dt?Dt.allocUnsafe:n,$e=ii(ae.getPrototypeOf,ae),ln=ae.create,pe=$.propertyIsEnumerable,Di=E.splice,Gr=Zt?Zt.isConcatSpreadable:n,qe=Zt?Zt.iterator:n,Ro=Zt?Zt.toStringTag:n,hh=function(){try{var r=$o(ae,"defineProperty");return r({},"",{}),r}catch(o){}}(),dk=Z.clearTimeout!==Fe.clearTimeout&&Z.clearTimeout,uk=ft&&ft.now!==Fe.Date.now&&ft.now,fk=Z.setTimeout!==Fe.setTimeout&&Z.setTimeout,dh=Pe.ceil,uh=Pe.floor,Eu=ae.getOwnPropertySymbols,gk=Dt?Dt.isBuffer:n,Xc=Z.isFinite,ck=E.join,wk=ii(ae.keys,ae),We=Pe.max,hn=Pe.min,pk=ft.now,_k=Z.parseInt,Pc=Pe.random,mk=E.reverse,Iu=$o(Z,"DataView"),Is=$o(Z,"Map"),Tu=$o(Z,"Promise"),ya=$o(Z,"Set"),Ts=$o(Z,"WeakMap"),Ls=$o(ae,"create"),fh=Ts&&new Ts,xa={},kk=Mo(Iu),vk=Mo(Is),bk=Mo(Tu),yk=Mo(ya),xk=Mo(Ts),gh=Zt?Zt.prototype:n,Rs=gh?gh.valueOf:n,$c=gh?gh.toString:n;function C(r){if(Re(r)&&!Nt(r)&&!(r instanceof Kt)){if(r instanceof ri)return r;if(z.call(r,"__wrapped__"))return Mw(r)}return new ri(r)}var Sa=function(){function r(){}return function(o){if(!Ie(o))return{};if(ln)return ln(o);r.prototype=o;var h=new r;return r.prototype=n,h}}();function ch(){}function ri(r,o){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=n}C.templateSettings={escape:Jd,evaluate:ls,interpolate:vo,variable:"",imports:{_:C}},C.prototype=ch.prototype,C.prototype.constructor=C,ri.prototype=Sa(ch.prototype),ri.prototype.constructor=ri;function Kt(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Xe,this.__views__=[]}function Sk(){var r=new Kt(this.__wrapped__);return r.__actions__=Rn(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Rn(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Rn(this.__views__),r}function Ck(){if(this.__filtered__){var r=new Kt(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function Ak(){var r=this.__wrapped__.value(),o=this.__dir__,h=Nt(r),w=o<0,b=h?r.length:0,I=Dv(0,b,this.__views__),L=I.start,P=I.end,B=P-L,Q=w?P:L-1,tt=this.__iteratees__,rt=tt.length,ht=0,pt=hn(B,this.__takeCount__);if(!h||!w&&b==B&&pt==B)return aw(r,this.__actions__);var Et=[];t:for(;B--&&ht<pt;){Q+=o;for(var Wt=-1,It=r[Q];++Wt<rt;){var Vt=tt[Wt],te=Vt.iteratee,zn=Vt.type,mn=te(It);if(zn==or)It=mn;else if(!mn){if(zn==mi)continue t;break t}}Et[ht++]=It}return Et}Kt.prototype=Sa(ch.prototype),Kt.prototype.constructor=Kt;function Yo(r){var o=-1,h=r==null?0:r.length;for(this.clear();++o<h;){var w=r[o];this.set(w[0],w[1])}}function Ek(){this.__data__=Ls?Ls(null):{},this.size=0}function Ik(r){var o=this.has(r)&&delete this.__data__[r];return this.size-=o?1:0,o}function Tk(r){var o=this.__data__;if(Ls){var h=o[r];return h===S?n:h}return z.call(o,r)?o[r]:n}function Lk(r){var o=this.__data__;return Ls?o[r]!==n:z.call(o,r)}function Rk(r,o){var h=this.__data__;return this.size+=this.has(r)?0:1,h[r]=Ls&&o===n?S:o,this}Yo.prototype.clear=Ek,Yo.prototype.delete=Ik,Yo.prototype.get=Tk,Yo.prototype.has=Lk,Yo.prototype.set=Rk;function gr(r){var o=-1,h=r==null?0:r.length;for(this.clear();++o<h;){var w=r[o];this.set(w[0],w[1])}}function Yk(){this.__data__=[],this.size=0}function Ok(r){var o=this.__data__,h=wh(o,r);if(h<0)return!1;var w=o.length-1;return h==w?o.pop():Di.call(o,h,1),--this.size,!0}function Xk(r){var o=this.__data__,h=wh(o,r);return h<0?n:o[h][1]}function Pk(r){return wh(this.__data__,r)>-1}function $k(r,o){var h=this.__data__,w=wh(h,r);return w<0?(++this.size,h.push([r,o])):h[w][1]=o,this}gr.prototype.clear=Yk,gr.prototype.delete=Ok,gr.prototype.get=Xk,gr.prototype.has=Pk,gr.prototype.set=$k;function cr(r){var o=-1,h=r==null?0:r.length;for(this.clear();++o<h;){var w=r[o];this.set(w[0],w[1])}}function Mk(){this.size=0,this.__data__={hash:new Yo,map:new(Is||gr),string:new Yo}}function Dk(r){var o=Eh(this,r).delete(r);return this.size-=o?1:0,o}function Nk(r){return Eh(this,r).get(r)}function Bk(r){return Eh(this,r).has(r)}function Fk(r,o){var h=Eh(this,r),w=h.size;return h.set(r,o),this.size+=h.size==w?0:1,this}cr.prototype.clear=Mk,cr.prototype.delete=Dk,cr.prototype.get=Nk,cr.prototype.has=Bk,cr.prototype.set=Fk;function Oo(r){var o=-1,h=r==null?0:r.length;for(this.__data__=new cr;++o<h;)this.add(r[o])}function qk(r){return this.__data__.set(r,S),this}function Wk(r){return this.__data__.has(r)}Oo.prototype.add=Oo.prototype.push=qk,Oo.prototype.has=Wk;function Si(r){var o=this.__data__=new gr(r);this.size=o.size}function zk(){this.__data__=new gr,this.size=0}function Uk(r){var o=this.__data__,h=o.delete(r);return this.size=o.size,h}function Hk(r){return this.__data__.get(r)}function Gk(r){return this.__data__.has(r)}function jk(r,o){var h=this.__data__;if(h instanceof gr){var w=h.__data__;if(!Is||w.length<a-1)return w.push([r,o]),this.size=++h.size,this;h=this.__data__=new cr(w)}return h.set(r,o),this.size=h.size,this}Si.prototype.clear=zk,Si.prototype.delete=Uk,Si.prototype.get=Hk,Si.prototype.has=Gk,Si.prototype.set=jk;function Mc(r,o){var h=Nt(r),w=!h&&Do(r),b=!h&&!w&&Jr(r),I=!h&&!w&&!b&&Ia(r),L=h||w||b||I,P=L?xi(r.length,Es):[],B=P.length;for(var Q in r)(o||z.call(r,Q))&&!(L&&(Q=="length"||b&&(Q=="offset"||Q=="parent")||I&&(Q=="buffer"||Q=="byteLength"||Q=="byteOffset")||mr(Q,B)))&&P.push(Q);return P}function Dc(r){var o=r.length;return o?r[Bu(0,o-1)]:n}function Vk(r,o){return Ih(Rn(r),Xo(o,0,r.length))}function Zk(r){return Ih(Rn(r))}function Lu(r,o,h){(h!==n&&!Ci(r[o],h)||h===n&&!(o in r))&&wr(r,o,h)}function Ys(r,o,h){var w=r[o];(!(z.call(r,o)&&Ci(w,h))||h===n&&!(o in r))&&wr(r,o,h)}function wh(r,o){for(var h=r.length;h--;)if(Ci(r[h][0],o))return h;return-1}function Kk(r,o,h,w){return jr(r,function(b,I,L){o(w,b,h(b),L)}),w}function Nc(r,o){return r&&Bi(o,Ge(o),r)}function Jk(r,o){return r&&Bi(o,On(o),r)}function wr(r,o,h){o=="__proto__"&&hh?hh(r,o,{configurable:!0,enumerable:!0,value:h,writable:!0}):r[o]=h}function Ru(r,o){for(var h=-1,w=o.length,b=U(w),I=r==null;++h<w;)b[h]=I?n:ff(r,o[h]);return b}function Xo(r,o,h){return r===r&&(h!==n&&(r=r<=h?r:h),o!==n&&(r=r>=o?r:o)),r}function oi(r,o,h,w,b,I){var L,P=o&Y,B=o&X,Q=o&M;if(h&&(L=b?h(r,w,b,I):h(r)),L!==n)return L;if(!Ie(r))return r;var tt=Nt(r);if(tt){if(L=Bv(r),!P)return Rn(r,L)}else{var rt=dn(r),ht=rt==aa||rt==Bn;if(Jr(r))return hw(r,P);if(rt==be||rt==sr||ht&&!b){if(L=B||ht?{}:Iw(r),!P)return B?Tv(r,Jk(L,r)):Iv(r,Nc(L,r))}else{if(!he[rt])return b?r:{};L=Fv(r,rt,P)}}I||(I=new Si);var pt=I.get(r);if(pt)return pt;I.set(r,L),ip(r)?r.forEach(function(It){L.add(oi(It,o,h,It,r,I))}):ep(r)&&r.forEach(function(It,Vt){L.set(Vt,oi(It,o,h,Vt,r,I))});var Et=Q?B?Ku:Zu:B?On:Ge,Wt=tt?n:Et(r);return G(Wt||r,function(It,Vt){Wt&&(Vt=It,It=r[Vt]),Ys(L,Vt,oi(It,o,h,Vt,r,I))}),L}function Qk(r){var o=Ge(r);return function(h){return Bc(h,r,o)}}function Bc(r,o,h){var w=h.length;if(r==null)return!w;for(r=ae(r);w--;){var b=h[w],I=o[b],L=r[b];if(L===n&&!(b in r)||!I(L))return!1}return!0}function Fc(r,o,h){if(typeof r!="function")throw new Ln(u);return Ns(function(){r.apply(n,h)},o)}function Os(r,o,h,w){var b=-1,I=ye,L=!0,P=r.length,B=[],Q=o.length;if(!P)return B;h&&(o=Ht(o,wn(h))),w?(I=xe,L=!1):o.length>=a&&(I=Ao,L=!1,o=new Oo(o));t:for(;++b<P;){var tt=r[b],rt=h==null?tt:h(tt);if(tt=w||tt!==0?tt:0,L&&rt===rt){for(var ht=Q;ht--;)if(o[ht]===rt)continue t;B.push(tt)}else I(o,rt,w)||B.push(tt)}return B}var jr=cw(Ni),qc=cw(Ou,!0);function tv(r,o){var h=!0;return jr(r,function(w,b,I){return h=!!o(w,b,I),h}),h}function ph(r,o,h){for(var w=-1,b=r.length;++w<b;){var I=r[w],L=o(I);if(L!=null&&(P===n?L===L&&!Wn(L):h(L,P)))var P=L,B=I}return B}function ev(r,o,h,w){var b=r.length;for(h=Ft(h),h<0&&(h=-h>b?0:b+h),w=w===n||w>b?b:Ft(w),w<0&&(w+=b),w=h>w?0:op(w);h<w;)r[h++]=o;return r}function Wc(r,o){var h=[];return jr(r,function(w,b,I){o(w,b,I)&&h.push(w)}),h}function Je(r,o,h,w,b){var I=-1,L=r.length;for(h||(h=Wv),b||(b=[]);++I<L;){var P=r[I];o>0&&h(P)?o>1?Je(P,o-1,h,w,b):Gt(b,P):w||(b[b.length]=P)}return b}var Yu=ww(),zc=ww(!0);function Ni(r,o){return r&&Yu(r,o,Ge)}function Ou(r,o){return r&&zc(r,o,Ge)}function _h(r,o){return ct(o,function(h){return kr(r[h])})}function Po(r,o){o=Zr(o,r);for(var h=0,w=o.length;r!=null&&h<w;)r=r[Fi(o[h++])];return h&&h==w?r:n}function Uc(r,o,h){var w=o(r);return Nt(r)?w:Gt(w,h(r))}function pn(r){return r==null?r===n?vi:bt:Ro&&Ro in ae(r)?Mv(r):Zv(r)}function Xu(r,o){return r>o}function nv(r,o){return r!=null&&z.call(r,o)}function iv(r,o){return r!=null&&o in ae(r)}function rv(r,o,h){return r>=hn(o,h)&&r<We(o,h)}function Pu(r,o,h){for(var w=h?xe:ye,b=r[0].length,I=r.length,L=I,P=U(I),B=1/0,Q=[];L--;){var tt=r[L];L&&o&&(tt=Ht(tt,wn(o))),B=hn(tt.length,B),P[L]=!h&&(o||b>=120&&tt.length>=120)?new Oo(L&&tt):n}tt=r[0];var rt=-1,ht=P[0];t:for(;++rt<b&&Q.length<B;){var pt=tt[rt],Et=o?o(pt):pt;if(pt=h||pt!==0?pt:0,!(ht?Ao(ht,Et):w(Q,Et,h))){for(L=I;--L;){var Wt=P[L];if(!(Wt?Ao(Wt,Et):w(r[L],Et,h)))continue t}ht&&ht.push(Et),Q.push(pt)}}return Q}function ov(r,o,h,w){return Ni(r,function(b,I,L){o(w,h(b),I,L)}),w}function Xs(r,o,h){o=Zr(o,r),r=Yw(r,o);var w=r==null?r:r[Fi(si(o))];return w==null?n:J(w,r,h)}function Hc(r){return Re(r)&&pn(r)==sr}function av(r){return Re(r)&&pn(r)==ko}function sv(r){return Re(r)&&pn(r)==gn}function Ps(r,o,h,w,b){return r===o?!0:r==null||o==null||!Re(r)&&!Re(o)?r!==r&&o!==o:lv(r,o,h,w,Ps,b)}function lv(r,o,h,w,b,I){var L=Nt(r),P=Nt(o),B=L?ra:dn(r),Q=P?ra:dn(o);B=B==sr?be:B,Q=Q==sr?be:Q;var tt=B==be,rt=Q==be,ht=B==Q;if(ht&&Jr(r)){if(!Jr(o))return!1;L=!0,tt=!1}if(ht&&!tt)return I||(I=new Si),L||Ia(r)?Cw(r,o,h,w,b,I):Pv(r,o,B,h,w,b,I);if(!(h&q)){var pt=tt&&z.call(r,"__wrapped__"),Et=rt&&z.call(o,"__wrapped__");if(pt||Et){var Wt=pt?r.value():r,It=Et?o.value():o;return I||(I=new Si),b(Wt,It,h,w,I)}}return ht?(I||(I=new Si),$v(r,o,h,w,b,I)):!1}function hv(r){return Re(r)&&dn(r)==Ke}function $u(r,o,h,w){var b=h.length,I=b,L=!w;if(r==null)return!I;for(r=ae(r);b--;){var P=h[b];if(L&&P[2]?P[1]!==r[P[0]]:!(P[0]in r))return!1}for(;++b<I;){P=h[b];var B=P[0],Q=r[B],tt=P[1];if(L&&P[2]){if(Q===n&&!(B in r))return!1}else{var rt=new Si;if(w)var ht=w(Q,tt,B,r,o,rt);if(!(ht===n?Ps(tt,Q,q|j,w,rt):ht))return!1}}return!0}function Gc(r){if(!Ie(r)||Uv(r))return!1;var o=kr(r)?St:bo;return o.test(Mo(r))}function dv(r){return Re(r)&&pn(r)==mo}function uv(r){return Re(r)&&dn(r)==Cn}function fv(r){return Re(r)&&Xh(r.length)&&!!ge[pn(r)]}function jc(r){return typeof r=="function"?r:r==null?Xn:typeof r=="object"?Nt(r)?Kc(r[0],r[1]):Zc(r):pp(r)}function Mu(r){if(!Ds(r))return wk(r);var o=[];for(var h in ae(r))z.call(r,h)&&h!="constructor"&&o.push(h);return o}function gv(r){if(!Ie(r))return Vv(r);var o=Ds(r),h=[];for(var w in r)w=="constructor"&&(o||!z.call(r,w))||h.push(w);return h}function Du(r,o){return r<o}function Vc(r,o){var h=-1,w=Yn(r)?U(r.length):[];return jr(r,function(b,I,L){w[++h]=o(b,I,L)}),w}function Zc(r){var o=Qu(r);return o.length==1&&o[0][2]?Lw(o[0][0],o[0][1]):function(h){return h===r||$u(h,r,o)}}function Kc(r,o){return ef(r)&&Tw(o)?Lw(Fi(r),o):function(h){var w=ff(h,r);return w===n&&w===o?gf(h,r):Ps(o,w,q|j)}}function mh(r,o,h,w,b){r!==o&&Yu(o,function(I,L){if(b||(b=new Si),Ie(I))cv(r,o,L,h,mh,w,b);else{var P=w?w(rf(r,L),I,L+"",r,o,b):n;P===n&&(P=I),Lu(r,L,P)}},On)}function cv(r,o,h,w,b,I,L){var P=rf(r,h),B=rf(o,h),Q=L.get(B);if(Q){Lu(r,h,Q);return}var tt=I?I(P,B,h+"",r,o,L):n,rt=tt===n;if(rt){var ht=Nt(B),pt=!ht&&Jr(B),Et=!ht&&!pt&&Ia(B);tt=B,ht||pt||Et?Nt(P)?tt=P:Me(P)?tt=Rn(P):pt?(rt=!1,tt=hw(B,!0)):Et?(rt=!1,tt=dw(B,!0)):tt=[]:Bs(B)||Do(B)?(tt=P,Do(P)?tt=ap(P):(!Ie(P)||kr(P))&&(tt=Iw(B))):rt=!1}rt&&(L.set(B,tt),b(tt,B,w,I,L),L.delete(B)),Lu(r,h,tt)}function Jc(r,o){var h=r.length;if(h)return o+=o<0?h:0,mr(o,h)?r[o]:n}function Qc(r,o,h){o.length?o=Ht(o,function(I){return Nt(I)?function(L){return Po(L,I.length===1?I[0]:I)}:I}):o=[Xn];var w=-1;o=Ht(o,wn(At()));var b=Vc(r,function(I,L,P){var B=Ht(o,function(Q){return Q(I)});return{criteria:B,index:++w,value:I}});return Ss(b,function(I,L){return Ev(I,L,h)})}function wv(r,o){return tw(r,o,function(h,w){return gf(r,w)})}function tw(r,o,h){for(var w=-1,b=o.length,I={};++w<b;){var L=o[w],P=Po(r,L);h(P,L)&&$s(I,Zr(L,r),P)}return I}function pv(r){return function(o){return Po(o,r)}}function Nu(r,o,h,w){var b=w?an:En,I=-1,L=o.length,P=r;for(r===o&&(o=Rn(o)),h&&(P=Ht(r,wn(h)));++I<L;)for(var B=0,Q=o[I],tt=h?h(Q):Q;(B=b(P,tt,B,w))>-1;)P!==r&&Di.call(P,B,1),Di.call(r,B,1);return r}function ew(r,o){for(var h=r?o.length:0,w=h-1;h--;){var b=o[h];if(h==w||b!==I){var I=b;mr(b)?Di.call(r,b,1):Wu(r,b)}}return r}function Bu(r,o){return r+uh(Pc()*(o-r+1))}function _v(r,o,h,w){for(var b=-1,I=We(dh((o-r)/(h||1)),0),L=U(I);I--;)L[w?I:++b]=r,r+=h;return L}function Fu(r,o){var h="";if(!r||o<1||o>Yi)return h;do o%2&&(h+=r),o=uh(o/2),o&&(r+=r);while(o);return h}function zt(r,o){return of(Rw(r,o,Xn),r+"")}function mv(r){return Dc(Ta(r))}function kv(r,o){var h=Ta(r);return Ih(h,Xo(o,0,h.length))}function $s(r,o,h,w){if(!Ie(r))return r;o=Zr(o,r);for(var b=-1,I=o.length,L=I-1,P=r;P!=null&&++b<I;){var B=Fi(o[b]),Q=h;if(B==="__proto__"||B==="constructor"||B==="prototype")return r;if(b!=L){var tt=P[B];Q=w?w(tt,B,P):n,Q===n&&(Q=Ie(tt)?tt:mr(o[b+1])?[]:{})}Ys(P,B,Q),P=P[B]}return r}var nw=fh?function(r,o){return fh.set(r,o),r}:Xn,vv=hh?function(r,o){return hh(r,"toString",{configurable:!0,enumerable:!1,value:wf(o),writable:!0})}:Xn;function bv(r){return Ih(Ta(r))}function ai(r,o,h){var w=-1,b=r.length;o<0&&(o=-o>b?0:b+o),h=h>b?b:h,h<0&&(h+=b),b=o>h?0:h-o>>>0,o>>>=0;for(var I=U(b);++w<b;)I[w]=r[w+o];return I}function yv(r,o){var h;return jr(r,function(w,b,I){return h=o(w,b,I),!h}),!!h}function kh(r,o,h){var w=0,b=r==null?w:r.length;if(typeof o=="number"&&o===o&&b<=Pr){for(;w<b;){var I=w+b>>>1,L=r[I];L!==null&&!Wn(L)&&(h?L<=o:L<o)?w=I+1:b=I}return b}return qu(r,o,Xn,h)}function qu(r,o,h,w){var b=0,I=r==null?0:r.length;if(I===0)return 0;o=h(o);for(var L=o!==o,P=o===null,B=Wn(o),Q=o===n;b<I;){var tt=uh((b+I)/2),rt=h(r[tt]),ht=rt!==n,pt=rt===null,Et=rt===rt,Wt=Wn(rt);if(L)var It=w||Et;else Q?It=Et&&(w||ht):P?It=Et&&ht&&(w||!pt):B?It=Et&&ht&&!pt&&(w||!Wt):pt||Wt?It=!1:It=w?rt<=o:rt<o;It?b=tt+1:I=tt}return hn(I,Gd)}function iw(r,o){for(var h=-1,w=r.length,b=0,I=[];++h<w;){var L=r[h],P=o?o(L):L;if(!h||!Ci(P,B)){var B=P;I[b++]=L===0?0:L}}return I}function rw(r){return typeof r=="number"?r:Wn(r)?_o:+r}function qn(r){if(typeof r=="string")return r;if(Nt(r))return Ht(r,qn)+"";if(Wn(r))return $c?$c.call(r):"";var o=r+"";return o=="0"&&1/r==-ar?"-0":o}function Vr(r,o,h){var w=-1,b=ye,I=r.length,L=!0,P=[],B=P;if(h)L=!1,b=xe;else if(I>=a){var Q=o?null:Ov(r);if(Q)return To(Q);L=!1,b=Ao,B=new Oo}else B=o?[]:P;t:for(;++w<I;){var tt=r[w],rt=o?o(tt):tt;if(tt=h||tt!==0?tt:0,L&&rt===rt){for(var ht=B.length;ht--;)if(B[ht]===rt)continue t;o&&B.push(rt),P.push(tt)}else b(B,rt,h)||(B!==P&&B.push(rt),P.push(tt))}return P}function Wu(r,o){return o=Zr(o,r),r=Yw(r,o),r==null||delete r[Fi(si(o))]}function ow(r,o,h,w){return $s(r,o,h(Po(r,o)),w)}function vh(r,o,h,w){for(var b=r.length,I=w?b:-1;(w?I--:++I<b)&&o(r[I],I,r););return h?ai(r,w?0:I,w?I+1:b):ai(r,w?I+1:0,w?b:I)}function aw(r,o){var h=r;return h instanceof Kt&&(h=h.value()),Tt(o,function(w,b){return b.func.apply(b.thisArg,Gt([w],b.args))},h)}function zu(r,o,h){var w=r.length;if(w<2)return w?Vr(r[0]):[];for(var b=-1,I=U(w);++b<w;)for(var L=r[b],P=-1;++P<w;)P!=b&&(I[b]=Os(I[b]||L,r[P],o,h));return Vr(Je(I,1),o,h)}function sw(r,o,h){for(var w=-1,b=r.length,I=o.length,L={};++w<b;){var P=w<I?o[w]:n;h(L,r[w],P)}return L}function Uu(r){return Me(r)?r:[]}function Hu(r){return typeof r=="function"?r:Xn}function Zr(r,o){return Nt(r)?r:ef(r,o)?[r]:$w(de(r))}var xv=zt;function Kr(r,o,h){var w=r.length;return h=h===n?w:h,!o&&h>=w?r:ai(r,o,h)}var lw=dk||function(r){return Fe.clearTimeout(r)};function hw(r,o){if(o)return r.slice();var h=r.length,w=Le?Le(h):new r.constructor(h);return r.copy(w),w}function Gu(r){var o=new r.constructor(r.byteLength);return new kt(o).set(new kt(r)),o}function Sv(r,o){var h=o?Gu(r.buffer):r.buffer;return new r.constructor(h,r.byteOffset,r.byteLength)}function Cv(r){var o=new r.constructor(r.source,Dl.exec(r));return o.lastIndex=r.lastIndex,o}function Av(r){return Rs?ae(Rs.call(r)):{}}function dw(r,o){var h=o?Gu(r.buffer):r.buffer;return new r.constructor(h,r.byteOffset,r.length)}function uw(r,o){if(r!==o){var h=r!==n,w=r===null,b=r===r,I=Wn(r),L=o!==n,P=o===null,B=o===o,Q=Wn(o);if(!P&&!Q&&!I&&r>o||I&&L&&B&&!P&&!Q||w&&L&&B||!h&&B||!b)return 1;if(!w&&!I&&!Q&&r<o||Q&&h&&b&&!w&&!I||P&&h&&b||!L&&b||!B)return-1}return 0}function Ev(r,o,h){for(var w=-1,b=r.criteria,I=o.criteria,L=b.length,P=h.length;++w<L;){var B=uw(b[w],I[w]);if(B){if(w>=P)return B;var Q=h[w];return B*(Q=="desc"?-1:1)}}return r.index-o.index}function fw(r,o,h,w){for(var b=-1,I=r.length,L=h.length,P=-1,B=o.length,Q=We(I-L,0),tt=U(B+Q),rt=!w;++P<B;)tt[P]=o[P];for(;++b<L;)(rt||b<I)&&(tt[h[b]]=r[b]);for(;Q--;)tt[P++]=r[b++];return tt}function gw(r,o,h,w){for(var b=-1,I=r.length,L=-1,P=h.length,B=-1,Q=o.length,tt=We(I-P,0),rt=U(tt+Q),ht=!w;++b<tt;)rt[b]=r[b];for(var pt=b;++B<Q;)rt[pt+B]=o[B];for(;++L<P;)(ht||b<I)&&(rt[pt+h[L]]=r[b++]);return rt}function Rn(r,o){var h=-1,w=r.length;for(o||(o=U(w));++h<w;)o[h]=r[h];return o}function Bi(r,o,h,w){var b=!h;h||(h={});for(var I=-1,L=o.length;++I<L;){var P=o[I],B=w?w(h[P],r[P],P,h,r):n;B===n&&(B=r[P]),b?wr(h,P,B):Ys(h,P,B)}return h}function Iv(r,o){return Bi(r,tf(r),o)}function Tv(r,o){return Bi(r,Aw(r),o)}function bh(r,o){return function(h,w){var b=Nt(h)?W:Kk,I=o?o():{};return b(h,r,At(w,2),I)}}function Ca(r){return zt(function(o,h){var w=-1,b=h.length,I=b>1?h[b-1]:n,L=b>2?h[2]:n;for(I=r.length>3&&typeof I=="function"?(b--,I):n,L&&_n(h[0],h[1],L)&&(I=b<3?n:I,b=1),o=ae(o);++w<b;){var P=h[w];P&&r(o,P,w,I)}return o})}function cw(r,o){return function(h,w){if(h==null)return h;if(!Yn(h))return r(h,w);for(var b=h.length,I=o?b:-1,L=ae(h);(o?I--:++I<b)&&w(L[I],I,L)!==!1;);return h}}function ww(r){return function(o,h,w){for(var b=-1,I=ae(o),L=w(o),P=L.length;P--;){var B=L[r?P:++b];if(h(I[B],B,I)===!1)break}return o}}function Lv(r,o,h){var w=o&et,b=Ms(r);function I(){var L=this&&this!==Fe&&this instanceof I?b:r;return L.apply(w?h:this,arguments)}return I}function pw(r){return function(o){o=de(o);var h=Hr(o)?sn(o):n,w=h?h[0]:o.charAt(0),b=h?Kr(h,1).join(""):o.slice(1);return w[r]()+b}}function Aa(r){return function(o){return Tt(cp(gp(o).replace(gu,"")),r,"")}}function Ms(r){return function(){var o=arguments;switch(o.length){case 0:return new r;case 1:return new r(o[0]);case 2:return new r(o[0],o[1]);case 3:return new r(o[0],o[1],o[2]);case 4:return new r(o[0],o[1],o[2],o[3]);case 5:return new r(o[0],o[1],o[2],o[3],o[4]);case 6:return new r(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new r(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var h=Sa(r.prototype),w=r.apply(h,o);return Ie(w)?w:h}}function Rv(r,o,h){var w=Ms(r);function b(){for(var I=arguments.length,L=U(I),P=I,B=Ea(b);P--;)L[P]=arguments[P];var Q=I<3&&L[0]!==B&&L[I-1]!==B?[]:He(L,B);if(I-=Q.length,I<h)return bw(r,o,yh,b.placeholder,n,L,Q,n,n,h-I);var tt=this&&this!==Fe&&this instanceof b?w:r;return J(tt,this,L)}return b}function _w(r){return function(o,h,w){var b=ae(o);if(!Yn(o)){var I=At(h,3);o=Ge(o),h=function(P){return I(b[P],P,b)}}var L=r(o,h,w);return L>-1?b[I?o[L]:L]:n}}function mw(r){return _r(function(o){var h=o.length,w=h,b=ri.prototype.thru;for(r&&o.reverse();w--;){var I=o[w];if(typeof I!="function")throw new Ln(u);if(b&&!L&&Ah(I)=="wrapper")var L=new ri([],!0)}for(w=L?w:h;++w<h;){I=o[w];var P=Ah(I),B=P=="wrapper"?Ju(I):n;B&&nf(B[0])&&B[1]==(st|lt|ut|Ct)&&!B[4].length&&B[9]==1?L=L[Ah(B[0])].apply(L,B[3]):L=I.length==1&&nf(I)?L[P]():L.thru(I)}return function(){var Q=arguments,tt=Q[0];if(L&&Q.length==1&&Nt(tt))return L.plant(tt).value();for(var rt=0,ht=h?o[rt].apply(this,Q):tt;++rt<h;)ht=o[rt].call(this,ht);return ht}})}function yh(r,o,h,w,b,I,L,P,B,Q){var tt=o&st,rt=o&et,ht=o&V,pt=o&(lt|nt),Et=o&Rt,Wt=ht?n:Ms(r);function It(){for(var Vt=arguments.length,te=U(Vt),zn=Vt;zn--;)te[zn]=arguments[zn];if(pt)var mn=Ea(It),Un=ku(te,mn);if(w&&(te=fw(te,w,b,pt)),I&&(te=gw(te,I,L,pt)),Vt-=Un,pt&&Vt<Q){var De=He(te,mn);return bw(r,o,yh,It.placeholder,h,te,De,P,B,Q-Vt)}var Ai=rt?h:this,br=ht?Ai[r]:r;return Vt=te.length,P?te=Kv(te,P):Et&&Vt>1&&te.reverse(),tt&&B<Vt&&(te.length=B),this&&this!==Fe&&this instanceof It&&(br=Wt||Ms(br)),br.apply(Ai,te)}return It}function kw(r,o){return function(h,w){return ov(h,r,o(w),{})}}function xh(r,o){return function(h,w){var b;if(h===n&&w===n)return o;if(h!==n&&(b=h),w!==n){if(b===n)return w;typeof h=="string"||typeof w=="string"?(h=qn(h),w=qn(w)):(h=rw(h),w=rw(w)),b=r(h,w)}return b}}function ju(r){return _r(function(o){return o=Ht(o,wn(At())),zt(function(h){var w=this;return r(o,function(b){return J(b,w,h)})})})}function Sh(r,o){o=o===n?" ":qn(o);var h=o.length;if(h<2)return h?Fu(o,r):o;var w=Fu(o,dh(r/ie(o)));return Hr(o)?Kr(sn(w),0,r).join(""):w.slice(0,r)}function Yv(r,o,h,w){var b=o&et,I=Ms(r);function L(){for(var P=-1,B=arguments.length,Q=-1,tt=w.length,rt=U(tt+B),ht=this&&this!==Fe&&this instanceof L?I:r;++Q<tt;)rt[Q]=w[Q];for(;B--;)rt[Q++]=arguments[++P];return J(ht,b?h:this,rt)}return L}function vw(r){return function(o,h,w){return w&&typeof w!="number"&&_n(o,h,w)&&(h=w=n),o=vr(o),h===n?(h=o,o=0):h=vr(h),w=w===n?o<h?1:-1:vr(w),_v(o,h,w,r)}}function Ch(r){return function(o,h){return typeof o=="string"&&typeof h=="string"||(o=li(o),h=li(h)),r(o,h)}}function bw(r,o,h,w,b,I,L,P,B,Q){var tt=o&lt,rt=tt?L:n,ht=tt?n:L,pt=tt?I:n,Et=tt?n:I;o|=tt?ut:p,o&=~(tt?p:ut),o&dt||(o&=~(et|V));var Wt=[r,o,b,pt,rt,Et,ht,P,B,Q],It=h.apply(n,Wt);return nf(r)&&Ow(It,Wt),It.placeholder=w,Xw(It,r,o)}function Vu(r){var o=Pe[r];return function(h,w){if(h=li(h),w=w==null?0:hn(Ft(w),292),w&&Xc(h)){var b=(de(h)+"e").split("e"),I=o(b[0]+"e"+(+b[1]+w));return b=(de(I)+"e").split("e"),+(b[0]+"e"+(+b[1]-w))}return o(h)}}var Ov=ya&&1/To(new ya([,-0]))[1]==ar?function(r){return new ya(r)}:mf;function yw(r){return function(o){var h=dn(o);return h==Ke?Io(o):h==Cn?ah(o):rh(o,r(o))}}function pr(r,o,h,w,b,I,L,P){var B=o&V;if(!B&&typeof r!="function")throw new Ln(u);var Q=w?w.length:0;if(Q||(o&=~(ut|p),w=b=n),L=L===n?L:We(Ft(L),0),P=P===n?P:Ft(P),Q-=b?b.length:0,o&p){var tt=w,rt=b;w=b=n}var ht=B?n:Ju(r),pt=[r,o,h,w,b,tt,rt,I,L,P];if(ht&&jv(pt,ht),r=pt[0],o=pt[1],h=pt[2],w=pt[3],b=pt[4],P=pt[9]=pt[9]===n?B?0:r.length:We(pt[9]-Q,0),!P&&o&(lt|nt)&&(o&=~(lt|nt)),!o||o==et)var Et=Lv(r,o,h);else o==lt||o==nt?Et=Rv(r,o,P):(o==ut||o==(et|ut))&&!b.length?Et=Yv(r,o,h,w):Et=yh.apply(n,pt);var Wt=ht?nw:Ow;return Xw(Wt(Et,pt),r,o)}function xw(r,o,h,w){return r===n||Ci(r,$[h])&&!z.call(w,h)?o:r}function Sw(r,o,h,w,b,I){return Ie(r)&&Ie(o)&&(I.set(o,r),mh(r,o,n,Sw,I),I.delete(o)),r}function Xv(r){return Bs(r)?n:r}function Cw(r,o,h,w,b,I){var L=h&q,P=r.length,B=o.length;if(P!=B&&!(L&&B>P))return!1;var Q=I.get(r),tt=I.get(o);if(Q&&tt)return Q==o&&tt==r;var rt=-1,ht=!0,pt=h&j?new Oo:n;for(I.set(r,o),I.set(o,r);++rt<P;){var Et=r[rt],Wt=o[rt];if(w)var It=L?w(Wt,Et,rt,o,r,I):w(Et,Wt,rt,r,o,I);if(It!==n){if(It)continue;ht=!1;break}if(pt){if(!jt(o,function(Vt,te){if(!Ao(pt,te)&&(Et===Vt||b(Et,Vt,h,w,I)))return pt.push(te)})){ht=!1;break}}else if(!(Et===Wt||b(Et,Wt,h,w,I))){ht=!1;break}}return I.delete(r),I.delete(o),ht}function Pv(r,o,h,w,b,I,L){switch(h){case bi:if(r.byteLength!=o.byteLength||r.byteOffset!=o.byteOffset)return!1;r=r.buffer,o=o.buffer;case ko:return!(r.byteLength!=o.byteLength||!I(new kt(r),new kt(o)));case Oi:case gn:case ki:return Ci(+r,+o);case oa:return r.name==o.name&&r.message==o.message;case mo:case $r:return r==o+"";case Ke:var P=Io;case Cn:var B=w&q;if(P||(P=To),r.size!=o.size&&!B)return!1;var Q=L.get(r);if(Q)return Q==o;w|=j,L.set(r,o);var tt=Cw(P(r),P(o),w,b,I,L);return L.delete(r),tt;case Xi:if(Rs)return Rs.call(r)==Rs.call(o)}return!1}function $v(r,o,h,w,b,I){var L=h&q,P=Zu(r),B=P.length,Q=Zu(o),tt=Q.length;if(B!=tt&&!L)return!1;for(var rt=B;rt--;){var ht=P[rt];if(!(L?ht in o:z.call(o,ht)))return!1}var pt=I.get(r),Et=I.get(o);if(pt&&Et)return pt==o&&Et==r;var Wt=!0;I.set(r,o),I.set(o,r);for(var It=L;++rt<B;){ht=P[rt];var Vt=r[ht],te=o[ht];if(w)var zn=L?w(te,Vt,ht,o,r,I):w(Vt,te,ht,r,o,I);if(!(zn===n?Vt===te||b(Vt,te,h,w,I):zn)){Wt=!1;break}It||(It=ht=="constructor")}if(Wt&&!It){var mn=r.constructor,Un=o.constructor;mn!=Un&&"constructor"in r&&"constructor"in o&&!(typeof mn=="function"&&mn instanceof mn&&typeof Un=="function"&&Un instanceof Un)&&(Wt=!1)}return I.delete(r),I.delete(o),Wt}function _r(r){return of(Rw(r,n,Bw),r+"")}function Zu(r){return Uc(r,Ge,tf)}function Ku(r){return Uc(r,On,Aw)}var Ju=fh?function(r){return fh.get(r)}:mf;function Ah(r){for(var o=r.name+"",h=xa[o],w=z.call(xa,o)?h.length:0;w--;){var b=h[w],I=b.func;if(I==null||I==r)return b.name}return o}function Ea(r){var o=z.call(C,"placeholder")?C:r;return o.placeholder}function At(){var r=C.iteratee||pf;return r=r===pf?jc:r,arguments.length?r(arguments[0],arguments[1]):r}function Eh(r,o){var h=r.__data__;return zv(o)?h[typeof o=="string"?"string":"hash"]:h.map}function Qu(r){for(var o=Ge(r),h=o.length;h--;){var w=o[h],b=r[w];o[h]=[w,b,Tw(b)]}return o}function $o(r,o){var h=yu(r,o);return Gc(h)?h:n}function Mv(r){var o=z.call(r,Ro),h=r[Ro];try{r[Ro]=n;var w=!0}catch(I){}var b=at.call(r);return w&&(o?r[Ro]=h:delete r[Ro]),b}var tf=Eu?function(r){return r==null?[]:(r=ae(r),ct(Eu(r),function(o){return pe.call(r,o)}))}:kf,Aw=Eu?function(r){for(var o=[];r;)Gt(o,tf(r)),r=$e(r);return o}:kf,dn=pn;(Iu&&dn(new Iu(new ArrayBuffer(1)))!=bi||Is&&dn(new Is)!=Ke||Tu&&dn(Tu.resolve())!=Ol||ya&&dn(new ya)!=Cn||Ts&&dn(new Ts)!=Fn)&&(dn=function(r){var o=pn(r),h=o==be?r.constructor:n,w=h?Mo(h):"";if(w)switch(w){case kk:return bi;case vk:return Ke;case bk:return Ol;case yk:return Cn;case xk:return Fn}return o});function Dv(r,o,h){for(var w=-1,b=h.length;++w<b;){var I=h[w],L=I.size;switch(I.type){case"drop":r+=L;break;case"dropRight":o-=L;break;case"take":o=hn(o,r+L);break;case"takeRight":r=We(r,o-L);break}}return{start:r,end:o}}function Nv(r){var o=r.match(Nr);return o?o[1].split($l):[]}function Ew(r,o,h){o=Zr(o,r);for(var w=-1,b=o.length,I=!1;++w<b;){var L=Fi(o[w]);if(!(I=r!=null&&h(r,L)))break;r=r[L]}return I||++w!=b?I:(b=r==null?0:r.length,!!b&&Xh(b)&&mr(L,b)&&(Nt(r)||Do(r)))}function Bv(r){var o=r.length,h=new r.constructor(o);return o&&typeof r[0]=="string"&&z.call(r,"index")&&(h.index=r.index,h.input=r.input),h}function Iw(r){return typeof r.constructor=="function"&&!Ds(r)?Sa($e(r)):{}}function Fv(r,o,h){var w=r.constructor;switch(o){case ko:return Gu(r);case Oi:case gn:return new w(+r);case bi:return Sv(r,h);case sa:case la:case os:case Pi:case lr:case ha:case da:case en:case Ue:return dw(r,h);case Ke:return new w;case ki:case $r:return new w(r);case mo:return Cv(r);case Cn:return new w;case Xi:return Av(r)}}function qv(r,o){var h=o.length;if(!h)return r;var w=h-1;return o[w]=(h>1?"& ":"")+o[w],o=o.join(h>2?", ":" "),r.replace(iu,`{
/* [wrapped with `+o+`] */
`)}function Wv(r){return Nt(r)||Do(r)||!!(Gr&&r&&r[Gr])}function mr(r,o){var h=typeof r;return o=o==null?Yi:o,!!o&&(h=="number"||h!="symbol"&&Fl.test(r))&&r>-1&&r%1==0&&r<o}function _n(r,o,h){if(!Ie(h))return!1;var w=typeof o;return(w=="number"?Yn(h)&&mr(o,h.length):w=="string"&&o in h)?Ci(h[o],r):!1}function ef(r,o){if(Nt(r))return!1;var h=typeof r;return h=="number"||h=="symbol"||h=="boolean"||r==null||Wn(r)?!0:tu.test(r)||!Qd.test(r)||o!=null&&r in ae(o)}function zv(r){var o=typeof r;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null}function nf(r){var o=Ah(r),h=C[o];if(typeof h!="function"||!(o in Kt.prototype))return!1;if(r===h)return!0;var w=Ju(h);return!!w&&r===w[0]}function Uv(r){return!!ot&&ot in r}var Hv=K?kr:vf;function Ds(r){var o=r&&r.constructor,h=typeof o=="function"&&o.prototype||$;return r===h}function Tw(r){return r===r&&!Ie(r)}function Lw(r,o){return function(h){return h==null?!1:h[r]===o&&(o!==n||r in ae(h))}}function Gv(r){var o=Yh(r,function(w){return h.size===v&&h.clear(),w}),h=o.cache;return o}function jv(r,o){var h=r[1],w=o[1],b=h|w,I=b<(et|V|st),L=w==st&&h==lt||w==st&&h==Ct&&r[7].length<=o[8]||w==(st|Ct)&&o[7].length<=o[8]&&h==lt;if(!(I||L))return r;w&et&&(r[2]=o[2],b|=h&et?0:dt);var P=o[3];if(P){var B=r[3];r[3]=B?fw(B,P,o[4]):P,r[4]=B?He(r[3],A):o[4]}return P=o[5],P&&(B=r[5],r[5]=B?gw(B,P,o[6]):P,r[6]=B?He(r[5],A):o[6]),P=o[7],P&&(r[7]=P),w&st&&(r[8]=r[8]==null?o[8]:hn(r[8],o[8])),r[9]==null&&(r[9]=o[9]),r[0]=o[0],r[1]=b,r}function Vv(r){var o=[];if(r!=null)for(var h in ae(r))o.push(h);return o}function Zv(r){return at.call(r)}function Rw(r,o,h){return o=We(o===n?r.length-1:o,0),function(){for(var w=arguments,b=-1,I=We(w.length-o,0),L=U(I);++b<I;)L[b]=w[o+b];b=-1;for(var P=U(o+1);++b<o;)P[b]=w[b];return P[o]=h(L),J(r,this,P)}}function Yw(r,o){return o.length<2?r:Po(r,ai(o,0,-1))}function Kv(r,o){for(var h=r.length,w=hn(o.length,h),b=Rn(r);w--;){var I=o[w];r[w]=mr(I,h)?b[I]:n}return r}function rf(r,o){if(!(o==="constructor"&&typeof r[o]=="function")&&o!="__proto__")return r[o]}var Ow=Pw(nw),Ns=fk||function(r,o){return Fe.setTimeout(r,o)},of=Pw(vv);function Xw(r,o,h){var w=o+"";return of(r,qv(w,Jv(Nv(w),h)))}function Pw(r){var o=0,h=0;return function(){var w=pk(),b=po-(w-h);if(h=w,b>0){if(++o>=Te)return arguments[0]}else o=0;return r.apply(n,arguments)}}function Ih(r,o){var h=-1,w=r.length,b=w-1;for(o=o===n?w:o;++h<o;){var I=Bu(h,b),L=r[I];r[I]=r[h],r[h]=L}return r.length=o,r}var $w=Gv(function(r){var o=[];return r.charCodeAt(0)===46&&o.push(""),r.replace(eu,function(h,w,b,I){o.push(b?I.replace(fa,"$1"):w||h)}),o});function Fi(r){if(typeof r=="string"||Wn(r))return r;var o=r+"";return o=="0"&&1/r==-ar?"-0":o}function Mo(r){if(r!=null){try{return N.call(r)}catch(o){}try{return r+""}catch(o){}}return""}function Jv(r,o){return G(ia,function(h){var w="_."+h[0];o&h[1]&&!ye(r,w)&&r.push(w)}),r.sort()}function Mw(r){if(r instanceof Kt)return r.clone();var o=new ri(r.__wrapped__,r.__chain__);return o.__actions__=Rn(r.__actions__),o.__index__=r.__index__,o.__values__=r.__values__,o}function Qv(r,o,h){(h?_n(r,o,h):o===n)?o=1:o=We(Ft(o),0);var w=r==null?0:r.length;if(!w||o<1)return[];for(var b=0,I=0,L=U(dh(w/o));b<w;)L[I++]=ai(r,b,b+=o);return L}function tb(r){for(var o=-1,h=r==null?0:r.length,w=0,b=[];++o<h;){var I=r[o];I&&(b[w++]=I)}return b}function eb(){var r=arguments.length;if(!r)return[];for(var o=U(r-1),h=arguments[0],w=r;w--;)o[w-1]=arguments[w];return Gt(Nt(h)?Rn(h):[h],Je(o,1))}var nb=zt(function(r,o){return Me(r)?Os(r,Je(o,1,Me,!0)):[]}),ib=zt(function(r,o){var h=si(o);return Me(h)&&(h=n),Me(r)?Os(r,Je(o,1,Me,!0),At(h,2)):[]}),rb=zt(function(r,o){var h=si(o);return Me(h)&&(h=n),Me(r)?Os(r,Je(o,1,Me,!0),n,h):[]});function ob(r,o,h){var w=r==null?0:r.length;return w?(o=h||o===n?1:Ft(o),ai(r,o<0?0:o,w)):[]}function ab(r,o,h){var w=r==null?0:r.length;return w?(o=h||o===n?1:Ft(o),o=w-o,ai(r,0,o<0?0:o)):[]}function sb(r,o){return r&&r.length?vh(r,At(o,3),!0,!0):[]}function lb(r,o){return r&&r.length?vh(r,At(o,3),!0):[]}function hb(r,o,h,w){var b=r==null?0:r.length;return b?(h&&typeof h!="number"&&_n(r,o,h)&&(h=0,w=b),ev(r,o,h,w)):[]}function Dw(r,o,h){var w=r==null?0:r.length;if(!w)return-1;var b=h==null?0:Ft(h);return b<0&&(b=We(w+b,0)),ei(r,At(o,3),b)}function Nw(r,o,h){var w=r==null?0:r.length;if(!w)return-1;var b=w-1;return h!==n&&(b=Ft(h),b=h<0?We(w+b,0):hn(b,w-1)),ei(r,At(o,3),b,!0)}function Bw(r){var o=r==null?0:r.length;return o?Je(r,1):[]}function db(r){var o=r==null?0:r.length;return o?Je(r,ar):[]}function ub(r,o){var h=r==null?0:r.length;return h?(o=o===n?1:Ft(o),Je(r,o)):[]}function fb(r){for(var o=-1,h=r==null?0:r.length,w={};++o<h;){var b=r[o];w[b[0]]=b[1]}return w}function Fw(r){return r&&r.length?r[0]:n}function gb(r,o,h){var w=r==null?0:r.length;if(!w)return-1;var b=h==null?0:Ft(h);return b<0&&(b=We(w+b,0)),En(r,o,b)}function cb(r){var o=r==null?0:r.length;return o?ai(r,0,-1):[]}var wb=zt(function(r){var o=Ht(r,Uu);return o.length&&o[0]===r[0]?Pu(o):[]}),pb=zt(function(r){var o=si(r),h=Ht(r,Uu);return o===si(h)?o=n:h.pop(),h.length&&h[0]===r[0]?Pu(h,At(o,2)):[]}),_b=zt(function(r){var o=si(r),h=Ht(r,Uu);return o=typeof o=="function"?o:n,o&&h.pop(),h.length&&h[0]===r[0]?Pu(h,n,o):[]});function mb(r,o){return r==null?"":ck.call(r,o)}function si(r){var o=r==null?0:r.length;return o?r[o-1]:n}function kb(r,o,h){var w=r==null?0:r.length;if(!w)return-1;var b=w;return h!==n&&(b=Ft(h),b=b<0?We(w+b,0):hn(b,w-1)),o===o?Su(r,o,b):ei(r,yi,b,!0)}function vb(r,o){return r&&r.length?Jc(r,Ft(o)):n}var bb=zt(qw);function qw(r,o){return r&&r.length&&o&&o.length?Nu(r,o):r}function yb(r,o,h){return r&&r.length&&o&&o.length?Nu(r,o,At(h,2)):r}function xb(r,o,h){return r&&r.length&&o&&o.length?Nu(r,o,n,h):r}var Sb=_r(function(r,o){var h=r==null?0:r.length,w=Ru(r,o);return ew(r,Ht(o,function(b){return mr(b,h)?+b:b}).sort(uw)),w});function Cb(r,o){var h=[];if(!(r&&r.length))return h;var w=-1,b=[],I=r.length;for(o=At(o,3);++w<I;){var L=r[w];o(L,w,r)&&(h.push(L),b.push(w))}return ew(r,b),h}function af(r){return r==null?r:mk.call(r)}function Ab(r,o,h){var w=r==null?0:r.length;return w?(h&&typeof h!="number"&&_n(r,o,h)?(o=0,h=w):(o=o==null?0:Ft(o),h=h===n?w:Ft(h)),ai(r,o,h)):[]}function Eb(r,o){return kh(r,o)}function Ib(r,o,h){return qu(r,o,At(h,2))}function Tb(r,o){var h=r==null?0:r.length;if(h){var w=kh(r,o);if(w<h&&Ci(r[w],o))return w}return-1}function Lb(r,o){return kh(r,o,!0)}function Rb(r,o,h){return qu(r,o,At(h,2),!0)}function Yb(r,o){var h=r==null?0:r.length;if(h){var w=kh(r,o,!0)-1;if(Ci(r[w],o))return w}return-1}function Ob(r){return r&&r.length?iw(r):[]}function Xb(r,o){return r&&r.length?iw(r,At(o,2)):[]}function Pb(r){var o=r==null?0:r.length;return o?ai(r,1,o):[]}function $b(r,o,h){return r&&r.length?(o=h||o===n?1:Ft(o),ai(r,0,o<0?0:o)):[]}function Mb(r,o,h){var w=r==null?0:r.length;return w?(o=h||o===n?1:Ft(o),o=w-o,ai(r,o<0?0:o,w)):[]}function Db(r,o){return r&&r.length?vh(r,At(o,3),!1,!0):[]}function Nb(r,o){return r&&r.length?vh(r,At(o,3)):[]}var Bb=zt(function(r){return Vr(Je(r,1,Me,!0))}),Fb=zt(function(r){var o=si(r);return Me(o)&&(o=n),Vr(Je(r,1,Me,!0),At(o,2))}),qb=zt(function(r){var o=si(r);return o=typeof o=="function"?o:n,Vr(Je(r,1,Me,!0),n,o)});function Wb(r){return r&&r.length?Vr(r):[]}function zb(r,o){return r&&r.length?Vr(r,At(o,2)):[]}function Ub(r,o){return o=typeof o=="function"?o:n,r&&r.length?Vr(r,n,o):[]}function sf(r){if(!(r&&r.length))return[];var o=0;return r=ct(r,function(h){if(Me(h))return o=We(h.length,o),!0}),xi(o,function(h){return Ht(r,ni(h))})}function Ww(r,o){if(!(r&&r.length))return[];var h=sf(r);return o==null?h:Ht(h,function(w){return J(o,n,w)})}var Hb=zt(function(r,o){return Me(r)?Os(r,o):[]}),Gb=zt(function(r){return zu(ct(r,Me))}),jb=zt(function(r){var o=si(r);return Me(o)&&(o=n),zu(ct(r,Me),At(o,2))}),Vb=zt(function(r){var o=si(r);return o=typeof o=="function"?o:n,zu(ct(r,Me),n,o)}),Zb=zt(sf);function Kb(r,o){return sw(r||[],o||[],Ys)}function Jb(r,o){return sw(r||[],o||[],$s)}var Qb=zt(function(r){var o=r.length,h=o>1?r[o-1]:n;return h=typeof h=="function"?(r.pop(),h):n,Ww(r,h)});function zw(r){var o=C(r);return o.__chain__=!0,o}function ty(r,o){return o(r),r}function Th(r,o){return o(r)}var ey=_r(function(r){var o=r.length,h=o?r[0]:0,w=this.__wrapped__,b=function(I){return Ru(I,r)};return o>1||this.__actions__.length||!(w instanceof Kt)||!mr(h)?this.thru(b):(w=w.slice(h,+h+(o?1:0)),w.__actions__.push({func:Th,args:[b],thisArg:n}),new ri(w,this.__chain__).thru(function(I){return o&&!I.length&&I.push(n),I}))});function ny(){return zw(this)}function iy(){return new ri(this.value(),this.__chain__)}function ry(){this.__values__===n&&(this.__values__=rp(this.value()));var r=this.__index__>=this.__values__.length,o=r?n:this.__values__[this.__index__++];return{done:r,value:o}}function oy(){return this}function ay(r){for(var o,h=this;h instanceof ch;){var w=Mw(h);w.__index__=0,w.__values__=n,o?b.__wrapped__=w:o=w;var b=w;h=h.__wrapped__}return b.__wrapped__=r,o}function sy(){var r=this.__wrapped__;if(r instanceof Kt){var o=r;return this.__actions__.length&&(o=new Kt(this)),o=o.reverse(),o.__actions__.push({func:Th,args:[af],thisArg:n}),new ri(o,this.__chain__)}return this.thru(af)}function ly(){return aw(this.__wrapped__,this.__actions__)}var hy=bh(function(r,o,h){z.call(r,h)?++r[h]:wr(r,h,1)});function dy(r,o,h){var w=Nt(r)?Ot:tv;return h&&_n(r,o,h)&&(o=n),w(r,At(o,3))}function uy(r,o){var h=Nt(r)?ct:Wc;return h(r,At(o,3))}var fy=_w(Dw),gy=_w(Nw);function cy(r,o){return Je(Lh(r,o),1)}function wy(r,o){return Je(Lh(r,o),ar)}function py(r,o,h){return h=h===n?1:Ft(h),Je(Lh(r,o),h)}function Uw(r,o){var h=Nt(r)?G:jr;return h(r,At(o,3))}function Hw(r,o){var h=Nt(r)?_t:qc;return h(r,At(o,3))}var _y=bh(function(r,o,h){z.call(r,h)?r[h].push(o):wr(r,h,[o])});function my(r,o,h,w){r=Yn(r)?r:Ta(r),h=h&&!w?Ft(h):0;var b=r.length;return h<0&&(h=We(b+h,0)),Ph(r)?h<=b&&r.indexOf(o,h)>-1:!!b&&En(r,o,h)>-1}var ky=zt(function(r,o,h){var w=-1,b=typeof o=="function",I=Yn(r)?U(r.length):[];return jr(r,function(L){I[++w]=b?J(o,L,h):Xs(L,o,h)}),I}),vy=bh(function(r,o,h){wr(r,h,o)});function Lh(r,o){var h=Nt(r)?Ht:Vc;return h(r,At(o,3))}function by(r,o,h,w){return r==null?[]:(Nt(o)||(o=o==null?[]:[o]),h=w?n:h,Nt(h)||(h=h==null?[]:[h]),Qc(r,o,h))}var yy=bh(function(r,o,h){r[h?0:1].push(o)},function(){return[[],[]]});function xy(r,o,h){var w=Nt(r)?Tt:Mi,b=arguments.length<3;return w(r,At(o,4),h,b,jr)}function Sy(r,o,h){var w=Nt(r)?rn:Mi,b=arguments.length<3;return w(r,At(o,4),h,b,qc)}function Cy(r,o){var h=Nt(r)?ct:Wc;return h(r,Oh(At(o,3)))}function Ay(r){var o=Nt(r)?Dc:mv;return o(r)}function Ey(r,o,h){(h?_n(r,o,h):o===n)?o=1:o=Ft(o);var w=Nt(r)?Vk:kv;return w(r,o)}function Iy(r){var o=Nt(r)?Zk:bv;return o(r)}function Ty(r){if(r==null)return 0;if(Yn(r))return Ph(r)?ie(r):r.length;var o=dn(r);return o==Ke||o==Cn?r.size:Mu(r).length}function Ly(r,o,h){var w=Nt(r)?jt:yv;return h&&_n(r,o,h)&&(o=n),w(r,At(o,3))}var Ry=zt(function(r,o){if(r==null)return[];var h=o.length;return h>1&&_n(r,o[0],o[1])?o=[]:h>2&&_n(o[0],o[1],o[2])&&(o=[o[0]]),Qc(r,Je(o,1),[])}),Rh=uk||function(){return Fe.Date.now()};function Yy(r,o){if(typeof o!="function")throw new Ln(u);return r=Ft(r),function(){if(--r<1)return o.apply(this,arguments)}}function Gw(r,o,h){return o=h?n:o,o=r&&o==null?r.length:o,pr(r,st,n,n,n,n,o)}function jw(r,o){var h;if(typeof o!="function")throw new Ln(u);return r=Ft(r),function(){return--r>0&&(h=o.apply(this,arguments)),r<=1&&(o=n),h}}var lf=zt(function(r,o,h){var w=et;if(h.length){var b=He(h,Ea(lf));w|=ut}return pr(r,w,o,h,b)}),Vw=zt(function(r,o,h){var w=et|V;if(h.length){var b=He(h,Ea(Vw));w|=ut}return pr(o,w,r,h,b)});function Zw(r,o,h){o=h?n:o;var w=pr(r,lt,n,n,n,n,n,o);return w.placeholder=Zw.placeholder,w}function Kw(r,o,h){o=h?n:o;var w=pr(r,nt,n,n,n,n,n,o);return w.placeholder=Kw.placeholder,w}function Jw(r,o,h){var w,b,I,L,P,B,Q=0,tt=!1,rt=!1,ht=!0;if(typeof r!="function")throw new Ln(u);o=li(o)||0,Ie(h)&&(tt=!!h.leading,rt="maxWait"in h,I=rt?We(li(h.maxWait)||0,o):I,ht="trailing"in h?!!h.trailing:ht);function pt(De){var Ai=w,br=b;return w=b=n,Q=De,L=r.apply(br,Ai),L}function Et(De){return Q=De,P=Ns(Vt,o),tt?pt(De):L}function Wt(De){var Ai=De-B,br=De-Q,_p=o-Ai;return rt?hn(_p,I-br):_p}function It(De){var Ai=De-B,br=De-Q;return B===n||Ai>=o||Ai<0||rt&&br>=I}function Vt(){var De=Rh();if(It(De))return te(De);P=Ns(Vt,Wt(De))}function te(De){return P=n,ht&&w?pt(De):(w=b=n,L)}function zn(){P!==n&&lw(P),Q=0,w=B=b=P=n}function mn(){return P===n?L:te(Rh())}function Un(){var De=Rh(),Ai=It(De);if(w=arguments,b=this,B=De,Ai){if(P===n)return Et(B);if(rt)return lw(P),P=Ns(Vt,o),pt(B)}return P===n&&(P=Ns(Vt,o)),L}return Un.cancel=zn,Un.flush=mn,Un}var Oy=zt(function(r,o){return Fc(r,1,o)}),Xy=zt(function(r,o,h){return Fc(r,li(o)||0,h)});function Py(r){return pr(r,Rt)}function Yh(r,o){if(typeof r!="function"||o!=null&&typeof o!="function")throw new Ln(u);var h=function(){var w=arguments,b=o?o.apply(this,w):w[0],I=h.cache;if(I.has(b))return I.get(b);var L=r.apply(this,w);return h.cache=I.set(b,L)||I,L};return h.cache=new(Yh.Cache||cr),h}Yh.Cache=cr;function Oh(r){if(typeof r!="function")throw new Ln(u);return function(){var o=arguments;switch(o.length){case 0:return!r.call(this);case 1:return!r.call(this,o[0]);case 2:return!r.call(this,o[0],o[1]);case 3:return!r.call(this,o[0],o[1],o[2])}return!r.apply(this,o)}}function $y(r){return jw(2,r)}var My=xv(function(r,o){o=o.length==1&&Nt(o[0])?Ht(o[0],wn(At())):Ht(Je(o,1),wn(At()));var h=o.length;return zt(function(w){for(var b=-1,I=hn(w.length,h);++b<I;)w[b]=o[b].call(this,w[b]);return J(r,this,w)})}),hf=zt(function(r,o){var h=He(o,Ea(hf));return pr(r,ut,n,o,h)}),Qw=zt(function(r,o){var h=He(o,Ea(Qw));return pr(r,p,n,o,h)}),Dy=_r(function(r,o){return pr(r,Ct,n,n,n,o)});function Ny(r,o){if(typeof r!="function")throw new Ln(u);return o=o===n?o:Ft(o),zt(r,o)}function By(r,o){if(typeof r!="function")throw new Ln(u);return o=o==null?0:We(Ft(o),0),zt(function(h){var w=h[o],b=Kr(h,0,o);return w&&Gt(b,w),J(r,this,b)})}function Fy(r,o,h){var w=!0,b=!0;if(typeof r!="function")throw new Ln(u);return Ie(h)&&(w="leading"in h?!!h.leading:w,b="trailing"in h?!!h.trailing:b),Jw(r,o,{leading:w,maxWait:o,trailing:b})}function qy(r){return Gw(r,1)}function Wy(r,o){return hf(Hu(o),r)}function zy(){if(!arguments.length)return[];var r=arguments[0];return Nt(r)?r:[r]}function Uy(r){return oi(r,M)}function Hy(r,o){return o=typeof o=="function"?o:n,oi(r,M,o)}function Gy(r){return oi(r,Y|M)}function jy(r,o){return o=typeof o=="function"?o:n,oi(r,Y|M,o)}function Vy(r,o){return o==null||Bc(r,o,Ge(o))}function Ci(r,o){return r===o||r!==r&&o!==o}var Zy=Ch(Xu),Ky=Ch(function(r,o){return r>=o}),Do=Hc(function(){return arguments}())?Hc:function(r){return Re(r)&&z.call(r,"callee")&&!pe.call(r,"callee")},Nt=U.isArray,Jy=k?wn(k):av;function Yn(r){return r!=null&&Xh(r.length)&&!kr(r)}function Me(r){return Re(r)&&Yn(r)}function Qy(r){return r===!0||r===!1||Re(r)&&pn(r)==Oi}var Jr=gk||vf,t4=x?wn(x):sv;function e4(r){return Re(r)&&r.nodeType===1&&!Bs(r)}function n4(r){if(r==null)return!0;if(Yn(r)&&(Nt(r)||typeof r=="string"||typeof r.splice=="function"||Jr(r)||Ia(r)||Do(r)))return!r.length;var o=dn(r);if(o==Ke||o==Cn)return!r.size;if(Ds(r))return!Mu(r).length;for(var h in r)if(z.call(r,h))return!1;return!0}function i4(r,o){return Ps(r,o)}function r4(r,o,h){h=typeof h=="function"?h:n;var w=h?h(r,o):n;return w===n?Ps(r,o,n,h):!!w}function df(r){if(!Re(r))return!1;var o=pn(r);return o==oa||o==jd||typeof r.message=="string"&&typeof r.name=="string"&&!Bs(r)}function o4(r){return typeof r=="number"&&Xc(r)}function kr(r){if(!Ie(r))return!1;var o=pn(r);return o==aa||o==Bn||o==rs||o==Vd}function tp(r){return typeof r=="number"&&r==Ft(r)}function Xh(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Yi}function Ie(r){var o=typeof r;return r!=null&&(o=="object"||o=="function")}function Re(r){return r!=null&&typeof r=="object"}var ep=O?wn(O):hv;function a4(r,o){return r===o||$u(r,o,Qu(o))}function s4(r,o,h){return h=typeof h=="function"?h:n,$u(r,o,Qu(o),h)}function l4(r){return np(r)&&r!=+r}function h4(r){if(Hv(r))throw new Lt(l);return Gc(r)}function d4(r){return r===null}function u4(r){return r==null}function np(r){return typeof r=="number"||Re(r)&&pn(r)==ki}function Bs(r){if(!Re(r)||pn(r)!=be)return!1;var o=$e(r);if(o===null)return!0;var h=z.call(o,"constructor")&&o.constructor;return typeof h=="function"&&h instanceof h&&N.call(h)==yt}var uf=T?wn(T):dv;function f4(r){return tp(r)&&r>=-Yi&&r<=Yi}var ip=F?wn(F):uv;function Ph(r){return typeof r=="string"||!Nt(r)&&Re(r)&&pn(r)==$r}function Wn(r){return typeof r=="symbol"||Re(r)&&pn(r)==Xi}var Ia=H?wn(H):fv;function g4(r){return r===n}function c4(r){return Re(r)&&dn(r)==Fn}function w4(r){return Re(r)&&pn(r)==Mr}var p4=Ch(Du),_4=Ch(function(r,o){return r<=o});function rp(r){if(!r)return[];if(Yn(r))return Ph(r)?sn(r):Rn(r);if(qe&&r[qe])return xu(r[qe]());var o=dn(r),h=o==Ke?Io:o==Cn?To:Ta;return h(r)}function vr(r){if(!r)return r===0?r:0;if(r=li(r),r===ar||r===-ar){var o=r<0?-1:1;return o*Hd}return r===r?r:0}function Ft(r){var o=vr(r),h=o%1;return o===o?h?o-h:o:0}function op(r){return r?Xo(Ft(r),0,Xe):0}function li(r){if(typeof r=="number")return r;if(Wn(r))return _o;if(Ie(r)){var o=typeof r.valueOf=="function"?r.valueOf():r;r=Ie(o)?o+"":o}if(typeof r!="string")return r===0?r:+r;r=va(r);var h=ru.test(r);return h||Bl.test(r)?xs(r.slice(2),h?2:8):Nl.test(r)?_o:+r}function ap(r){return Bi(r,On(r))}function m4(r){return r?Xo(Ft(r),-Yi,Yi):r===0?r:0}function de(r){return r==null?"":qn(r)}var k4=Ca(function(r,o){if(Ds(o)||Yn(o)){Bi(o,Ge(o),r);return}for(var h in o)z.call(o,h)&&Ys(r,h,o[h])}),sp=Ca(function(r,o){Bi(o,On(o),r)}),$h=Ca(function(r,o,h,w){Bi(o,On(o),r,w)}),v4=Ca(function(r,o,h,w){Bi(o,Ge(o),r,w)}),b4=_r(Ru);function y4(r,o){var h=Sa(r);return o==null?h:Nc(h,o)}var x4=zt(function(r,o){r=ae(r);var h=-1,w=o.length,b=w>2?o[2]:n;for(b&&_n(o[0],o[1],b)&&(w=1);++h<w;)for(var I=o[h],L=On(I),P=-1,B=L.length;++P<B;){var Q=L[P],tt=r[Q];(tt===n||Ci(tt,$[Q])&&!z.call(r,Q))&&(r[Q]=I[Q])}return r}),S4=zt(function(r){return r.push(n,Sw),J(lp,n,r)});function C4(r,o){return on(r,At(o,3),Ni)}function A4(r,o){return on(r,At(o,3),Ou)}function E4(r,o){return r==null?r:Yu(r,At(o,3),On)}function I4(r,o){return r==null?r:zc(r,At(o,3),On)}function T4(r,o){return r&&Ni(r,At(o,3))}function L4(r,o){return r&&Ou(r,At(o,3))}function R4(r){return r==null?[]:_h(r,Ge(r))}function Y4(r){return r==null?[]:_h(r,On(r))}function ff(r,o,h){var w=r==null?n:Po(r,o);return w===n?h:w}function O4(r,o){return r!=null&&Ew(r,o,nv)}function gf(r,o){return r!=null&&Ew(r,o,iv)}var X4=kw(function(r,o,h){o!=null&&typeof o.toString!="function"&&(o=at.call(o)),r[o]=h},wf(Xn)),P4=kw(function(r,o,h){o!=null&&typeof o.toString!="function"&&(o=at.call(o)),z.call(r,o)?r[o].push(h):r[o]=[h]},At),$4=zt(Xs);function Ge(r){return Yn(r)?Mc(r):Mu(r)}function On(r){return Yn(r)?Mc(r,!0):gv(r)}function M4(r,o){var h={};return o=At(o,3),Ni(r,function(w,b,I){wr(h,o(w,b,I),w)}),h}function D4(r,o){var h={};return o=At(o,3),Ni(r,function(w,b,I){wr(h,b,o(w,b,I))}),h}var N4=Ca(function(r,o,h){mh(r,o,h)}),lp=Ca(function(r,o,h,w){mh(r,o,h,w)}),B4=_r(function(r,o){var h={};if(r==null)return h;var w=!1;o=Ht(o,function(I){return I=Zr(I,r),w||(w=I.length>1),I}),Bi(r,Ku(r),h),w&&(h=oi(h,Y|X|M,Xv));for(var b=o.length;b--;)Wu(h,o[b]);return h});function F4(r,o){return hp(r,Oh(At(o)))}var q4=_r(function(r,o){return r==null?{}:wv(r,o)});function hp(r,o){if(r==null)return{};var h=Ht(Ku(r),function(w){return[w]});return o=At(o),tw(r,h,function(w,b){return o(w,b[0])})}function W4(r,o,h){o=Zr(o,r);var w=-1,b=o.length;for(b||(b=1,r=n);++w<b;){var I=r==null?n:r[Fi(o[w])];I===n&&(w=b,I=h),r=kr(I)?I.call(r):I}return r}function z4(r,o,h){return r==null?r:$s(r,o,h)}function U4(r,o,h,w){return w=typeof w=="function"?w:n,r==null?r:$s(r,o,h,w)}var dp=yw(Ge),up=yw(On);function H4(r,o,h){var w=Nt(r),b=w||Jr(r)||Ia(r);if(o=At(o,4),h==null){var I=r&&r.constructor;b?h=w?new I:[]:Ie(r)?h=kr(I)?Sa($e(r)):{}:h={}}return(b?G:Ni)(r,function(L,P,B){return o(h,L,P,B)}),h}function G4(r,o){return r==null?!0:Wu(r,o)}function j4(r,o,h){return r==null?r:ow(r,o,Hu(h))}function V4(r,o,h,w){return w=typeof w=="function"?w:n,r==null?r:ow(r,o,Hu(h),w)}function Ta(r){return r==null?[]:Ur(r,Ge(r))}function Z4(r){return r==null?[]:Ur(r,On(r))}function K4(r,o,h){return h===n&&(h=o,o=n),h!==n&&(h=li(h),h=h===h?h:0),o!==n&&(o=li(o),o=o===o?o:0),Xo(li(r),o,h)}function J4(r,o,h){return o=vr(o),h===n?(h=o,o=0):h=vr(h),r=li(r),rv(r,o,h)}function Q4(r,o,h){if(h&&typeof h!="boolean"&&_n(r,o,h)&&(o=h=n),h===n&&(typeof o=="boolean"?(h=o,o=n):typeof r=="boolean"&&(h=r,r=n)),r===n&&o===n?(r=0,o=1):(r=vr(r),o===n?(o=r,r=0):o=vr(o)),r>o){var w=r;r=o,o=w}if(h||r%1||o%1){var b=Pc();return hn(r+b*(o-r+nh("1e-"+((b+"").length-1))),o)}return Bu(r,o)}var t5=Aa(function(r,o,h){return o=o.toLowerCase(),r+(h?fp(o):o)});function fp(r){return cf(de(r).toLowerCase())}function gp(r){return r=de(r),r&&r.replace(ql,vu).replace(cu,"")}function e5(r,o,h){r=de(r),o=qn(o);var w=r.length;h=h===n?w:Xo(Ft(h),0,w);var b=h;return h-=o.length,h>=0&&r.slice(h,b)==o}function n5(r){return r=de(r),r&&Kd.test(r)?r.replace(hr,ba):r}function i5(r){return r=de(r),r&&nu.test(r)?r.replace(ua,"\\$&"):r}var r5=Aa(function(r,o,h){return r+(h?"-":"")+o.toLowerCase()}),o5=Aa(function(r,o,h){return r+(h?" ":"")+o.toLowerCase()}),a5=pw("toLowerCase");function s5(r,o,h){r=de(r),o=Ft(o);var w=o?ie(r):0;if(!o||w>=o)return r;var b=(o-w)/2;return Sh(uh(b),h)+r+Sh(dh(b),h)}function l5(r,o,h){r=de(r),o=Ft(o);var w=o?ie(r):0;return o&&w<o?r+Sh(o-w,h):r}function h5(r,o,h){r=de(r),o=Ft(o);var w=o?ie(r):0;return o&&w<o?Sh(o-w,h)+r:r}function d5(r,o,h){return h||o==null?o=0:o&&(o=+o),_k(de(r).replace(hs,""),o||0)}function u5(r,o,h){return(h?_n(r,o,h):o===n)?o=1:o=Ft(o),Fu(de(r),o)}function f5(){var r=arguments,o=de(r[0]);return r.length<3?o:o.replace(r[1],r[2])}var g5=Aa(function(r,o,h){return r+(h?"_":"")+o.toLowerCase()});function c5(r,o,h){return h&&typeof h!="number"&&_n(r,o,h)&&(o=h=n),h=h===n?Xe:h>>>0,h?(r=de(r),r&&(typeof o=="string"||o!=null&&!uf(o))&&(o=qn(o),!o&&Hr(r))?Kr(sn(r),0,h):r.split(o,h)):[]}var w5=Aa(function(r,o,h){return r+(h?" ":"")+cf(o)});function p5(r,o,h){return r=de(r),h=h==null?0:Xo(Ft(h),0,r.length),o=qn(o),r.slice(h,h+o.length)==o}function _5(r,o,h){var w=C.templateSettings;h&&_n(r,o,h)&&(o=n),r=de(r),o=$h({},o,w,xw);var b=$h({},o.imports,w.imports,xw),I=Ge(b),L=Ur(b,I),P,B,Q=0,tt=o.interpolate||yo,rt="__p += '",ht=Lo((o.escape||yo).source+"|"+tt.source+"|"+(tt===vo?Ml:yo).source+"|"+(o.evaluate||yo).source+"|$","g"),pt="//# sourceURL="+(z.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++eh+"]")+`
`;r.replace(ht,function(It,Vt,te,zn,mn,Un){return te||(te=zn),rt+=r.slice(Q,Un).replace(ou,bu),Vt&&(P=!0,rt+=`' +
__e(`+Vt+`) +
'`),mn&&(B=!0,rt+=`';
`+mn+`;
__p += '`),te&&(rt+=`' +
((__t = (`+te+`)) == null ? '' : __t) +
'`),Q=Un+It.length,It}),rt+=`';
`;var Et=z.call(o,"variable")&&o.variable;if(!Et)rt=`with (obj) {
`+rt+`
}
`;else if(us.test(Et))throw new Lt(g);rt=(B?rt.replace(as,""):rt).replace(Zd,"$1").replace(Xl,"$1;"),rt="function("+(Et||"obj")+`) {
`+(Et?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(P?", __e = _.escape":"")+(B?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+rt+`return __p
}`;var Wt=wp(function(){return Qt(I,pt+"return "+rt).apply(n,L)});if(Wt.source=rt,df(Wt))throw Wt;return Wt}function m5(r){return de(r).toLowerCase()}function k5(r){return de(r).toUpperCase()}function v5(r,o,h){if(r=de(r),r&&(h||o===n))return va(r);if(!r||!(o=qn(o)))return r;var w=sn(r),b=sn(o),I=Cs(w,b),L=oh(w,b)+1;return Kr(w,I,L).join("")}function b5(r,o,h){if(r=de(r),r&&(h||o===n))return r.slice(0,In(r)+1);if(!r||!(o=qn(o)))return r;var w=sn(r),b=oh(w,sn(o))+1;return Kr(w,0,b).join("")}function y5(r,o,h){if(r=de(r),r&&(h||o===n))return r.replace(hs,"");if(!r||!(o=qn(o)))return r;var w=sn(r),b=Cs(w,sn(o));return Kr(w,b).join("")}function x5(r,o){var h=Yt,w=qt;if(Ie(o)){var b="separator"in o?o.separator:b;h="length"in o?Ft(o.length):h,w="omission"in o?qn(o.omission):w}r=de(r);var I=r.length;if(Hr(r)){var L=sn(r);I=L.length}if(h>=I)return r;var P=h-ie(w);if(P<1)return w;var B=L?Kr(L,0,P).join(""):r.slice(0,P);if(b===n)return B+w;if(L&&(P+=B.length-P),uf(b)){if(r.slice(P).search(b)){var Q,tt=B;for(b.global||(b=Lo(b.source,de(Dl.exec(b))+"g")),b.lastIndex=0;Q=b.exec(tt);)var rt=Q.index;B=B.slice(0,rt===n?P:rt)}}else if(r.indexOf(qn(b),P)!=P){var ht=B.lastIndexOf(b);ht>-1&&(B=B.slice(0,ht))}return B+w}function S5(r){return r=de(r),r&&Dr.test(r)?r.replace(ss,Tn):r}var C5=Aa(function(r,o,h){return r+(h?" ":"")+o.toUpperCase()}),cf=pw("toUpperCase");function cp(r,o,h){return r=de(r),o=h?n:o,o===n?Eo(r)?Cu(r):ma(r):r.match(o)||[]}var wp=zt(function(r,o){try{return J(r,n,o)}catch(h){return df(h)?h:new Lt(h)}}),A5=_r(function(r,o){return G(o,function(h){h=Fi(h),wr(r,h,lf(r[h],r))}),r});function E5(r){var o=r==null?0:r.length,h=At();return r=o?Ht(r,function(w){if(typeof w[1]!="function")throw new Ln(u);return[h(w[0]),w[1]]}):[],zt(function(w){for(var b=-1;++b<o;){var I=r[b];if(J(I[0],this,w))return J(I[1],this,w)}})}function I5(r){return Qk(oi(r,Y))}function wf(r){return function(){return r}}function T5(r,o){return r==null||r!==r?o:r}var L5=mw(),R5=mw(!0);function Xn(r){return r}function pf(r){return jc(typeof r=="function"?r:oi(r,Y))}function Y5(r){return Zc(oi(r,Y))}function O5(r,o){return Kc(r,oi(o,Y))}var X5=zt(function(r,o){return function(h){return Xs(h,r,o)}}),P5=zt(function(r,o){return function(h){return Xs(r,h,o)}});function _f(r,o,h){var w=Ge(o),b=_h(o,w);h==null&&!(Ie(o)&&(b.length||!w.length))&&(h=o,o=r,r=this,b=_h(o,Ge(o)));var I=!(Ie(h)&&"chain"in h)||!!h.chain,L=kr(r);return G(b,function(P){var B=o[P];r[P]=B,L&&(r.prototype[P]=function(){var Q=this.__chain__;if(I||Q){var tt=r(this.__wrapped__),rt=tt.__actions__=Rn(this.__actions__);return rt.push({func:B,args:arguments,thisArg:r}),tt.__chain__=Q,tt}return B.apply(r,Gt([this.value()],arguments))})}),r}function $5(){return Fe._===this&&(Fe._=mt),this}function mf(){}function M5(r){return r=Ft(r),zt(function(o){return Jc(o,r)})}var D5=ju(Ht),N5=ju(Ot),B5=ju(jt);function pp(r){return ef(r)?ni(Fi(r)):pv(r)}function F5(r){return function(o){return r==null?n:Po(r,o)}}var q5=vw(),W5=vw(!0);function kf(){return[]}function vf(){return!1}function z5(){return{}}function U5(){return""}function H5(){return!0}function G5(r,o){if(r=Ft(r),r<1||r>Yi)return[];var h=Xe,w=hn(r,Xe);o=At(o),r-=Xe;for(var b=xi(w,o);++h<r;)o(h);return b}function j5(r){return Nt(r)?Ht(r,Fi):Wn(r)?[r]:Rn($w(de(r)))}function V5(r){var o=++it;return de(r)+o}var Z5=xh(function(r,o){return r+o},0),K5=Vu("ceil"),J5=xh(function(r,o){return r/o},1),Q5=Vu("floor");function t3(r){return r&&r.length?ph(r,Xn,Xu):n}function e3(r,o){return r&&r.length?ph(r,At(o,2),Xu):n}function n3(r){return cn(r,Xn)}function i3(r,o){return cn(r,At(o,2))}function r3(r){return r&&r.length?ph(r,Xn,Du):n}function o3(r,o){return r&&r.length?ph(r,At(o,2),Du):n}var a3=xh(function(r,o){return r*o},1),s3=Vu("round"),l3=xh(function(r,o){return r-o},0);function h3(r){return r&&r.length?ne(r,Xn):0}function d3(r,o){return r&&r.length?ne(r,At(o,2)):0}return C.after=Yy,C.ary=Gw,C.assign=k4,C.assignIn=sp,C.assignInWith=$h,C.assignWith=v4,C.at=b4,C.before=jw,C.bind=lf,C.bindAll=A5,C.bindKey=Vw,C.castArray=zy,C.chain=zw,C.chunk=Qv,C.compact=tb,C.concat=eb,C.cond=E5,C.conforms=I5,C.constant=wf,C.countBy=hy,C.create=y4,C.curry=Zw,C.curryRight=Kw,C.debounce=Jw,C.defaults=x4,C.defaultsDeep=S4,C.defer=Oy,C.delay=Xy,C.difference=nb,C.differenceBy=ib,C.differenceWith=rb,C.drop=ob,C.dropRight=ab,C.dropRightWhile=sb,C.dropWhile=lb,C.fill=hb,C.filter=uy,C.flatMap=cy,C.flatMapDeep=wy,C.flatMapDepth=py,C.flatten=Bw,C.flattenDeep=db,C.flattenDepth=ub,C.flip=Py,C.flow=L5,C.flowRight=R5,C.fromPairs=fb,C.functions=R4,C.functionsIn=Y4,C.groupBy=_y,C.initial=cb,C.intersection=wb,C.intersectionBy=pb,C.intersectionWith=_b,C.invert=X4,C.invertBy=P4,C.invokeMap=ky,C.iteratee=pf,C.keyBy=vy,C.keys=Ge,C.keysIn=On,C.map=Lh,C.mapKeys=M4,C.mapValues=D4,C.matches=Y5,C.matchesProperty=O5,C.memoize=Yh,C.merge=N4,C.mergeWith=lp,C.method=X5,C.methodOf=P5,C.mixin=_f,C.negate=Oh,C.nthArg=M5,C.omit=B4,C.omitBy=F4,C.once=$y,C.orderBy=by,C.over=D5,C.overArgs=My,C.overEvery=N5,C.overSome=B5,C.partial=hf,C.partialRight=Qw,C.partition=yy,C.pick=q4,C.pickBy=hp,C.property=pp,C.propertyOf=F5,C.pull=bb,C.pullAll=qw,C.pullAllBy=yb,C.pullAllWith=xb,C.pullAt=Sb,C.range=q5,C.rangeRight=W5,C.rearg=Dy,C.reject=Cy,C.remove=Cb,C.rest=Ny,C.reverse=af,C.sampleSize=Ey,C.set=z4,C.setWith=U4,C.shuffle=Iy,C.slice=Ab,C.sortBy=Ry,C.sortedUniq=Ob,C.sortedUniqBy=Xb,C.split=c5,C.spread=By,C.tail=Pb,C.take=$b,C.takeRight=Mb,C.takeRightWhile=Db,C.takeWhile=Nb,C.tap=ty,C.throttle=Fy,C.thru=Th,C.toArray=rp,C.toPairs=dp,C.toPairsIn=up,C.toPath=j5,C.toPlainObject=ap,C.transform=H4,C.unary=qy,C.union=Bb,C.unionBy=Fb,C.unionWith=qb,C.uniq=Wb,C.uniqBy=zb,C.uniqWith=Ub,C.unset=G4,C.unzip=sf,C.unzipWith=Ww,C.update=j4,C.updateWith=V4,C.values=Ta,C.valuesIn=Z4,C.without=Hb,C.words=cp,C.wrap=Wy,C.xor=Gb,C.xorBy=jb,C.xorWith=Vb,C.zip=Zb,C.zipObject=Kb,C.zipObjectDeep=Jb,C.zipWith=Qb,C.entries=dp,C.entriesIn=up,C.extend=sp,C.extendWith=$h,_f(C,C),C.add=Z5,C.attempt=wp,C.camelCase=t5,C.capitalize=fp,C.ceil=K5,C.clamp=K4,C.clone=Uy,C.cloneDeep=Gy,C.cloneDeepWith=jy,C.cloneWith=Hy,C.conformsTo=Vy,C.deburr=gp,C.defaultTo=T5,C.divide=J5,C.endsWith=e5,C.eq=Ci,C.escape=n5,C.escapeRegExp=i5,C.every=dy,C.find=fy,C.findIndex=Dw,C.findKey=C4,C.findLast=gy,C.findLastIndex=Nw,C.findLastKey=A4,C.floor=Q5,C.forEach=Uw,C.forEachRight=Hw,C.forIn=E4,C.forInRight=I4,C.forOwn=T4,C.forOwnRight=L4,C.get=ff,C.gt=Zy,C.gte=Ky,C.has=O4,C.hasIn=gf,C.head=Fw,C.identity=Xn,C.includes=my,C.indexOf=gb,C.inRange=J4,C.invoke=$4,C.isArguments=Do,C.isArray=Nt,C.isArrayBuffer=Jy,C.isArrayLike=Yn,C.isArrayLikeObject=Me,C.isBoolean=Qy,C.isBuffer=Jr,C.isDate=t4,C.isElement=e4,C.isEmpty=n4,C.isEqual=i4,C.isEqualWith=r4,C.isError=df,C.isFinite=o4,C.isFunction=kr,C.isInteger=tp,C.isLength=Xh,C.isMap=ep,C.isMatch=a4,C.isMatchWith=s4,C.isNaN=l4,C.isNative=h4,C.isNil=u4,C.isNull=d4,C.isNumber=np,C.isObject=Ie,C.isObjectLike=Re,C.isPlainObject=Bs,C.isRegExp=uf,C.isSafeInteger=f4,C.isSet=ip,C.isString=Ph,C.isSymbol=Wn,C.isTypedArray=Ia,C.isUndefined=g4,C.isWeakMap=c4,C.isWeakSet=w4,C.join=mb,C.kebabCase=r5,C.last=si,C.lastIndexOf=kb,C.lowerCase=o5,C.lowerFirst=a5,C.lt=p4,C.lte=_4,C.max=t3,C.maxBy=e3,C.mean=n3,C.meanBy=i3,C.min=r3,C.minBy=o3,C.stubArray=kf,C.stubFalse=vf,C.stubObject=z5,C.stubString=U5,C.stubTrue=H5,C.multiply=a3,C.nth=vb,C.noConflict=$5,C.noop=mf,C.now=Rh,C.pad=s5,C.padEnd=l5,C.padStart=h5,C.parseInt=d5,C.random=Q4,C.reduce=xy,C.reduceRight=Sy,C.repeat=u5,C.replace=f5,C.result=W4,C.round=s3,C.runInContext=D,C.sample=Ay,C.size=Ty,C.snakeCase=g5,C.some=Ly,C.sortedIndex=Eb,C.sortedIndexBy=Ib,C.sortedIndexOf=Tb,C.sortedLastIndex=Lb,C.sortedLastIndexBy=Rb,C.sortedLastIndexOf=Yb,C.startCase=w5,C.startsWith=p5,C.subtract=l3,C.sum=h3,C.sumBy=d3,C.template=_5,C.times=G5,C.toFinite=vr,C.toInteger=Ft,C.toLength=op,C.toLower=m5,C.toNumber=li,C.toSafeInteger=m4,C.toString=de,C.toUpper=k5,C.trim=v5,C.trimEnd=b5,C.trimStart=y5,C.truncate=x5,C.unescape=S5,C.uniqueId=V5,C.upperCase=C5,C.upperFirst=cf,C.each=Uw,C.eachRight=Hw,C.first=Fw,_f(C,function(){var r={};return Ni(C,function(o,h){z.call(C.prototype,h)||(r[h]=o)}),r}(),{chain:!1}),C.VERSION=i,G(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){C[r].placeholder=C}),G(["drop","take"],function(r,o){Kt.prototype[r]=function(h){h=h===n?1:We(Ft(h),0);var w=this.__filtered__&&!o?new Kt(this):this.clone();return w.__filtered__?w.__takeCount__=hn(h,w.__takeCount__):w.__views__.push({size:hn(h,Xe),type:r+(w.__dir__<0?"Right":"")}),w},Kt.prototype[r+"Right"]=function(h){return this.reverse()[r](h).reverse()}}),G(["filter","map","takeWhile"],function(r,o){var h=o+1,w=h==mi||h==Ud;Kt.prototype[r]=function(b){var I=this.clone();return I.__iteratees__.push({iteratee:At(b,3),type:h}),I.__filtered__=I.__filtered__||w,I}}),G(["head","last"],function(r,o){var h="take"+(o?"Right":"");Kt.prototype[r]=function(){return this[h](1).value()[0]}}),G(["initial","tail"],function(r,o){var h="drop"+(o?"":"Right");Kt.prototype[r]=function(){return this.__filtered__?new Kt(this):this[h](1)}}),Kt.prototype.compact=function(){return this.filter(Xn)},Kt.prototype.find=function(r){return this.filter(r).head()},Kt.prototype.findLast=function(r){return this.reverse().find(r)},Kt.prototype.invokeMap=zt(function(r,o){return typeof r=="function"?new Kt(this):this.map(function(h){return Xs(h,r,o)})}),Kt.prototype.reject=function(r){return this.filter(Oh(At(r)))},Kt.prototype.slice=function(r,o){r=Ft(r);var h=this;return h.__filtered__&&(r>0||o<0)?new Kt(h):(r<0?h=h.takeRight(-r):r&&(h=h.drop(r)),o!==n&&(o=Ft(o),h=o<0?h.dropRight(-o):h.take(o-r)),h)},Kt.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},Kt.prototype.toArray=function(){return this.take(Xe)},Ni(Kt.prototype,function(r,o){var h=/^(?:filter|find|map|reject)|While$/.test(o),w=/^(?:head|last)$/.test(o),b=C[w?"take"+(o=="last"?"Right":""):o],I=w||/^find/.test(o);b&&(C.prototype[o]=function(){var L=this.__wrapped__,P=w?[1]:arguments,B=L instanceof Kt,Q=P[0],tt=B||Nt(L),rt=function(Vt){var te=b.apply(C,Gt([Vt],P));return w&&ht?te[0]:te};tt&&h&&typeof Q=="function"&&Q.length!=1&&(B=tt=!1);var ht=this.__chain__,pt=!!this.__actions__.length,Et=I&&!ht,Wt=B&&!pt;if(!I&&tt){L=Wt?L:new Kt(this);var It=r.apply(L,P);return It.__actions__.push({func:Th,args:[rt],thisArg:n}),new ri(It,ht)}return Et&&Wt?r.apply(this,P):(It=this.thru(rt),Et?w?It.value()[0]:It.value():It)})}),G(["pop","push","shift","sort","splice","unshift"],function(r){var o=E[r],h=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",w=/^(?:pop|shift)$/.test(r);C.prototype[r]=function(){var b=arguments;if(w&&!this.__chain__){var I=this.value();return o.apply(Nt(I)?I:[],b)}return this[h](function(L){return o.apply(Nt(L)?L:[],b)})}}),Ni(Kt.prototype,function(r,o){var h=C[o];if(h){var w=h.name+"";z.call(xa,w)||(xa[w]=[]),xa[w].push({name:o,func:h})}}),xa[yh(n,V).name]=[{name:"wrapper",func:n}],Kt.prototype.clone=Sk,Kt.prototype.reverse=Ck,Kt.prototype.value=Ak,C.prototype.at=ey,C.prototype.chain=ny,C.prototype.commit=iy,C.prototype.next=ry,C.prototype.plant=ay,C.prototype.reverse=sy,C.prototype.toJSON=C.prototype.valueOf=C.prototype.value=ly,C.prototype.first=C.prototype.head,qe&&(C.prototype[qe]=oy),C},fr=Au();d?((d.exports=fr)._=fr,s._=fr):Fe._=fr}).call($a)})(j$,Gi);class V$ extends fn{constructor(){super("#abilities-page");_(this,"activeAbilities",document.querySelector("#active-abilities"));_(this,"passiveAbilities",document.querySelector("#passive-abilities"));_(this,"abilityBar",document.querySelector("#ability-shortcut"));_(this,"draggedElement","");_(this,"selectCallback");for(let n=0;n<this.activeAbilities.children.length;n++)this.activeAbilities.children[n].addEventListener("click",()=>this.handleAction(n));for(let n=0;n<this.abilityBar.children.length;n++){let i=this.abilityBar.children[n];i.draggable=!0,i.addEventListener("dragover",a=>this.dragOver(a)),i.addEventListener("drop",a=>this.dragDrop(a,n))}}synchronize(n){this.hideAll();let i=0,a=0;Gi.each(n.abilities,l=>{switch(l.type){case dd.Active:{this.setActiveAbility(i,l.key,l.level),i++;break}case dd.Passive:{this.setPassiveAbility(a,l.key,l.level),a++;break}}})}handleAction(n){var a;let i=this.activeAbilities.children[n];i.style.display==="none"||!i.key||(a=this.selectCallback)==null||a.call(this,Ma.Use,i.key)}dragStart(n){this.draggedElement=n}dragDrop(n,i){var a;(a=this.selectCallback)==null||a.call(this,Ma.QuickSlot,this.draggedElement,i),this.draggedElement=""}dragOver(n){!n.target||!n.target.draggable||n.preventDefault()}dragLeave(n){}setAbility(n,i,a=1,l=!1){n.innerHTML="",n.className="ability",n.style.display="block";let u=document.createElement("div");u.classList.add("ability-icon"),u.classList.add(`ability-icon-${i}`),u.draggable=!0,l||(u.addEventListener("dragleave",g=>this.dragLeave(g)),u.addEventListener("dragstart",()=>this.dragStart(i))),a>4&&(a=4),a<1&&(a=1);for(let g=0;g<a;g++){let S=document.createElement("div");S.classList.add("ability-level"),S.classList.add(`ability-level${g+1}`),n.append(S,u)}}setActiveAbility(n,i,a=1){let l=this.activeAbilities.children[n];if(!l)return ce.error(`Could not find ability with index ${n}, key: ${i}.`);if(!i)return this.hideAbility(l);this.setAbility(l,i,a),l.key=i}setPassiveAbility(n,i,a=1){let l=this.passiveAbilities.children[n];if(!l)return ce.error(`Could not find ability with index ${n}, key: ${i}.`);if(!i)return this.hideAbility(l);this.setAbility(l,i,a,!0)}hideAbility(n){n.style.display="none"}hideAll(){for(let n of this.activeAbilities.children)this.hideAbility(n);for(let n of this.passiveAbilities.children)this.hideAbility(n)}onSelect(n){this.selectCallback=n}}class Z$ extends fn{constructor(){super("#skills-page");_(this,"list",document.querySelector("#skills-list > ul"))}synchronize(n){this.list.innerHTML="",y.each(n.skills,i=>this.list.append(this.createElement(i)))}createElement(n){let i=document.createElement("li"),a=document.createElement("div"),l=document.createElement("div"),u=document.createElement("p");return a.classList.add("profession-item"),l.classList.add("profession-name"),l.textContent=n.name,u.textContent=`Level ${n.level} | ${n.percentage.toFixed(1)}%`,l.append(u),a.append(l),i.append(a),i}}class K$ extends fn{constructor(n){super("#profile-dialog",void 0,"#profile-button");_(this,"state",new G$);_(this,"skills",new Z$);_(this,"abilities",new V$);_(this,"pages",[this.state,this.skills,this.abilities]);_(this,"activePage",0);_(this,"previous",document.querySelector("#profile-navigator > .previous"));_(this,"next",document.querySelector("#profile-navigator > .next"));_(this,"unequipCallback");_(this,"abilityCallback");this.player=n,this.handleNavigation(),this.previous.addEventListener("click",()=>this.handleNavigation("previous")),this.next.addEventListener("click",()=>this.handleNavigation("next")),this.state.onSelect(i=>{var a;return(a=this.unequipCallback)==null?void 0:a.call(this,i)}),this.abilities.onSelect((i,a,l)=>{var u;return(u=this.abilityCallback)==null?void 0:u.call(this,i,a,l)})}handleNavigation(n="previous"){var i,a;this.isDisabled(n)||(this.previous.classList.remove("disabled"),this.next.classList.remove("disabled"),(i=this.pages[this.activePage])==null||i.hide(),this.activePage+=n==="previous"?-1:1,this.activePage<=0&&(this.activePage=0,this.previous.classList.add("disabled")),this.activePage>=this.pages.length-1&&(this.activePage=this.pages.length-1,this.next.classList.add("disabled")),(a=this.pages[this.activePage])==null||a.show())}synchronize(){this.forEachPage(n=>n.synchronize(this.player))}isDisabled(n){return n==="previous"&&this.previous.classList.contains("disabled")||n==="next"&&this.next.classList.contains("disabled")}forEachPage(n){y.each(this.pages,n)}onUnequip(n){this.unequipCallback=n}onAbility(n){this.abilityCallback=n}}class J$ extends fn{constructor(){super("#enchant","#close-enchant")}}class Q$ extends fn{constructor(n){super("#map-frame","#close-map-frame","#warp-button");_(this,"list",document.querySelectorAll(".map-button"));_(this,"selectCallback");this.socket=n,y.each(this.list,i=>i.addEventListener("click",()=>this.handleWarp(i)))}handleWarp(n){var a;let i=parseInt(n.id.replace("warp",""));if(isNaN(i))return ce.error("Invalid warp element clicked.");(a=this.selectCallback)==null||a.call(this,i),this.hide()}onSelect(n){this.selectCallback=n}}class tM extends fn{constructor(){super("#notification");_(this,"title",document.querySelector("#notification-text-title"));_(this,"description",document.querySelector("#notification-text-description"));_(this,"timeout")}show(n,i,a){if(this.isVisible()){this.hide(!1),window.setTimeout(()=>this.show(n,i,a),700);return}this.container.classList.add("active"),this.setPosition(),this.title.style.color=a,this.title.innerHTML=n,this.description.innerHTML=i,clearTimeout(this.timeout),this.timeout=window.setTimeout(()=>this.hide(!1),7e3)}hide(n=!0){n||(this.container.classList.remove("active"),this.container.style.top="100%")}resize(){this.isVisible()&&this.setPosition()}isVisible(){return this.container.classList.contains("active")}getPosition(){return window.innerHeight-this.container.offsetHeight}setPosition(){this.container.style.top=`${this.getPosition()}px`}}class eM extends fn{constructor(n){super("#settings-page",void 0,"#settings-button");_(this,"musicSlider",document.querySelector("#music"));_(this,"soundSlider",document.querySelector("#sound"));_(this,"brightnessSlider",document.querySelector("#brightness"));_(this,"audioEnabledCheckbox",document.querySelector("#audio-enabled-checkbox > input"));_(this,"lowPowerCheckbox",document.querySelector("#low-power-checkbox > input"));_(this,"debugCheckbox",document.querySelector("#debug-mode-checkbox > input"));_(this,"showNamesCheckbox",document.querySelector("#show-names-checkbox > input"));_(this,"showLevelsCheckbox",document.querySelector("#show-levels-checkbox > input"));_(this,"disableCachingCheckbox",document.querySelector("#disable-region-caching-checkbox > input"));this.game=n,this.musicSlider.addEventListener("input",this.handleMusic.bind(this)),this.soundSlider.addEventListener("input",this.handleSoundVolume.bind(this)),this.brightnessSlider.addEventListener("input",this.handleBrightness.bind(this)),this.audioEnabledCheckbox.addEventListener("change",this.handleAudioEnabled.bind(this)),this.lowPowerCheckbox.addEventListener("change",this.handleLowPower.bind(this)),this.debugCheckbox.addEventListener("change",this.handleDebug.bind(this)),this.showNamesCheckbox.addEventListener("change",this.handleName.bind(this)),this.showLevelsCheckbox.addEventListener("change",this.handleLevel.bind(this)),this.disableCachingCheckbox.addEventListener("change",this.handleCaching.bind(this)),this.load()}load(){var i,a,l;let n=this.game.storage.getSettings();this.musicSlider.value=(i=n.musicVolume)==null?void 0:i.toString(),this.soundSlider.value=(a=n.soundVolume)==null?void 0:a.toString(),this.brightnessSlider.value=(l=n.brightness)==null?void 0:l.toString(),this.audioEnabledCheckbox.checked=n.audioEnabled,this.lowPowerCheckbox.checked=n.lowPowerMode,this.debugCheckbox.checked=n.debugMode,this.showNamesCheckbox.checked=n.showNames,this.showLevelsCheckbox.checked=n.showLevels,this.disableCachingCheckbox.checked=n.disableCaching,this.handleBrightness(),this.handleDebug(),this.handleLowPower(),this.handleName(),this.handleLevel()}handleMusic(){this.game.storage.setMusicVolume(this.musicSlider.valueAsNumber),this.game.audio.updateVolume()}handleSoundVolume(){this.game.storage.setSoundVolume(this.soundSlider.valueAsNumber)}handleBrightness(){this.game.storage.setBrightness(this.brightnessSlider.valueAsNumber),this.game.renderer.setBrightness(this.brightnessSlider.valueAsNumber)}handleAudioEnabled(){this.game.storage.setAudioEnabled(this.audioEnabledCheckbox.checked),this.game.audio.updateVolume()}handleLowPower(){this.game.storage.setLowPowerMode(this.lowPowerCheckbox.checked),this.game.renderer.animateTiles=!this.lowPowerCheckbox.checked,this.lowPowerCheckbox.checked?this.game.camera.decenter():(this.game.camera.center(),this.game.camera.centreOn(this.game.player),this.game.renderer.updateAnimatedTiles())}handleDebug(){this.game.storage.setDebug(this.debugCheckbox.checked),this.game.renderer.debugging=this.debugCheckbox.checked}handleName(){this.game.storage.setShowNames(this.showNamesCheckbox.checked),this.game.renderer.drawNames=this.showNamesCheckbox.checked}handleLevel(){this.game.storage.setShowLevels(this.showLevelsCheckbox.checked),this.game.renderer.drawLevels=this.showLevelsCheckbox.checked}handleCaching(){this.game.storage.setDisableCaching(this.disableCachingCheckbox.checked)}}class nM{constructor(e){_(this,"abilityBar",document.querySelector("#ability-shortcut"));this.player=e,this.player.onAbility(this.handleAbility.bind(this))}handleAbility(e,n,i=-1){if(this.abilityBar.hidden=!1,setTimeout(()=>this.abilityBar.style.opacity="1",100),i===-1)return;let a=this.abilityBar.children[i];a&&(this.clean(e),a.className="ability-quickslot",a.classList.add(`quickslot-icon-${e}`))}clean(e){for(let n of this.abilityBar.children)n.classList.contains(`quickslot-icon-${e}`)&&n.classList.remove(`quickslot-icon-${e}`)}}class iM extends fn{constructor(n,i){super("#equipments","#close-equipments","#equipment-button");_(this,"playerArmour",document.querySelector("#player-image-armour"));_(this,"playerWeapon",document.querySelector("#player-image-weapon"));_(this,"weapon",document.querySelector("#equipment-container > .weapon-slot"));_(this,"armour",document.querySelector("#equipment-container > .armour-slot"));_(this,"pendant",document.querySelector("#equipment-container > .pendant-slot"));_(this,"ring",document.querySelector("#equipment-container > .ring-slot"));_(this,"boots",document.querySelector("#equipment-container > .boots-slot"));_(this,"previous",document.querySelector("#player-image-navigator > .previous"));_(this,"next",document.querySelector("#player-image-navigator > .next"));_(this,"attackStats",document.querySelector("#attack-stats"));_(this,"defenseStats",document.querySelector("#defense-stats"));_(this,"bonuses",document.querySelector("#bonuses"));_(this,"imageOrientation",Xt.Down);_(this,"selectCallback");this.player=n,this.sprites=i,this.previous.addEventListener("click",()=>this.handleNavigation("previous")),this.next.addEventListener("click",()=>this.handleNavigation("next")),this.weapon.addEventListener("click",()=>{var a;return(a=this.selectCallback)==null?void 0:a.call(this,Ce.Weapon)}),this.armour.addEventListener("click",()=>{var a;return(a=this.selectCallback)==null?void 0:a.call(this,Ce.Armour)}),this.pendant.addEventListener("click",()=>{var a;return(a=this.selectCallback)==null?void 0:a.call(this,Ce.Pendant)}),this.ring.addEventListener("click",()=>{var a;return(a=this.selectCallback)==null?void 0:a.call(this,Ce.Ring)}),this.boots.addEventListener("click",()=>{var a;return(a=this.selectCallback)==null?void 0:a.call(this,Ce.Boots)})}synchronize(){this.loadStats(),this.loadPlayerImage(),this.weapon.style.backgroundImage=vt.getImageURL(this.player.getWeapon().key),this.armour.style.backgroundImage=vt.getImageURL(this.player.getArmour().key==="clotharmor"?"":this.player.getArmour().key),this.pendant.style.backgroundImage=vt.getImageURL(this.player.getPendant().key),this.ring.style.backgroundImage=vt.getImageURL(this.player.getRing().key),this.boots.style.backgroundImage=vt.getImageURL(this.player.getBoots().key)}resize(){this.loadPlayerImage()}handleNavigation(n){let i=[Xt.Left,Xt.Up,Xt.Right,Xt.Down],a=i.indexOf(this.imageOrientation);switch(n){case"previous":{a=a===0?i.length-1:a-1;break}case"next":{a=a===i.length-1?0:a+1;break}}this.imageOrientation=i[a],this.loadPlayerImage()}loadStats(){let n=vt.getEmptyStats(),i=vt.getEmptyStats(),a=vt.getEmptyBonuses();Gi.each(this.player.equipments,g=>{g.exists()&&(n.crush+=g.attackStats.crush,n.slash+=g.attackStats.slash,n.stab+=g.attackStats.stab,n.magic+=g.attackStats.magic,i.crush+=g.defenseStats.crush,i.slash+=g.defenseStats.slash,i.stab+=g.defenseStats.stab,i.magic+=g.defenseStats.magic,a.accuracy+=g.bonuses.accuracy,a.strength+=g.bonuses.strength,a.archery+=g.bonuses.archery)});let l=["Crush","Slash","Stab","Magic"],u=["Accuracy","Strength","Archery"];Gi.each(l,g=>{let S=g.toLowerCase(),v=this.attackStats.querySelector(`.${S.toLowerCase()}`),A=this.defenseStats.querySelector(`.${S.toLowerCase()}`),Y=n[S],X=i[S];v.textContent=`${g}: ${Y>0?"+":""}${Y}`,A.textContent=`${g}: ${X>0?"+":""}${X}`}),Gi.each(u,g=>{let S=g.toLowerCase(),v=this.bonuses.querySelector(`.${S.toLowerCase()}`),A=a[S];v.textContent=`${g}: ${A>0?"+":""}${A}`})}loadPlayerImage(){let n=`url("/img/sprites/${this.player.getArmour().key}.png")`,i=this.player.sprite,a=this.imageOrientation===Xt.Left,l=this.getOrientationIndex();if(i){if(this.playerArmour.style.backgroundImage=n,this.playerArmour.style.backgroundPosition=`0 -${l*i.height}px`,this.player.hasWeapon()){let u=`url("/img/sprites/${this.player.getWeapon().key}.png")`,g=this.sprites.get(this.player.getWeapon().key),S=Math.floor(g.offsetX/2),v=Math.floor(g.offsetY/2);this.playerWeapon.style.width=`${g.width}px`,this.playerWeapon.style.height=`${g.height}px`,this.playerWeapon.style.marginLeft=`${S}px`,this.playerWeapon.style.marginTop=`${v}px`,this.playerWeapon.style.backgroundImage=u,this.playerWeapon.style.backgroundPosition=`0 -${l*g.height}px`}else this.playerWeapon.style.backgroundImage="none";this.playerArmour.style.transform=`scaleX(${a?-1:1})`,this.playerWeapon.style.transform=`scaleX(${a?-1:1})`}}getOrientationIndex(){switch(this.imageOrientation){case Xt.Left:case Xt.Right:return 1;case Xt.Up:return 4;case Xt.Down:return 7}}onSelect(n){this.selectCallback=n}}class rM extends fn{constructor(n){super("#achievements","#close-achievements","#achievements-button");_(this,"list",document.querySelector("#achievements-container > ul"));this.player=n}handle(n,i){if(n===hd.Batch){Gi.each(this.player.achievements,l=>this.createAchievement(l));return}let a=this.player.achievements[i];a&&this.update(this.list.children[a.id],a)}createAchievement(n){let i=document.createElement("li"),a=document.createElement("div"),l=document.createElement("p"),u=document.createElement("p");i.classList.add("achievement-element"),l.classList.add("stroke"),l.classList.add("achievement-title"),u.classList.add("achievement-description"),l.innerHTML=n.name,u.innerHTML=n.description,i.append(l),i.append(u),n.isFinished()?(l.style.color="#fcda1d",a.classList.add("coin"),a.classList.add("coin-default"),i.prepend(a)):n.isStarted()&&i.append(this.createProgress(n)),this.list.append(i)}createProgress(n){let i=document.createElement("p");return i.classList.add("stroke"),i.classList.add("achievement-progress"),i.innerHTML=n.isStarted()?`${n.stage-1}/${n.stageCount-1}`:"",i}update(n,i){let a=n.querySelector(".achievement-title"),l=n.querySelector(".achievement-description"),u=n.querySelector(".achievement-progress");if(a.innerHTML=i.name,l.innerHTML=i.description,i.isFinished()){a.style.color="#fcda1d",u==null||u.remove();let g=document.createElement("div");g.classList.add("coin"),g.classList.add("coin-default"),n.prepend(g)}else{a.style.color="#fff";let g=n.querySelector(".coin");g==null||g.remove(),u?u.innerHTML=i.isStarted()?`${i.stage-1}/${i.stageCount-1}`:"":(u=this.createProgress(i),n.append(u))}}}class oM extends fn{constructor(n){super("#quests","#close-quests","#quests-button");_(this,"list",document.querySelector("#quests-container > ul"));_(this,"title",document.querySelector("#quest-log-title"));_(this,"shortDescription",document.querySelector("#quest-log-shortdesc"));_(this,"description",document.querySelector("#quest-log-description"));_(this,"rewards",document.querySelector("#quest-log-rewards"));this.player=n}handle(n,i=""){switch(n){case rl.Batch:{Gi.each(this.player.quests,a=>this.createElement(a));break}case rl.Progress:return this.handleProgress(i)}this.buildLog(this.player.quests.tutorial)}handleProgress(n){if(!n)return;let i=this.player.quests[n];if(!i)return;let a=this.list.children[i.id],l=a.querySelector("p");l&&(l.classList.remove("green","yellow"),i.isFinished()?l.classList.add("green"):i.isStarted()&&l.classList.add("yellow"))}createElement(n){let i=document.createElement("li"),a=document.createElement("p");i.classList.add("container-slot"),a.classList.add("stroke"),a.innerHTML=n.name,n.isFinished()?a.classList.add("green"):n.isStarted()&&a.classList.add("yellow"),i.append(a),this.list.append(i),i.addEventListener("click",()=>this.buildLog(n))}buildLog(n){let[i,a]=n.description.split("|");this.title.innerHTML=n.name,this.shortDescription.innerHTML=i,this.description.innerHTML=a,n.rewards&&(this.rewards.innerHTML=n.rewards.join("<br>"))}}class aM extends fn{constructor(n){super("#friends-page",void 0,"#friends-button");_(this,"list",document.querySelector("#friends-container > ul"));_(this,"addButton",document.querySelector("#add-friend"));_(this,"removeButton",document.querySelector("#remove-friend"));_(this,"input",document.querySelector("#popup-friend-input"));_(this,"confirm",document.querySelector("#popup-friend-confirm"));_(this,"cancel",document.querySelector("#popup-friend-cancel"));_(this,"popup",document.querySelector("#popup-container"));_(this,"confirmCallback");_(this,"messageCallback");_(this,"popupActive",!1);_(this,"removeActive",!1);this.player=n,this.addButton.addEventListener("click",()=>this.showPopup()),this.removeButton.addEventListener("click",()=>this.showPopup(!0)),this.confirm.addEventListener("click",this.handleConfirm.bind(this)),this.cancel.addEventListener("click",this.hidePopup.bind(this))}handle(n,i="",a=!1){switch(n){case Ui.List:{Gi.each(this.player.friends,l=>this.createElement(l.username,l.online));break}case Ui.Add:return this.createElement(i,a);case Ui.Remove:return this.removeElement(i);case Ui.Status:return this.updateStatus(i,a)}}handleConfirm(){var a;let n=this.input.value,i=this.removeActive;this.input.value="",this.hidePopup(),!(!n||n.length>32)&&((a=this.confirmCallback)==null||a.call(this,n,i))}handleMessage(n){var i;this.player.friends[n].online&&((i=this.messageCallback)==null||i.call(this,n))}keyDown(n){n==="Escape"&&this.hidePopup(),n==="Enter"&&this.input.value!==""&&this.handleConfirm()}showPopup(n=!1){var i;this.popupActive=!0,this.removeActive=n,this.input.placeholder=n?"Enter name to remove...":"Enter name to add...",vt.fadeIn(this.popup),(i=document.querySelector("#friends-container"))==null||i.classList.add("dimmed"),this.input.focus()}hidePopup(){var n;this.popupActive=!1,this.removeActive=!1,vt.fadeOut(this.popup),(n=document.querySelector("#friends-container"))==null||n.classList.remove("dimmed")}createElement(n,i=!1){let a=document.createElement("li"),l=document.createElement("p");a.classList.add("container-slot"),l.classList.add("stroke"),i&&l.classList.add("green"),l.innerHTML=n,a.append(l),this.list.append(a),a.addEventListener("click",()=>this.handleMessage(n))}removeElement(n){let i=this.player.friends[n];i&&(this.list.children[i.id].remove(),delete this.player.friends[n])}updateStatus(n,i){let a=this.player.friends[n];if(!a)return;let l=this.list.children[a.id].children[0];i?l.classList.add("green"):l.classList.remove("green")}isPopupActive(){return this.popupActive}onConfirm(n){this.confirmCallback=n}onMessage(n){this.messageCallback=n}}class sM{constructor(e){_(this,"actions",new q$);_(this,"inventory");_(this,"bank");_(this,"store");_(this,"profile");_(this,"enchant");_(this,"warp");_(this,"notification");_(this,"settings");_(this,"equipments");_(this,"achievements");_(this,"quests");_(this,"friends");_(this,"header");_(this,"menus");this.game=e,this.inventory=new W$(this.actions),this.bank=new z$(this.inventory),this.store=new U$(this.inventory),this.profile=new K$(e.player),this.enchant=new J$,this.warp=new Q$(e.socket),this.notification=new tM,this.settings=new eM(e),this.header=new H$(e.player),this.equipments=new iM(e.player,e.sprites),this.achievements=new rM(e.player),this.quests=new oM(e.player),this.friends=new aM(e.player),this.menus={inventory:this.inventory,bank:this.bank,store:this.store,profile:this.profile,enchant:this.enchant,warp:this.warp,notification:this.notification,settings:this.settings,equipments:this.equipments,achievements:this.achievements,quests:this.quests,friends:this.friends},this.inventory.onSelect(this.handleInventorySelect.bind(this)),this.bank.onSelect(this.handleBankSelect.bind(this)),this.store.onSelect(this.handleStoreSelect.bind(this)),this.equipments.onSelect(this.handleProfileUnequip.bind(this)),this.profile.onUnequip(this.handleProfileUnequip.bind(this)),this.profile.onAbility(this.handleAbility.bind(this)),this.warp.onSelect(this.handleWarp.bind(this)),this.friends.onConfirm(this.handleFriendConfirm.bind(this)),this.load()}load(){new nM(this.game.player),this.forEachMenu(e=>e.onShow(()=>this.hide()))}hide(){this.forEachMenu(e=>e.hide())}synchronize(e){var n;if(e)return(n=this.menus[e])==null?void 0:n.synchronize();this.forEachMenu(i=>i.synchronize())}resize(){this.header.resize(),this.forEachMenu(e=>e.resize())}getInventory(){return this.inventory}getBank(){return this.bank}getStore(){return this.store}getProfile(){return this.profile}getNotification(){return this.notification}getWarp(){return this.warp}getAchievements(){return this.achievements}getQuests(){return this.quests}getFriends(){return this.friends}handleInventorySelect(e,n,i){this.game.socket.send(gt.Container,{opcode:n,type:oo.Inventory,index:e,tIndex:i})}handleBankSelect(e,n){this.game.socket.send(gt.Container,{opcode:Hi.Select,type:oo.Bank,subType:e,index:n})}handleStoreSelect(e,n,i,a=1){this.game.socket.send(gt.Store,{opcode:e,key:n,index:i,count:a})}handleProfileUnequip(e){this.game.socket.send(gt.Equipment,{opcode:Qs.Unequip,type:e})}handleAbility(e,n,i){this.game.socket.send(gt.Ability,{opcode:e,key:n,index:i})}handleWarp(e){this.game.socket.send(gt.Warp,{id:e})}handleFriendConfirm(e,n=!1){this.game.socket.send(gt.Friends,{opcode:n?Ui.Remove:Ui.Add,username:e})}forEachMenu(e){y.each(this.menus,e)}}class R_{constructor(e,n,i){_(this,"x",-1);_(this,"y",-1);_(this,"blinkInterval");_(this,"visible",!0);this.id=e,this.element=n,this.type=i,this.load()}load(){this.blinkInterval=window.setInterval(()=>{this.visible?this.hide():this.show(),this.visible=!this.visible},600)}setPosition(e,n){this.x=e,this.y=n}destroy(){clearInterval(this.blinkInterval),this.type===Pn.Button?this.hide():this.element.remove()}show(){this.type===Pn.Button?this.element.addClass("active"):this.element.show()}hide(){this.type===Pn.Button?this.element.removeClass("active"):this.element.hide()}}class lM{constructor(e){_(this,"camera");_(this,"pointers",{});_(this,"container",Ti("#bubbles"));this.game=e,this.camera=this.game.camera}create(e,n,i){let{pointers:a,container:l}=this;if(!(e in a))switch(n){case Pn.Button:{a[e]=new R_(e,Ti(`#${i}`),n);break}default:{let u=Ti(`<div id="${e}" class="pointer"></div>`);this.setSize(u),l.append(u),a[e]=new R_(e,u,n);break}}}resize(){y.each(this.pointers,({type:e,x:n,y:i,element:a})=>{switch(e){case Pn.Relative:{let l=this.getZoom(),u=0,g=0;a.css({left:`${n*l-u}px`,top:`${i*l-g}px`});break}}})}setSize(e){let n="/img/pointer.png";e.css({top:"30px",width:"64px",height:"64px",margin:"inherit",marginTop:"-18px",background:`url("${n}") no-repeat -4px`})}clean(){y.each(this.pointers,e=>e.destroy()),this.pointers={}}destroy(e){delete this.pointers[e.id],e.destroy()}set(e,n,i){let{camera:a,game:l}=this;if(!a)return;let{element:u}=e,{canvasWidth:g,canvasHeight:S}=l.renderer,v=l.map.tileSize*this.getZoom(),A=(n-a.x)*this.getZoom(),Y=parseInt(u.css("width")),X=Y/2-v/2,M=(i-a.y)*this.getZoom()-v,q=A/g,j=M/S;q>=1.5?u.css({left:"",right:0,top:"50%",bottom:"",transform:"rotate(-90deg)"}):j>=1.5?u.css({left:"50%",right:"",top:"",bottom:0,transform:""}):q<=0?u.css({left:0,right:"",top:"50%",bottom:"",transform:"rotate(90deg)"}):j<=0?u.css({left:"",right:"50%",top:0,bottom:"",transform:"rotate(180deg)"}):u.css({left:`${A-X}px`,right:"",top:`${M}px`,bottom:"",transform:""})}setToEntity(e){let n=this.get(e.instance);n&&this.set(n,e.x,e.y)}setToPosition(e,n,i){let a=this.get(e);a&&(a.setPosition(n,i),this.set(a,n,i))}setRelative(e,n,i){let a=this.get(e);if(!a)return;let l=this.getZoom(),u=0,g=0;a.setPosition(n,i),a.element.css({left:`${n*l-u}px`,top:`${i*l-g}px`})}update(){y.each(this.pointers,e=>{switch(e.type){case Pn.Entity:{let n=this.game.entities.get(e.id);n?this.setToEntity(n):this.destroy(e);break}case Pn.Location:{e.x!==-1&&e.y!==-1&&this.set(e,e.x,e.y);break}}})}get(e){let{pointers:n}=this;return e in n?n[e]:null}getZoom(){return this.game.camera.zoomFactor}}const hM=[{id:"adhererarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"adherer",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"adhererrobe",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"adminarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"agent",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"ancientmanumentnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"angelnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"ant",width:48,height:48,animations:{atk_right:{length:4,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-28},{id:"archerarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"archerschooluniform",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"axe",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"fireaxe",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"poisonaxe",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"rustedaxe",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"babyspider",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-7,offsetY:-13},{id:"bamboospear",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"bastardsword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"bat",idleSpeed:100,width:32,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:5,row:1},idle_right:{length:5,row:2},atk_up:{length:5,row:3},walk_up:{length:5,row:4},idle_up:{length:5,row:5},atk_down:{length:5,row:6},walk_down:{length:5,row:7},idle_down:{length:5,row:8}},offsetX:-8,offsetY:-24},{id:"icebat",idleSpeed:100,width:32,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:5,row:1},idle_right:{length:5,row:2},atk_up:{length:5,row:3},walk_up:{length:5,row:4},idle_up:{length:5,row:5},atk_down:{length:5,row:6},walk_down:{length:5,row:7},idle_down:{length:5,row:8}},offsetX:-8,offsetY:-24},{id:"beachnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"bearseonbiarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"beautifullife",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"beearmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"bee",width:20,height:19,animations:{death:{length:1,row:4},atk_right:{length:4,row:1},walk_right:{length:4,row:1},idle_right:{length:2,row:1},atk_up:{length:4,row:3},idle_up:{length:2,row:3},walk_up:{length:4,row:3},atk_down:{length:4,row:2},walk_down:{length:4,row:2},idle_down:{length:2,row:2}},offsetX:-8,offsetY:-8},{id:"beetlearmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"beetle",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-54},{id:"blackpirateskeleton",width:32,height:32,animations:{atk_right:{length:3,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:3,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-8,offsetY:-15},{id:"blackspiderarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"blackwizard",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-22},{id:"blazespider",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-22},{id:"bloodbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"bluebikinigirlnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"greencockroach",width:42,height:42,animations:{atk_right:{length:3,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:3,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:3,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-21},{id:"bluedamboarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"piratearmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"greenpiratearmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"purplepiratearmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"redpiratearmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"bluepreta",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:3,row:4},idle_up:{length:4,row:5},atk_down:{length:4,row:6},walk_down:{length:3,row:7},idle_down:{length:4,row:8}},offsetX:-5,offsetY:-13},{id:"bluescimitar",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"bluestoremannpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"bluesword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"bluewingarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"bluewingarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"boss",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:3,row:1},idle_right:{length:4,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-36},{id:"boxingman",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"breaker",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"bridalmask",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"bronzemedal",width:12,height:12},{id:"brownmouse",width:26,height:26,animations:{atk_right:{length:3,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-8},{id:"bucklerbenef",width:32,height:32,animations:{atk_right:{length:10,row:0},walk_right:{length:10,row:0},idle_right:{length:10,row:0},atk_up:{length:10,row:0},walk_up:{length:10,row:0},idle_up:{length:10,row:0},atk_down:{length:10,row:0},walk_down:{length:10,row:0},idle_down:{length:10,row:0}},offsetX:-9,offsetY:-32},{id:"burgerarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-16},{id:"butcherknife",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"cactusaxe",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"goldaxe",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"carnelianaxe",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"cactus",width:48,height:48,animations:{atk_right:{length:4,row:0},walk_right:{length:3,row:1},idle_right:{length:1,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:1,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:1,row:8}},offsetX:-16,offsetY:-28},{id:"candybar",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"captainbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"catarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"cat",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:4,row:2},atk_up:{length:3,row:3},walk_up:{length:6,row:4},idle_up:{length:4,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:4,row:8}},offsetX:-16,offsetY:-25},{id:"cheoliarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"cheoliarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"chest",animations:{idle_down:{length:1,row:0}},offsetX:0,offsetY:0},{id:"christmasarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"clam",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:3,row:1},idle_right:{length:4,row:2},atk_up:{length:4,row:3},walk_up:{length:3,row:4},idle_up:{length:4,row:5},atk_down:{length:4,row:6},walk_down:{length:3,row:7},idle_down:{length:4,row:8}},offsetX:-5,offsetY:-13},{id:"pickle",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"clotharmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"ghost",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"cobra",width:28,height:28,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:6,row:8}},offsetX:-6,offsetY:-10},{id:"cockroachsuit",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"coder",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-7},{id:"cokearmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-16},{id:"combatuniform",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"comb",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"conferencecall",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"crab",width:32,height:32,idleSpeed:300,animations:{death:{length:8,row:0},atk_right:{length:7,row:1},walk_right:{length:6,row:2},idle_right:{length:4,row:3},atk_up:{length:8,row:4},idle_up:{length:4,row:5},walk_up:{length:6,row:6},atk_down:{length:8,row:7},walk_down:{length:6,row:8},idle_down:{length:7,row:9}},offsetX:-8,offsetY:-8},{id:"icecrab",width:32,height:32,idleSpeed:300,animations:{death:{length:8,row:0},atk_right:{length:7,row:1},walk_right:{length:6,row:2},idle_right:{length:4,row:3},atk_up:{length:8,row:4},idle_up:{length:4,row:5},walk_up:{length:6,row:6},atk_down:{length:8,row:7},walk_down:{length:6,row:8},idle_down:{length:7,row:9}},offsetX:-8,offsetY:-8},{id:"effect-critical",width:48,height:48,animations:{effect:{length:10,row:0}},offsetX:-17,offsetY:-21},{id:"crystalarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"crystalarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"crystalbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"crystalscolpion",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:6,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8}},offsetX:-24,offsetY:-32},{id:"cursedhahoemask",width:64,height:72,animations:{atk_right:{length:5,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8},"Group 5":{length:3,row:9}},offsetX:-21,offsetY:-49},{id:"cursedjangseung",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-30},{id:"damboarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"darkogre",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:5,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-25},{id:"darkregionillusion",width:42,height:42,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-21},{id:"darkregion",width:42,height:42,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-21},{id:"darkscolpion",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:6,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8}},offsetX:-24,offsetY:-32},{id:"darkskeleton",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:3,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-16,offsetY:-22},{id:"daywalker",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"deathbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"death",width:24,height:24,animations:{death:{length:6,row:0}},offsetX:-4,offsetY:-4},{id:"deathknight",width:42,height:42,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-13,offsetY:-17},{id:"desertnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"desertscorpion",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:6,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8}},offsetX:-24,offsetY:-32},{id:"devilkazyaarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"devilkazya",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"devilkazyasword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"dinosaurarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"doctor",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"dovakinarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"dovakinarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"dragonarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"earthworm",width:48,height:48,animations:{atk_right:{length:6,row:0},walk_right:{length:4,row:1},idle_right:{length:3,row:2},atk_up:{length:6,row:3},walk_up:{length:4,row:4},idle_up:{length:3,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-16,offsetY:-22},{id:"elfnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"eliminator",width:42,height:42,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-21},{id:"enelarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"enel",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"eneltrident",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"evilarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"eye",width:40,height:48,animations:{atk_right:{length:6,row:0},walk_right:{length:4,row:1},idle_right:{length:14,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:14,row:5},atk_down:{length:8,row:6},walk_down:{length:4,row:7},idle_down:{length:14,row:8}},offsetX:-12,offsetY:-18},{id:"fairynpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"fallenarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"fallenarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"firebenef",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:5,row:0},idle_right:{length:5,row:0},atk_up:{length:5,row:0},walk_up:{length:5,row:0},idle_up:{length:5,row:0},atk_down:{length:5,row:0},walk_down:{length:5,row:0},idle_down:{length:5,row:0}},offsetX:-17,offsetY:-21},{id:"firefox",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:5,row:2},atk_up:{length:5,row:3},walk_up:{length:8,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"fireplay",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"fireshot",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"firespider",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-22},{id:"firesword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"firstsonangelnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"fisherman",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"effect-flaredance",width:48,height:48,animations:{effect:{length:4,row:0}},offsetX:-17,offsetY:-21},{id:"flaredeathknight",width:42,height:42,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-13,offsetY:-17},{id:"fluffy",width:28,height:32,animations:{death:{length:1,row:8},atk_right:{length:4,row:7},walk_right:{length:6,row:3},idle_right:{length:1,row:3},atk_up:{length:4,row:6},idle_up:{length:1,row:2},walk_up:{length:6,row:2},atk_down:{length:4,row:4},walk_down:{length:6,row:0},idle_down:{length:1,row:0}},offsetX:-8,offsetY:-8},{id:"forestbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"forestdragon",width:64,height:72,animations:{atk_right:{length:7,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:7,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:7,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8}},offsetX:-30,offsetY:-30},{id:"forestguardiansword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"forestnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"frankensteinarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"friedpotatoarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-16},{id:"frogarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"frog",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:3,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:3,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-8,offsetY:-13},{id:"frostarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"frostqueen",width:48,height:48,animations:{atk_right:{length:6,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:6,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8}},offsetX:-16,offsetY:-22},{id:"gayarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"gayarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"gaybow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"gbwingarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"gbwingarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"ghostrider",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"goblin",width:26,height:26,animations:{atk_right:{length:3,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-9},{id:"goldenarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"goldenarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"platinumarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"goldenbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"goldensword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"platinumsword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"goldgolem",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-24},{id:"goldmedal",width:12,height:12},{id:"pointer",width:32,height:32},{id:"golem",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-17},{id:"greenarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"greenarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"greenbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"greendamboarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"greenfish",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-13},{id:"greenlightbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"greenlightsaber",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"greenpirateskeleton",width:32,height:32,animations:{atk_right:{length:3,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:3,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-8,offsetY:-15},{id:"greenwingarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"greenwingarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"guardarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"guardarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"guardmace",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"guardsword",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"guard",width:25,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-5,offsetY:-8},{id:"guard2",width:32,height:32,animations:{idle_down:{length:2,row:0}},offsetX:-8,offsetY:-12},{id:"royalguard",width:25,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-5,offsetY:-8},{id:"halberd",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"halloweenjkarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"hammer",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"hand",width:14,height:14,animations:{idle_down:{length:1,row:0}}},{id:"effect-heal2",width:32,height:32,animations:{effect:{length:10,row:0}},offsetX:-8,offsetY:-10},{id:"hellspider",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-33},{id:"hermitcrab",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8}},offsetX:-8,offsetY:-10},{id:"hobgoblin",width:32,height:32,animations:{atk_right:{length:3,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-7,offsetY:-13},{id:"hongcheolarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-15},{id:"hongcheol",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-15},{id:"huniarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"hunterbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"iamverycoldnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"iceelfnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"icegolem",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-12},{id:"iceknight",width:42,height:42,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-13,offsetY:-17},{id:"icerose",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"icevulture",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:5,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-25},{id:"infectedguard",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-7,offsetY:-13},{id:"ironbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"ironknightarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"ironogre",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:5,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-25},{id:"item-adhererarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-logs",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-palmlogs",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-icelogs",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-icepalmlogs",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bloodwoodlogs",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-pickle",width:8,height:16,animations:{idle:{length:12,row:0}},offsetX:0,offsetY:0},{id:"item-adhererrobe",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-adminarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-archerarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-archerschooluniform",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-axe",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-rustedaxe",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bamboospear",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bastardsword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bearseonbiarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-beautifullife",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-beearmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-beetlearmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-blackpotion",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-blackspiderarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bloodbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bluedamboarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-piratearmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-greenpiratearmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-purplepiratearmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redpiratearmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bluescimitar",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bluesword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bluewingarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bluewingarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-book",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-breaker",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bridalmask",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-burgerarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-burger",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-butcherknife",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-cactusaxe",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-cake",width:24,height:24,animations:{idle:{length:3,row:0}},offsetX:-4,offsetY:-6},{id:"item-candybar",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-captainbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-catarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-cd",animations:{idle:{length:4,row:0}},offsetX:0,offsetY:0},{id:"item-cheoliarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-cheoliarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-christmasarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-clotharmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-cockroachsuit",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-cokearmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-combatuniform",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-comb",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-conferencecall",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-crystalarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-crystalarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-crystalbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-damboarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-daywalker",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-deathbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-devilkazyaarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-devilkazyasword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-diamondring",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-dinosaurarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-dolring",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-dovakinarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-dovakinarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-dragonarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-emeraldring",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-enelarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-eneltrident",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-essentialrage",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-evilarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-fallenarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-fallenarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-fireplay",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-firepotion",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-fireshot",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-firesword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-manaflask",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bigflask",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-gold",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-mountseadragon",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-mountforestdragon",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-mountwhitetiger",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-forestbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"lightningguardian",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-49},{id:"item-forestguardiansword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-frankensteinarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-friedpotatoarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-frogarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-frostarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-gayarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-gayarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-gaybow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-gbwingarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-gbwingarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-ghostrider",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-goldenarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-goldenarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-goldenbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-goldensword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-goldring",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-greenarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-greenarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-greenbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-greendamboarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-greenlightbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-greenlightsaber",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-greenpendant",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-greenwingarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-greenwingarmor",width:18,height:18,animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-guardarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-guardarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-halberd",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-halloweenjkarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-hammer",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-hongcheolarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-huniarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-hunterbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-icerose",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-ironbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-ironknightarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-justicebow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-justicehammer",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-leatherarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-leatherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-legolasarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-loveactring",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-machete",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-magicspear",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-mailarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-mailarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-marblependant",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-marinebow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-memme",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-mermaidbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-miniseadragonarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-morningstar",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-ninjaarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-paewoldo",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-paladinarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-pearlpendant",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-pearlring",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-pendant1",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-pinkcockroacharmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-pinksword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-piratearcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-blackpiratearcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-greenpiratearcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-purplepiratearcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redpiratearcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-pirateking",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-plasticbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-platearcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-platearmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-plunger",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-portalarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-powerarmour",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-powersword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-purplecloudkallege",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-rabbitarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-radisharmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-rainbowapro",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-rainbowsword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-ratarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-ratarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bluearmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-reddamboarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redenelbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redguardarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redguardarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redlightbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redlightsaber",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redmetalbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redmetalsword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redsicklebow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redsickle",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redsword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-icesword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redwingarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redwingarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-regionarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-ring1",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-robocoparmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-rosebow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-rose",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-royalazalea",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-rubyring",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-rudolfarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-sapphirering",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-schooluniform",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-scimitar",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-seadragonarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-seahorsebow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-searage",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-shadowregionarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-sicklebow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-sickle",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-sidesword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-skylightbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-skylightsaber",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-snowfoxarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-snowfoxarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-snowmanarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-snowpotion",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-spear",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-spiritring",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-sproutring",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-squeakyhammer",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-squidarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-sword1",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-sword2",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-taekwondo",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-tamagotchiring",width:22,height:16,animations:{idle:{length:5,row:0}},offsetX:0,offsetY:0},{id:"item-thiefarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-tigerarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-topazring",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-trident",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-typhoon",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-violetbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-watermelonbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-staff",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-lightningstaff",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-naturestaff",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-firestaff",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-icestaff",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-whip",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-whitearcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-whitearmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-wizardrobe",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-wolfarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-wolfarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-woodenbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"jirisanmoonbear",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-26},{id:"justicebow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"justicehammer",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"kaonashi",width:48,height:48,animations:{atk_right:{length:4,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-22},{id:"king",width:32,height:32,animations:{idle_down:{length:2,row:0}},offsetX:-8,offsetY:-12},{id:"lavanpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"leatherarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"leatherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"legolasarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"windguardian",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-49},{id:"livingarmor",width:32,height:32,animations:{atk_right:{length:3,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-7,offsetY:-13},{id:"loot",width:14,height:14,animations:{idle_down:{length:1,row:0}}},{id:"machete",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"magicspear",width:52,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-19,offsetY:-21},{id:"mailarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"mailarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"item-flask",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-shardt1",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-shardt2",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-shardt3",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-shardt4",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-shardt5",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-orange",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-watermelon",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-apple",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-banana",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"mantis",width:42,height:42,animations:{atk_right:{length:6,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-21},{id:"marinebow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"memme",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"mermaidbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"mermaid",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8}},offsetX:-5,offsetY:-13},{id:"mermaidnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"mimic",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:1,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:1,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:1,row:8}},offsetX:-8,offsetY:-11},{id:"minidragon",width:32,height:48,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8}},offsetX:-8,offsetY:-22},{id:"miniemperor",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"miniiceknight",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"miniknight",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"miniseadragonarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"miniseadragon",width:32,height:48,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8}},offsetX:-8,offsetY:-22},{id:"mojojojonpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"moleking",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8}},offsetX:-5,offsetY:-13},{id:"momangelnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"morningstar",width:38,height:38,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-11,offsetY:-15},{id:"nightmareregion",width:42,height:42,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-21},{id:"ninjaarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"nyan",width:49,height:24,animations:{idle_down:{length:6,row:0}},offsetX:-22,offsetY:-6},{id:"octocat",width:32,height:32,animations:{idle_down:{length:4,row:0}},offsetX:-8,offsetY:-12},{id:"octopus",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"oddeyecat",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"ogre",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:5,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-24},{id:"ogrelord",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:5,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-25},{id:"oldogre",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:5,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-25},{id:"orc",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-13},{id:"paewoldo",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"pain",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"paladinarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"penguin",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:5,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-25},{id:"pierrot",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-13},{id:"pinkcockroacharmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"pinkelf",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"pinksword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"piratearcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"blackpiratearcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"greenpiratearcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"purplepiratearcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"redpiratearcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"piratecaptain",width:64,height:64,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-36},{id:"pirategirlnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"pirateking",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"pirateskeleton",width:32,height:32,animations:{atk_right:{length:3,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:3,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-5,offsetY:-13},{id:"plasticbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"platearcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"platearmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"plunger",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"poisonspider",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-22},{id:"portalarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"powerarmour",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"powersword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"preta",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:3,row:4},idle_up:{length:4,row:5},atk_down:{length:4,row:6},walk_down:{length:3,row:7},idle_down:{length:4,row:8}},offsetX:-5,offsetY:-13},{id:"priest",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"effect-provocation",width:32,height:64,animations:{effect:{length:10,row:0}},offsetX:-8,offsetY:-42},{id:"purplecloudkallege",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"purplepreta",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:3,row:4},idle_up:{length:4,row:5},atk_down:{length:4,row:6},walk_down:{length:3,row:7},idle_down:{length:4,row:8}},offsetX:-5,offsetY:-13},{id:"queenant",width:64,height:72,animations:{atk_right:{length:5,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-54},{id:"queenspider",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-13},{id:"rabbitarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"radisharmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-17},{id:"rainbowapro",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"rainbowsword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"ratarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"ratarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"rat",width:48,height:48,idleSpeed:250,animations:{death:{length:4,row:0},atk_right:{length:6,row:1},walk_right:{length:3,row:2},idle_right:{length:2,row:3},atk_up:{length:4,row:4},walk_up:{length:4,row:5},idle_up:{length:4,row:6},atk_down:{length:4,row:7},walk_down:{length:4,row:8},idle_down:{length:4,row:9}}},{id:"icerat",width:48,height:48,idleSpeed:200,animations:{death:{length:4,row:0},atk_right:{length:6,row:1},walk_right:{length:3,row:2},idle_right:{length:2,row:3},atk_up:{length:4,row:4},walk_up:{length:4,row:5},idle_up:{length:4,row:6},atk_down:{length:4,row:7},walk_down:{length:4,row:8},idle_down:{length:4,row:9}}},{id:"redarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"redarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"bluearmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"redbikinigirlnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"redbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"redcockroach",width:42,height:42,animations:{atk_right:{length:3,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:3,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:3,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-21},{id:"reddamboarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"redelf",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"redenelbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"redfish",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-13},{id:"redguardarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"redguardarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"redguard",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"redlightbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"redlightsaber",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"redmetalbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"redmetalsword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"redmouse",width:26,height:26,animations:{atk_right:{length:3,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-8},{id:"redpirateskeleton",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:3,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-16,offsetY:-23},{id:"redsicklebow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"redsickle",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"redstoremannpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"redsword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"icesword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"redwingarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"redwingarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"regionarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"regionhenchman",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:5,row:7},idle_down:{length:2,row:8}},offsetX:-24,offsetY:-39},{id:"rhaphidophoridae",width:48,height:48,animations:{atk_right:{length:6,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-22},{id:"rick",width:32,height:32,animations:{idle_down:{length:4,row:0}},offsetX:-8,offsetY:-12},{id:"robocoparmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"rosebow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"rose",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"rudolfarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-16},{id:"rudolf",width:42,height:42,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-21},{id:"santaelf",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"santa",width:64,height:72,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-24,offsetY:-55},{id:"schooluniform",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"scientist",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"scimitar",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"seadragonarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"seadragon",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-39},{id:"seahorsebow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"searage",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"secondsonangelnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"shadow16",width:16,height:16},{id:"shadowregionarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"shadowregion",width:42,height:42,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-21},{id:"shepherdboy",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"shieldbenef",width:32,height:30,animations:{atk_right:{length:8,row:0},walk_right:{length:8,row:0},idle_right:{length:8,row:0},atk_up:{length:8,row:0},walk_up:{length:8,row:0},idle_up:{length:8,row:0},atk_down:{length:8,row:0},walk_down:{length:8,row:0},idle_down:{length:8,row:0}},offsetX:-6,offsetY:-10},{id:"sicklebow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"sickle",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"sidesword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-25},{id:"silvermedal",width:12,height:12},{id:"skeleton2",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-16,offsetY:-20},{id:"skeleton",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:3,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-16,offsetY:-20},{id:"skeletonking",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:3,row:1},idle_right:{length:4,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-36},{id:"skydinosaur",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:5,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-49},{id:"skyelf",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"skylightbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"skylightsaber",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"slime",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-6,offsetY:-12},{id:"smalldevil",width:42,height:42,animations:{atk_right:{length:4,row:0},walk_right:{length:2,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:2,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:2,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-16},{id:"snek",width:28,height:28,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:6,row:8}},offsetX:-6,offsetY:-10},{id:"snowelf",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"snowfoxarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"snowfoxarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"snowlady",width:48,height:48,animations:{atk_right:{length:4,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-25},{id:"snowmanarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"snowman",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:3,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:3,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-5,offsetY:-13},{id:"snowrabbit",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-13},{id:"snowshepherdboy",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"snowwolf",width:42,height:42,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-21},{id:"soldierant",width:48,height:48,animations:{atk_right:{length:4,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-27},{id:"soldier",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"sorcerer",width:26,height:26,animations:{idle_down:{length:6,row:0}},offsetX:-5,offsetY:-9},{id:"soybeanbug",width:48,height:48,animations:{atk_right:{length:6,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-30},{id:"sparks",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"spear",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"spectre",width:34,height:34,animations:{atk_right:{length:8,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:8,row:4},idle_up:{length:8,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-9,offsetY:-13},{id:"spider",width:35,height:35,animations:{death:{length:1,row:8},atk_right:{length:2,row:7},walk_right:{length:5,row:3},idle_right:{length:1,row:3},atk_up:{length:2,row:6},idle_up:{length:1,row:2},walk_up:{length:5,row:2},atk_down:{length:2,row:4},walk_down:{length:5,row:0},idle_down:{length:1,row:0}},offsetX:-8,offsetY:-8},{id:"sponge",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"squeakyhammer",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"squidarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"squid",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-30},{id:"effect-stun",width:48,height:48,animations:{effect:{length:6,row:0}},offsetX:-15,offsetY:-38},{id:"suicideghost",width:48,height:48,animations:{atk_right:{length:6,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-30},{id:"effect-supercat",width:32,height:64,animations:{effect:{length:10,row:0}},offsetX:-8,offsetY:-42},{id:"superiorangelnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"sword1",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"sword2",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"sword",width:14,height:14,animations:{idle_down:{length:1,row:0}}},{id:"taekwondo",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"talk",width:14,height:14,animations:{idle_down:{length:1,row:0}}},{id:"axe_cursor",width:14,height:14,animations:{idle_down:{length:1,row:0}}},{id:"target",animations:{move:{length:4,row:0},atk:{length:4,row:1}}},{id:"thiefarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"tigerarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"trident",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"typhoon",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"vampire",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"vendingmachine",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"villagegirl",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"villager",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"violetbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"vulture",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:5,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-25},{id:"watermelonbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"staff",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"lightningstaff",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"naturestaff",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"firestaff",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"icestaff",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"whip",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"whitearcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"whitearmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"whitebear",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-22},{id:"whitemouse",width:26,height:26,animations:{atk_right:{length:3,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-8},{id:"whitetiger",width:64,height:72,animations:{atk_right:{length:5,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:6,row:4},idle_up:{length:4,row:5},atk_down:{length:5,row:6},walk_down:{length:6,row:7},idle_down:{length:4,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-54},{id:"wizard",width:26,height:26,animations:{death:{length:3,row:0},atk_right:{length:4,row:1},atk_up:{length:4,row:2},atk_down:{length:4,row:3},walk_right:{length:4,row:4},walk_up:{length:4,row:5},walk_down:{length:4,row:6},idle_right:{length:6,row:7},idle_up:{length:6,row:8},idle_down:{length:6,row:9}},offsetX:-5,offsetY:-9},{id:"wizardrobe",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"wolfarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"wolfarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"wolf",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:3,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:3,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-8,offsetY:-13},{id:"woodenbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"yellowbat",width:32,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:5,row:1},idle_right:{length:5,row:2},atk_up:{length:5,row:3},walk_up:{length:5,row:4},idle_up:{length:5,row:5},atk_down:{length:5,row:6},walk_down:{length:5,row:7},idle_down:{length:5,row:8}},offsetX:-8,offsetY:-24},{id:"yellowfish",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-13},{id:"yellowmouse",width:26,height:26,animations:{atk_right:{length:3,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-8},{id:"yellowpreta",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:3,row:4},idle_up:{length:4,row:5},atk_down:{length:4,row:6},walk_down:{length:3,row:7},idle_down:{length:4,row:8}},offsetX:-5,offsetY:-13},{id:"zombiegf",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"zombie",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"redbikinigirlnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"item-armorbinding",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-armorcommon",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-armorpatches",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-armorrare",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-armoruncommon",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-branch",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-cloth",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-element",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-leaf",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-mineral",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-rock",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-seed",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-weaponblade",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-weaponcommon",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-weaponhilt",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-weaponrare",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-weaponuncommon",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-bowcommon",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-bowlimb",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-bowrare",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-bowstring",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-bowuncommon",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-wood",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"projectile-fireball",idleSpeed:75,width:48,height:48,animations:{travel:{length:8,row:0}},offsetX:-24,offsetY:-24,offsetAngle:180},{id:"projectile-fireball2",idleSpeed:75,width:48,height:48,animations:{travel:{length:8,row:0}},offsetX:-24,offsetY:-24,offsetAngle:180},{id:"projectile-iceball",idleSpeed:75,width:48,height:48,animations:{travel:{length:8,row:0}},offsetX:-24,offsetY:-24,offsetAngle:180},{id:"projectile-bluelightning",width:50,height:50,animations:{travel:{length:8,row:0}},offsetX:-18,offsetY:-17},{id:"projectile-redlightning",width:50,height:50,animations:{travel:{length:8,row:0}},offsetX:-18,offsetY:-17},{id:"projectile-greenbolt",width:50,height:50,animations:{travel:{length:8,row:0}},offsetX:-18,offsetY:-17},{id:"projectile-purplebolt",width:50,height:50,animations:{travel:{length:8,row:0}},offsetX:-18,offsetY:-17},{id:"projectile-yellowlightning",width:50,height:50,animations:{travel:{length:8,row:0}},offsetX:-18,offsetY:-17},{id:"projectile-poisonball",width:50,height:50,animations:{travel:{length:8,row:0}},offsetX:-18,offsetY:-17},{id:"projectile-boulder",idleSpeed:75,width:32,height:32,animations:{travel:{length:8,row:0}},offsetX:-16,offsetY:-16,offsetAngle:-45},{id:"projectile-pinearrow",idleSpeed:75,width:24,height:24,animations:{travel:{length:1,row:0}},offsetX:-12,offsetY:-12,offsetAngle:180},{id:"projectile-none",idleSpeed:75,width:64,height:64,animations:{travel:{length:1,row:0}},offsetX:-32,offsetY:-32,offsetAngle:0},{id:"projectile-tornado",idleSpeed:75,width:48,height:64,animations:{travel:{length:8,row:0}},offsetX:-29,offsetY:-37,offsetAngle:0},{id:"projectile-terror",idleSpeed:75,width:64,height:64,animations:{travel:{length:8,row:0}},offsetX:-32,offsetY:-32,offsetAngle:180},{id:"projectile-gift",idleSpeed:75,width:32,height:32,animations:{travel:{length:4,row:0}},offsetX:-16,offsetY:-24,offsetAngle:0},{id:"projectile-gift2",idleSpeed:75,width:32,height:32,animations:{travel:{length:4,row:0}},offsetX:-16,offsetY:-24,offsetAngle:0},{id:"projectile-gift3",idleSpeed:75,width:32,height:32,animations:{travel:{length:4,row:0}},offsetX:-16,offsetY:-24,offsetAngle:0},{id:"projectile-gift4",idleSpeed:75,width:32,height:32,animations:{travel:{length:4,row:0}},offsetX:-16,offsetY:-24,offsetAngle:0},{id:"projectile-gift5",idleSpeed:75,width:32,height:32,animations:{travel:{length:4,row:0}},offsetX:-16,offsetY:-24,offsetAngle:0},{id:"projectile-gift6",idleSpeed:75,width:32,height:32,animations:{travel:{length:4,row:0}},offsetX:-16,offsetY:-24,offsetAngle:0},{id:"effect-fireball",width:48,height:48,animations:{effect:{length:8,row:0}},offsetX:-17,offsetY:-16},{id:"effect-poisonball",width:40,height:40,animations:{effect:{length:10,row:0}},offsetX:-13,offsetY:-14},{id:"effect-burn",width:16,height:16,animations:{effect:{length:4,row:0}},offsetX:0,offsetY:0},{id:"effect-freeze",width:16,height:16,animations:{effect:{length:4,row:0}},offsetX:0,offsetY:0},{id:"effect-lavaball",width:48,height:48,animations:{effect:{length:8,row:0}},offsetX:-16,offsetY:-24},{id:"effect-heal",width:48,height:48,animations:{effect:{length:8,row:0}},offsetX:-16,offsetY:-16},{id:"effect-iceball",width:48,height:48,animations:{effect:{length:9,row:0}},offsetX:-18,offsetY:-15},{id:"effect-boulder",width:32,height:32,animations:{effect:{length:7,row:0}},offsetX:-9,offsetY:-12},{id:"spell",animations:{idle_down:{length:1,row:0}}},{id:"bow",animations:{idle_down:{length:1,row:0}}},{id:"effect-terror",width:64,height:64,animations:{effect:{length:8,row:0}},offsetX:-24,offsetY:-32},{id:"icegoblin",width:32,height:32,animations:{atk_right:{length:3,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-7,offsetY:-13}];class dM{constructor(e){_(this,"id");_(this,"name");_(this,"type");_(this,"loaded",!1);_(this,"loadHurt",!1);_(this,"offsetX",0);_(this,"offsetY",0);_(this,"hurtSprite",{loaded:!1});_(this,"image");_(this,"filepath");_(this,"animationData");_(this,"width");_(this,"height");_(this,"idleSpeed");_(this,"hasDeathAnimation");this.sprite=e,this.id=e.id}load(){this.image=new Image;let{image:e,filepath:n}=this;e.crossOrigin="Anonymous",e.src=n,e.addEventListener("load",()=>{var a;let{loadHurt:i}=this;this.loaded=!0,i&&this.createHurtSprite(),(a=this.loadCallback)==null||a.call(this)})}loadSprite(){var a,l,u,g;let{sprite:e,id:n}=this,i=`/img/sprites/${n}.png`;this.filepath=i,this.animationData=e.animations,this.width=(a=e.width)!=null?a:vt.tileSize,this.height=(l=e.height)!=null?l:vt.tileSize,this.offsetX=(u=e.offsetX)!=null?u:-vt.tileSize,this.offsetY=(g=e.offsetY)!=null?g:-vt.tileSize,this.idleSpeed=e.idleSpeed||450}createAnimations(){let{animationData:e,width:n,height:i}=this,a={};for(let l in e){if(!Object.prototype.hasOwnProperty.call(e,l))continue;l==="death"&&(this.hasDeathAnimation=!0);let{length:u,row:g}=e[l];a[l]=new Gn(l,u,g,n,i)}return a}createHurtSprite(){if(this.loaded||this.load(),this.hurtSprite.loaded)return;let e=document.createElement("canvas"),n=e.getContext("2d"),i;e.width=this.image.width,e.height=this.image.height;try{n.drawImage(this.image,0,0,this.image.width,this.image.height),i=n.getImageData(0,0,this.image.width,this.image.height);for(let a=0;a<i.data.length;a+=4)i.data[a]=255,i.data[a+1]=i.data[a+2]=75;n.putImageData(i,0,0),this.hurtSprite={image:e,name:"hurt",loaded:!0,offsetX:this.offsetX,offsetY:this.offsetY,width:this.width,height:this.height,type:"hurt"}}catch(a){ce.error("Could not load hurt sprite.",a)}}onLoad(e){this.loadCallback=e}}class uM{constructor(){_(this,"sprites",{});_(this,"sparksAnimation",new Gn("idle_down",6,0,16,16));this.sparksAnimation.setSpeed(120),this.load()}load(){for(let e of hM){let n=new dM(e);n.loadSprite(),this.sprites[e.id]=n}ce.debug("Finished loading sprite data..."),this.preloadSprites()}preloadSprites(){this.get("death").load()}get(e){return this.sprites[e]}getDeath(){return this.get("death")}}class fM{constructor(){_(this,"direction")}reset(){this.direction=null}setUp(){this.direction=Xt.Up}setDown(){this.direction=Xt.Down}setRight(){this.direction=Xt.Right}setLeft(){this.direction=Xt.Left}getDirection(){return this.direction}}class gM{constructor(e,n){_(this,"lastStepX",-1);_(this,"lastStepY",-1);_(this,"map");_(this,"camera");_(this,"input");_(this,"entities");_(this,"socket");_(this,"renderer");this.game=e,this.player=n,this.map=e.map,this.camera=e.camera,this.input=e.input,this.entities=e.entities,this.socket=e.socket,this.renderer=e.renderer,this.load()}load(){let{player:e,game:n,map:i,camera:a,input:l,entities:u,socket:g,renderer:S,lastStepX:v,lastStepY:A}=this;e.onRequestPath((Y,X)=>{var j;if(e.dead||e.frozen)return null;let M=i.isObject(Y,X),q=[];return!i.isColliding(Y,X)&&!M&&g.send(gt.Movement,{opcode:Wi.Request,requestX:Y,requestY:X,playerX:e.gridX,playerY:e.gridY,targetInstance:(j=e.target)==null?void 0:j.instance,following:e.following}),M&&q.push({hasPath(){return!1},gridX:Y,gridY:X}),n.findPath(e,Y,X,q)}),e.onStartPathing(Y=>{var M;let X=Y.length-1;e.moving=!0,[l.selectedX,l.selectedY]=Y[X],l.selectedCellVisible=!0,g.send(gt.Movement,{opcode:Wi.Started,requestX:l.selectedX,requestY:l.selectedY,playerX:e.gridX,playerY:e.gridY,movementSpeed:e.movementSpeed,targetInstance:(M=e.target)==null?void 0:M.instance})}),e.onStopPathing((Y,X)=>{var q,j;u.registerPosition(e),l.selectedCellVisible=!1,a.clip();let M=((q=e.target)==null?void 0:q.instance)||((j=n.getEntityAt(Y,X))==null?void 0:j.instance);g.send(gt.Movement,{opcode:Wi.Stop,playerX:Y,playerY:X,targetInstance:M,orientation:e.orientation}),g.send(gt.Target,[this.getTargetType(),e.target?e.target.instance:""]),e.target&&(e.lookAt(e.target),e.target.isObject()&&e.removeTarget(),e.disableAction=!0),l.setPassiveTarget(),n.storage.setOrientation(e.orientation),e.hasKeyboardMovement()||n.renderer.resetAnimatedTiles(),e.moving=!1}),e.onBeforeStep(()=>u.unregisterPosition(e)),e.onStep(()=>{e.hasNextStep()&&u.registerPosition(e),(!a.isCentered()||a.lockX||a.lockY)&&this.checkBounds(),!(v===e.gridX&&A===e.gridY)&&(g.send(gt.Movement,{opcode:Wi.Step,playerX:e.gridX,playerY:e.gridY}),v=e.gridX,A=e.gridY,e.canAttackTarget()&&e.stop(!0))}),e.onSecondStep(()=>S.updateAnimatedTiles()),e.onMove(()=>{a.isCentered()&&a.centreOn(e)})}isAttackable(){let{target:e}=this.player;return e?e.isMob()||e.isPlayer()&&this.game.pvp:!1}checkBounds(){let{player:e,camera:n,game:i,socket:a,renderer:l}=this,{zoning:u}=i;if(!u)return;let g=e.gridX-n.gridX,S=e.gridY-n.gridY;if(g===0?u.setLeft():S===0?u.setUp():g===n.gridWidth-2?u.setRight():S===n.gridHeight-2&&u.setDown(),u.direction!==null){let v=u.getDirection();n.zone(v),a.send(gt.Movement,{opcode:Wi.Zone,direction:v}),l.updateAnimatedTiles(),u.reset()}}getTargetType(){let{target:e}=this.player;return e?this.isAttackable()?Fo.Attack:e.isNPC()||e.isChest()?Fo.Talk:e.isObject()?Fo.Object:Fo.None:Fo.None}}const cM=960,wM=672,pM=16,_M=1673495534821,mM=[5,18,19,20,132,133,134,135,136,137,138,139,185,186,187,193,196,197,198,199,200,201,202,203,321,646,647,648,653,654,655,656,709,710,711,712,713,717,718,719,720,739,740,772,773,774,775,776,777,778,781,782,783,784,802,803,804,805,845,848,865,866,867,868,869,870,897,898,928,929,930,931,932,933,934,935,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,961,962,1036,1037,1100,1101,1109,1110,1111,1173,1174,1175,1217,1218,1219,1281,1282,1283,1434,1435,1437,1438,1439,1446,1447,1448,1510,1511,1512,1537,1538,1665,1793,1901,1914,1915,1916,1921,1922,1923,1938,1939,1941,1942,1943,1985,1986,1987,2001,2002,2003,2004,2005,2006,2007,2021,2022,2023,2065,2066,2067,2068,2069,2070,2071,2085,2086,2087,2089,2133,2158,2160,2217,2221,2222,2223,2224,2225,2241,2242,2243,2244,2285,2286,2287,2288,2289,2290,2291,2305,2306,2307,2308,2349,2350,2351,2352,2353,2354,2355,2369,2370,2371,2372,2385,2386,2387,2389,2390,2391,2429,2430,2431,2432,2453,2454,2455,2493,2494,2495,2496,2497,2498,2499,2500,2511,2549,2550,2551,2552,2557,2558,2559,2560,2561,2562,2564,2574,2575,2576,2613,2614,2615,2616,2638,2639,2640,2671,2673,2677,2678,2679,2680,2709,2710,2711,2712,2734,2735,2736,2737,2738,2741,2744,2773,2774,2775,2776,2793,2794,2796,2797,2798,2799,2800,2801,2802,2821,2822,2823,2837,2838,2839,2840,2857,2858,2860,2861,2862,2863,2864,2865,2866,2924,2925,2926,2927,2928,2929,2930,2931,2932,2933,2979,2988,2989,2990,2991,2992,2993,2994,2995,2996,2997,3042,3043,3044,3106,3107,3108,3113,3114,3115,3177,3178,3179,3289,3290,3291,3433,3434,3561,3562,3710,3711,3712,3774,3775,3776,3996,5199,5200,5262,5263,5264,5265,5271,5272,5275,5276,5325,5326,5327,5328,5329,5330,5335,5336,5388,5389,5390,5391,5392,5393,5394,5395,5569,5570,5571,5633,5634,5635,5697,5698,5699,5906,5907,5908,5970,5971,5972,6401,6402,6403,6465,6466,6467,6481,6482,6483,6529,6530,6531,6593,7110,7111,7112,7126,7127,7128,7129,7134,7135,7136,7137,7138,7139,7140,7141,7144,7173,7174,7175,7176,7190,7191,7192,7193,7198,7199,7200,7201,7202,7203,7204,7205,7237,7238,7239,7240,7241,7242,7243,7244,7369,7370,7371,7372,7433,7434,7435,7436,7497,7498,7499,7500,7621,7685,7693,7749,7757,9613,9614,9615,9616,9617,9618,9619,9677,9678,9679,9680,9681,9682,9683,13819,13884,13929,13930,13931,13932,13933,13934,13935,13936,13937,13938,13939,13940,13948,13993,13994,13995,13996,13997,13998,13999,14e3,14001,14002,14004,14005,14012,14070,14076,14134,14140,14198,14204,14268,14326,14332,14390,14396,14454,14521,14523,14585,14586,14587,16425,16426,16427,16428,16429,16451,16452,16489,16490,16491,16492,16493,16513,16514,16515,16516,16517,16518,16553,16554,16555,16556,16557,16577,16578,16579,16580,16581,16582,16617,16618,16619,16620,16621,16641,16642,16643,16644,16645,16705,16706,16707,16708,16709,17039,17040,17094,17224,17225,17226,17227,17228,17229,17230,17231,17288,17289,17290,17291,17292,17293,17294,17295,17352,17353,17354,17355,17356,17416,17417,17418,17419,17494,17495,17557,17558,17559,17560,17561,17562,17563,17564,17621,17622,17623,17624,17625,17626,17627,17628,17630,17631,17632,17634,17635,17636,17637,17665,17666,17667,17668,17669,17670,17671,17685,17686,17687,17688,17689,17690,17691,17692,17693,17694,17695,17696,17697,17698,17699,17700,17701,17702,17729,17730,17731,17732,17733,17734,17735,17757,17758,17759,17760,17761,17762,17763,17764,17765,17766,17793,17794,17795,17796,17797,17798,17799,17821,17825,17826,17827,17828,17829,18017,18018,18019,18020,18021,18022,18081,18082,18083,18084,18085,18145,18146,18147,18148,18209,18212,18305,18306,18307,18369,18370,18371,18390,18391,18394,18395,18398,18454,18455,18457,18458,18459,18460,18461,18462,18463,18517,18518,18519,18520,18521,18522,18523,18524,18525,18526,18527,18528,18563,18564,18565,18566,18567,18568,18569,18581,18582,18583,18584,18585,18586,18587,18588,18589,18590,18591,18592,18627,18628,18629,18630,18631,18632,18633,18634,18645,18646,18647,18648,18649,18650,18651,18652,18653,18654,18655,18656,18753,18754,18762,18763,18765,18766,18915,18916,18917,19021,19022,19023,19024,19025,19026,19027,19028,19085,19086,19087,19088,19089,19090,19091,19092,19101,19102,19103,19104,19105,19165,19166,19167,19168,19169,19213,19216,19217,19220,19302,19303,19304,19405,19406,19407,19842,19843,19906,19907,19916,19917,19918,19969,19970,19971,19972,19973,19974,19975,19976,19978,19979,19980,19981,19982,19983,20033,20034,20035,20036,20037,20038,20039,20040,20042,20043,20044,20045,20046,20047,20106,20107,20108,20109,20110,20743,20744,20745,20806,20807,20808,20809,20810,20869,20870,20871,20872,20873,20874,20875,20933,20934,20935,20936,20937,20938,20939],kM={0:0,1:4096,2:8192,3:12288,4:16384,5:20740},vM={1:[{duration:150,tileId:0},{duration:150,tileId:1},{duration:150,tileId:2}],37:[{duration:200,tileId:36},{duration:200,tileId:37},{duration:200,tileId:38},{duration:200,tileId:39}],95:[{duration:200,tileId:94},{duration:200,tileId:95},{duration:200,tileId:96},{duration:200,tileId:97},{duration:200,tileId:98},{duration:200,tileId:99}],101:[{duration:200,tileId:100},{duration:200,tileId:101},{duration:200,tileId:102},{duration:200,tileId:103}],159:[{duration:200,tileId:158},{duration:200,tileId:159},{duration:200,tileId:160},{duration:200,tileId:161},{duration:200,tileId:162},{duration:200,tileId:163}],223:[{duration:200,tileId:222},{duration:200,tileId:223},{duration:200,tileId:224},{duration:200,tileId:225}],287:[{duration:200,tileId:286},{duration:200,tileId:287},{duration:200,tileId:288},{duration:200,tileId:289}],351:[{duration:200,tileId:350},{duration:200,tileId:351},{duration:200,tileId:352},{duration:200,tileId:353}],570:[{duration:150,tileId:569},{duration:150,tileId:570},{duration:150,tileId:571},{duration:150,tileId:572},{duration:150,tileId:573},{duration:150,tileId:574}],597:[{duration:200,tileId:596},{duration:200,tileId:597},{duration:200,tileId:598},{duration:200,tileId:599},{duration:200,tileId:600},{duration:200,tileId:601},{duration:200,tileId:602},{duration:200,tileId:603},{duration:200,tileId:604},{duration:200,tileId:605},{duration:200,tileId:606},{duration:200,tileId:607},{duration:200,tileId:608},{duration:200,tileId:609},{duration:200,tileId:610},{duration:200,tileId:611},{duration:200,tileId:612}],634:[{duration:150,tileId:633},{duration:150,tileId:634},{duration:150,tileId:635},{duration:150,tileId:636},{duration:150,tileId:637},{duration:150,tileId:638}],661:[{duration:200,tileId:660},{duration:200,tileId:661},{duration:200,tileId:662},{duration:200,tileId:663},{duration:200,tileId:664},{duration:200,tileId:665},{duration:200,tileId:666},{duration:200,tileId:667},{duration:200,tileId:668},{duration:200,tileId:669},{duration:200,tileId:670},{duration:200,tileId:671},{duration:200,tileId:672},{duration:200,tileId:673},{duration:200,tileId:674}],762:[{duration:150,tileId:761},{duration:150,tileId:762},{duration:150,tileId:763},{duration:150,tileId:764},{duration:150,tileId:765},{duration:150,tileId:766}],769:[{duration:150,tileId:768},{duration:150,tileId:769},{duration:150,tileId:770}],826:[{duration:150,tileId:825},{duration:150,tileId:826},{duration:150,tileId:827},{duration:150,tileId:828},{duration:150,tileId:829},{duration:150,tileId:830}],917:[{duration:200,tileId:916},{duration:200,tileId:917},{duration:200,tileId:918}],954:[{duration:150,tileId:953},{duration:150,tileId:954},{duration:150,tileId:955},{duration:150,tileId:956},{duration:150,tileId:957},{duration:150,tileId:958}],981:[{duration:200,tileId:980},{duration:200,tileId:981},{duration:200,tileId:982}],1018:[{duration:150,tileId:1017},{duration:150,tileId:1018},{duration:150,tileId:1019},{duration:150,tileId:1020},{duration:150,tileId:1021},{duration:150,tileId:1022}],1178:[{duration:200,tileId:1177},{duration:200,tileId:1178},{duration:200,tileId:1179},{duration:200,tileId:1180},{duration:200,tileId:1181},{duration:200,tileId:1182}],1210:[{duration:150,tileId:1209},{duration:150,tileId:1210},{duration:150,tileId:1211},{duration:150,tileId:1212},{duration:150,tileId:1213},{duration:150,tileId:1214}],1274:[{duration:150,tileId:1273},{duration:150,tileId:1274},{duration:150,tileId:1275},{duration:150,tileId:1276},{duration:150,tileId:1277},{duration:150,tileId:1278}],1621:[{duration:200,tileId:1620},{duration:200,tileId:1621},{duration:200,tileId:1622}],1685:[{duration:200,tileId:1684},{duration:200,tileId:1685},{duration:200,tileId:1686}],1691:[{duration:200,tileId:1690},{duration:200,tileId:1691},{duration:200,tileId:1692}],1813:[{duration:100,tileId:1812},{duration:100,tileId:1813},{duration:100,tileId:1814},{duration:100,tileId:1815},{duration:100,tileId:1816},{duration:100,tileId:1817},{duration:100,tileId:1818},{duration:100,tileId:1819},{duration:100,tileId:1820},{duration:100,tileId:1821},{duration:100,tileId:1822},{duration:100,tileId:1823},{duration:100,tileId:1824},{duration:100,tileId:1825},{duration:100,tileId:1826},{duration:100,tileId:1827},{duration:100,tileId:1828},{duration:100,tileId:1829},{duration:100,tileId:1830}],1877:[{duration:100,tileId:1876},{duration:100,tileId:1877},{duration:100,tileId:1878},{duration:100,tileId:1879},{duration:100,tileId:1880},{duration:100,tileId:1881},{duration:100,tileId:1882},{duration:100,tileId:1883},{duration:100,tileId:1884},{duration:100,tileId:1885},{duration:100,tileId:1886},{duration:100,tileId:1887},{duration:100,tileId:1888},{duration:100,tileId:1889},{duration:100,tileId:1890},{duration:100,tileId:1891},{duration:100,tileId:1892},{duration:100,tileId:1893},{duration:100,tileId:1894}],1897:[{duration:200,tileId:1896},{duration:200,tileId:1897},{duration:200,tileId:1898}],1926:[{duration:400,tileId:1925},{duration:400,tileId:1926},{duration:400,tileId:1927}],1990:[{duration:400,tileId:1989},{duration:400,tileId:1990}],2054:[{duration:400,tileId:2053},{duration:400,tileId:2054}],2246:[{duration:200,tileId:2245},{duration:200,tileId:2246},{duration:200,tileId:2247},{duration:200,tileId:2248}],2310:[{duration:200,tileId:2309},{duration:200,tileId:2310},{duration:200,tileId:2311},{duration:200,tileId:2312}],2376:[{duration:300,tileId:2375},{duration:300,tileId:2376}],2394:[{duration:400,tileId:2393},{duration:400,tileId:2394},{duration:400,tileId:2395}],2458:[{duration:400,tileId:2457},{duration:400,tileId:2458}],2522:[{duration:400,tileId:2521},{duration:400,tileId:2522}],2665:[{duration:200,tileId:2664},{duration:200,tileId:2665},{duration:200,tileId:2666}],2714:[{duration:150,tileId:2713},{duration:150,tileId:2714},{duration:150,tileId:2715},{duration:150,tileId:2716}],2778:[{duration:200,tileId:2777},{duration:200,tileId:2778},{duration:200,tileId:2779},{duration:200,tileId:2780}],2844:[{duration:300,tileId:2843},{duration:300,tileId:2844}],3201:[{duration:200,tileId:3200},{duration:200,tileId:3201},{duration:200,tileId:3202},{duration:200,tileId:3203}],3265:[{duration:200,tileId:3264},{duration:200,tileId:3265},{duration:200,tileId:3266},{duration:200,tileId:3267}],3329:[{duration:200,tileId:3328},{duration:200,tileId:3329},{duration:200,tileId:3330},{duration:200,tileId:3331}],3393:[{duration:200,tileId:3392},{duration:200,tileId:3393},{duration:200,tileId:3394},{duration:200,tileId:3395}],3669:[{duration:150,tileId:3668},{duration:150,tileId:3669},{duration:150,tileId:3670},{duration:150,tileId:3671}],3733:[{duration:150,tileId:3732},{duration:150,tileId:3733},{duration:150,tileId:3734},{duration:150,tileId:3735}],3797:[{duration:150,tileId:3796},{duration:150,tileId:3797},{duration:150,tileId:3798},{duration:150,tileId:3799}],3861:[{duration:150,tileId:3860},{duration:150,tileId:3861},{duration:150,tileId:3862},{duration:150,tileId:3863}],3922:[{duration:200,tileId:3921},{duration:200,tileId:3922},{duration:200,tileId:3923}],3947:[{duration:200,tileId:3946},{duration:200,tileId:3947},{duration:200,tileId:3948},{duration:200,tileId:3949},{duration:200,tileId:3950},{duration:200,tileId:3951}],3954:[{duration:200,tileId:3953},{duration:200,tileId:3954},{duration:200,tileId:3955},{duration:200,tileId:3956},{duration:200,tileId:3957},{duration:200,tileId:3958}],4011:[{duration:200,tileId:4010},{duration:200,tileId:4011},{duration:200,tileId:4012},{duration:200,tileId:4013},{duration:200,tileId:4014},{duration:200,tileId:4015}],4018:[{duration:200,tileId:4017},{duration:200,tileId:4018},{duration:200,tileId:4019},{duration:200,tileId:4020},{duration:200,tileId:4021},{duration:200,tileId:4022}],4555:[{duration:400,tileId:4554},{duration:400,tileId:4555},{duration:400,tileId:4556},{duration:400,tileId:4557},{duration:400,tileId:4558}],4561:[{duration:200,tileId:4560},{duration:200,tileId:4561},{duration:200,tileId:4562},{duration:200,tileId:4563}],4619:[{duration:400,tileId:4618},{duration:400,tileId:4619},{duration:400,tileId:4620},{duration:400,tileId:4621},{duration:400,tileId:4622},{duration:400,tileId:4623}],4683:[{duration:400,tileId:4682},{duration:400,tileId:4683},{duration:400,tileId:4684},{duration:400,tileId:4685}],4747:[{duration:400,tileId:4746},{duration:400,tileId:4747},{duration:400,tileId:4748},{duration:400,tileId:4749}],4811:[{duration:400,tileId:4810},{duration:400,tileId:4811},{duration:400,tileId:4812},{duration:400,tileId:4813}],5057:[{duration:200,tileId:5056},{duration:200,tileId:5057},{duration:200,tileId:5058},{duration:200,tileId:5059},{duration:200,tileId:5060},{duration:200,tileId:5061},{duration:200,tileId:5062},{duration:200,tileId:5063},{duration:200,tileId:5064},{duration:200,tileId:5065},{duration:200,tileId:5066},{duration:200,tileId:5067},{duration:200,tileId:5068},{duration:200,tileId:5069},{duration:200,tileId:5070},{duration:200,tileId:5071},{duration:200,tileId:5072}],5121:[{duration:200,tileId:5120},{duration:200,tileId:5121},{duration:200,tileId:5122},{duration:200,tileId:5123},{duration:200,tileId:5124},{duration:200,tileId:5125},{duration:200,tileId:5126},{duration:200,tileId:5127},{duration:200,tileId:5128},{duration:200,tileId:5129},{duration:200,tileId:5130},{duration:200,tileId:5131},{duration:200,tileId:5132},{duration:200,tileId:5133},{duration:200,tileId:5134}],5377:[{duration:200,tileId:5376},{duration:200,tileId:5377},{duration:200,tileId:5378}],5441:[{duration:200,tileId:5440},{duration:200,tileId:5441},{duration:200,tileId:5442}],5638:[{duration:200,tileId:5637},{duration:200,tileId:5638},{duration:200,tileId:5639},{duration:200,tileId:5640},{duration:200,tileId:5641},{duration:200,tileId:5642}],6081:[{duration:200,tileId:6080},{duration:200,tileId:6081},{duration:200,tileId:6082}],6145:[{duration:200,tileId:6144},{duration:200,tileId:6145},{duration:200,tileId:6146}],6151:[{duration:200,tileId:6150},{duration:200,tileId:6151},{duration:200,tileId:6152}],6273:[{duration:200,tileId:6272},{duration:200,tileId:6273},{duration:200,tileId:6274},{duration:200,tileId:6275},{duration:200,tileId:6276},{duration:200,tileId:6277},{duration:200,tileId:6278},{duration:200,tileId:6279},{duration:200,tileId:6280},{duration:200,tileId:6281},{duration:200,tileId:6282},{duration:200,tileId:6283},{duration:200,tileId:6284},{duration:200,tileId:6285},{duration:200,tileId:6286},{duration:200,tileId:6287},{duration:200,tileId:6288},{duration:200,tileId:6289},{duration:200,tileId:6290}],6337:[{duration:200,tileId:6336},{duration:200,tileId:6337},{duration:200,tileId:6338},{duration:200,tileId:6339},{duration:200,tileId:6340},{duration:200,tileId:6341},{duration:200,tileId:6342},{duration:200,tileId:6343},{duration:200,tileId:6344},{duration:200,tileId:6345},{duration:200,tileId:6346},{duration:200,tileId:6347},{duration:200,tileId:6348},{duration:200,tileId:6349},{duration:200,tileId:6350},{duration:200,tileId:6351},{duration:200,tileId:6352},{duration:200,tileId:6353},{duration:200,tileId:6354}],7621:[{duration:200,tileId:7620},{duration:200,tileId:7621},{duration:200,tileId:7622},{duration:200,tileId:7623}],7685:[{duration:200,tileId:7684},{duration:200,tileId:7685},{duration:200,tileId:7686},{duration:200,tileId:7687}],7693:[{duration:200,tileId:7692},{duration:200,tileId:7693},{duration:200,tileId:7694},{duration:200,tileId:7695},{duration:200,tileId:7696},{duration:200,tileId:7697},{duration:200,tileId:7698},{duration:200,tileId:7699}],7749:[{duration:200,tileId:7748},{duration:200,tileId:7749},{duration:200,tileId:7750},{duration:200,tileId:7751}],7757:[{duration:200,tileId:7756},{duration:200,tileId:7757},{duration:200,tileId:7758},{duration:200,tileId:7759},{duration:200,tileId:7760},{duration:200,tileId:7761},{duration:200,tileId:7762},{duration:200,tileId:7763}],7813:[{duration:200,tileId:7812},{duration:200,tileId:7813},{duration:200,tileId:7814},{duration:200,tileId:7815}]},La={width:cM,height:wM,tileSize:pM,version:_M,high:mM,tilesets:kM,animations:vM};class bM{constructor(e){_(this,"width",La.width);_(this,"height",La.height);_(this,"tileSize",La.tileSize);_(this,"data",[]);_(this,"grid",[]);_(this,"high",La.high);_(this,"objects",[]);_(this,"lights",[]);_(this,"rawTilesets",La.tilesets);_(this,"tilesets",{});_(this,"cursorTiles",{});_(this,"animatedTiles",La.animations);_(this,"mapLoaded",!1);_(this,"regionsLoaded",0);_(this,"tilesetsLoaded",!1);this.game=e,this.load()}ready(){var e;this.mapLoaded&&this.tilesetsLoaded?(e=this.readyCallback)==null||e.call(this):window.setTimeout(()=>this.ready(),100)}load(){ce.debug("Parsing map with Web Workers..."),vt.tileSize=this.tileSize,vt.sideLength=this.width/ao.MAP_DIVISION_SIZE;let e=new Worker(new URL("/assets/mapworker-2e757b79.js",self.location),{type:"classic"});e.postMessage([this.width,this.height]),e.addEventListener("message",n=>{n.data.data&&(this.data=n.data.data),n.data.grid&&(this.grid=n.data.grid),this.loadRegionData(),this.mapLoaded=!0}),this.loadTilesets(),this.ready()}loadRegions(e){y.each(e,(n,i)=>this.loadRegion(n,parseInt(i))),this.saveMapData()}loadRegion(e,n){for(let i of e){let a=this.coordToIndex(i.x,i.y),l=this.objects.indexOf(a);this.data[a]=i.data,i.c&&!this.isColliding(i.x,i.y)&&(this.grid[i.y][i.x]=1),!i.c&&this.isColliding(i.x,i.y)&&(this.grid[i.y][i.x]=0),i.cur&&(this.cursorTiles[a]=i.cur),!i.cur&&a in this.cursorTiles&&(this.cursorTiles[a]=""),i.o&&l<0&&this.objects.push(a),!i.o&&l>-1&&this.objects.splice(l,1)}this.game.storage.setRegionData(e,n)}loadTilesets(){y.each(this.rawTilesets,(e,n)=>{this.loadTileset(e,parseInt(n),i=>{this.tilesets[n]=i,y.size(this.tilesets)===y.size(this.rawTilesets)&&(this.tilesetsLoaded=!0)})})}loadTileset(e,n,i){let a=new Image,l=`/img/tilesets/tilesheet-${n+1}.png`;a.crossOrigin="Anonymous",a.path=l,a.src=l,a.firstGID=e,a.loaded=!0,a.addEventListener("load",()=>{if(a.width%this.tileSize>0)throw new Error(`The tile size is malformed in the tile set: ${a.path}`);a.lastGID=e+a.width*a.height/this.tileSize**2,i(a)}),a.addEventListener("error",()=>{throw new Error(`Could not find tile set: ${a.path}`)})}loadRegionData(){this.game.storage.getRegionData(e=>{let n=Object.keys(e.regionData);if(n.length>0){try{this.loadRegions(e.regionData)}catch(i){this.game.storage.clear()}this.objects=e.objects,this.cursorTiles=e.cursorTiles,this.regionsLoaded=n.length,ce.info(`Preloaded map data with ${n.length} regions.`)}})}saveMapData(){this.game.storage.setMapData(this.objects,this.cursorTiles)}coordToIndex(e,n){return n*this.width+e}indexToCoord(e){return{x:e%this.width,y:Math.floor(e/this.width)}}isColliding(e,n){return this.isOutOfBounds(e,n)||this.data[this.coordToIndex(e,n)]<1?!0:this.grid[n][e]===1}isObject(e,n){let i=this.coordToIndex(e,n);return this.objects.includes(i)}getTileCursor(e,n){let i=this.coordToIndex(e,n);return this.cursorTiles[i]}isHighTile(e){return this.high.includes(e)}isLightTile(e){return this.lights.includes(e)}isAnimatedTile(e){return e in this.animatedTiles}hasCachedDate(){return this.regionsLoaded>0}isOutOfBounds(e,n){return kp(e)&&kp(n)&&(e<0||e>=this.width||n<0||n>=this.height)}getTileAnimation(e){return this.animatedTiles[e]}getTilesetFromId(e){for(let n in this.tilesets)if(e<this.tilesets[n].lastGID)return this.tilesets[n]}onReady(e){this.readyCallback=e}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const yM=4,Y_=0,O_=1,xM=2;function ts(t){let e=t.length;for(;--e>=0;)t[e]=0}const SM=0,d2=1,CM=2,AM=3,EM=258,Cc=29,Tl=256,dl=Tl+1+Cc,Ba=30,Ac=19,u2=2*dl+1,Wo=15,Rf=16,IM=7,Ec=256,f2=16,g2=17,c2=18,cg=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ed=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),TM=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),w2=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),LM=512,Cr=new Array((dl+2)*2);ts(Cr);const el=new Array(Ba*2);ts(el);const ul=new Array(LM);ts(ul);const fl=new Array(EM-AM+1);ts(fl);const Ic=new Array(Cc);ts(Ic);const pd=new Array(Ba);ts(pd);function Yf(t,e,n,i,a){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=a,this.has_stree=t&&t.length}let p2,_2,m2;function Of(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const k2=t=>t<256?ul[t]:ul[256+(t>>>7)],gl=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},$n=(t,e,n)=>{t.bi_valid>Rf-n?(t.bi_buf|=e<<t.bi_valid&65535,gl(t,t.bi_buf),t.bi_buf=e>>Rf-t.bi_valid,t.bi_valid+=n-Rf):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},zi=(t,e,n)=>{$n(t,n[e*2],n[e*2+1])},v2=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},RM=t=>{t.bi_valid===16?(gl(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},YM=(t,e)=>{const n=e.dyn_tree,i=e.max_code,a=e.stat_desc.static_tree,l=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,g=e.stat_desc.extra_base,S=e.stat_desc.max_length;let v,A,Y,X,M,q,j=0;for(X=0;X<=Wo;X++)t.bl_count[X]=0;for(n[t.heap[t.heap_max]*2+1]=0,v=t.heap_max+1;v<u2;v++)A=t.heap[v],X=n[n[A*2+1]*2+1]+1,X>S&&(X=S,j++),n[A*2+1]=X,!(A>i)&&(t.bl_count[X]++,M=0,A>=g&&(M=u[A-g]),q=n[A*2],t.opt_len+=q*(X+M),l&&(t.static_len+=q*(a[A*2+1]+M)));if(j!==0){do{for(X=S-1;t.bl_count[X]===0;)X--;t.bl_count[X]--,t.bl_count[X+1]+=2,t.bl_count[S]--,j-=2}while(j>0);for(X=S;X!==0;X--)for(A=t.bl_count[X];A!==0;)Y=t.heap[--v],!(Y>i)&&(n[Y*2+1]!==X&&(t.opt_len+=(X-n[Y*2+1])*n[Y*2],n[Y*2+1]=X),A--)}},b2=(t,e,n)=>{const i=new Array(Wo+1);let a=0,l,u;for(l=1;l<=Wo;l++)a=a+n[l-1]<<1,i[l]=a;for(u=0;u<=e;u++){let g=t[u*2+1];g!==0&&(t[u*2]=v2(i[g]++,g))}},OM=()=>{let t,e,n,i,a;const l=new Array(Wo+1);for(n=0,i=0;i<Cc-1;i++)for(Ic[i]=n,t=0;t<1<<cg[i];t++)fl[n++]=i;for(fl[n-1]=i,a=0,i=0;i<16;i++)for(pd[i]=a,t=0;t<1<<ed[i];t++)ul[a++]=i;for(a>>=7;i<Ba;i++)for(pd[i]=a<<7,t=0;t<1<<ed[i]-7;t++)ul[256+a++]=i;for(e=0;e<=Wo;e++)l[e]=0;for(t=0;t<=143;)Cr[t*2+1]=8,t++,l[8]++;for(;t<=255;)Cr[t*2+1]=9,t++,l[9]++;for(;t<=279;)Cr[t*2+1]=7,t++,l[7]++;for(;t<=287;)Cr[t*2+1]=8,t++,l[8]++;for(b2(Cr,dl+1,l),t=0;t<Ba;t++)el[t*2+1]=5,el[t*2]=v2(t,5);p2=new Yf(Cr,cg,Tl+1,dl,Wo),_2=new Yf(el,ed,0,Ba,Wo),m2=new Yf(new Array(0),TM,0,Ac,IM)},y2=t=>{let e;for(e=0;e<dl;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Ba;e++)t.dyn_dtree[e*2]=0;for(e=0;e<Ac;e++)t.bl_tree[e*2]=0;t.dyn_ltree[Ec*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},x2=t=>{t.bi_valid>8?gl(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},X_=(t,e,n,i)=>{const a=e*2,l=n*2;return t[a]<t[l]||t[a]===t[l]&&i[e]<=i[n]},Xf=(t,e,n)=>{const i=t.heap[n];let a=n<<1;for(;a<=t.heap_len&&(a<t.heap_len&&X_(e,t.heap[a+1],t.heap[a],t.depth)&&a++,!X_(e,i,t.heap[a],t.depth));)t.heap[n]=t.heap[a],n=a,a<<=1;t.heap[n]=i},P_=(t,e,n)=>{let i,a,l=0,u,g;if(t.sym_next!==0)do i=t.pending_buf[t.sym_buf+l++]&255,i+=(t.pending_buf[t.sym_buf+l++]&255)<<8,a=t.pending_buf[t.sym_buf+l++],i===0?zi(t,a,e):(u=fl[a],zi(t,u+Tl+1,e),g=cg[u],g!==0&&(a-=Ic[u],$n(t,a,g)),i--,u=k2(i),zi(t,u,n),g=ed[u],g!==0&&(i-=pd[u],$n(t,i,g)));while(l<t.sym_next);zi(t,Ec,e)},wg=(t,e)=>{const n=e.dyn_tree,i=e.stat_desc.static_tree,a=e.stat_desc.has_stree,l=e.stat_desc.elems;let u,g,S=-1,v;for(t.heap_len=0,t.heap_max=u2,u=0;u<l;u++)n[u*2]!==0?(t.heap[++t.heap_len]=S=u,t.depth[u]=0):n[u*2+1]=0;for(;t.heap_len<2;)v=t.heap[++t.heap_len]=S<2?++S:0,n[v*2]=1,t.depth[v]=0,t.opt_len--,a&&(t.static_len-=i[v*2+1]);for(e.max_code=S,u=t.heap_len>>1;u>=1;u--)Xf(t,n,u);v=l;do u=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Xf(t,n,1),g=t.heap[1],t.heap[--t.heap_max]=u,t.heap[--t.heap_max]=g,n[v*2]=n[u*2]+n[g*2],t.depth[v]=(t.depth[u]>=t.depth[g]?t.depth[u]:t.depth[g])+1,n[u*2+1]=n[g*2+1]=v,t.heap[1]=v++,Xf(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],YM(t,e),b2(n,S,t.bl_count)},$_=(t,e,n)=>{let i,a=-1,l,u=e[0*2+1],g=0,S=7,v=4;for(u===0&&(S=138,v=3),e[(n+1)*2+1]=65535,i=0;i<=n;i++)l=u,u=e[(i+1)*2+1],!(++g<S&&l===u)&&(g<v?t.bl_tree[l*2]+=g:l!==0?(l!==a&&t.bl_tree[l*2]++,t.bl_tree[f2*2]++):g<=10?t.bl_tree[g2*2]++:t.bl_tree[c2*2]++,g=0,a=l,u===0?(S=138,v=3):l===u?(S=6,v=3):(S=7,v=4))},M_=(t,e,n)=>{let i,a=-1,l,u=e[0*2+1],g=0,S=7,v=4;for(u===0&&(S=138,v=3),i=0;i<=n;i++)if(l=u,u=e[(i+1)*2+1],!(++g<S&&l===u)){if(g<v)do zi(t,l,t.bl_tree);while(--g!==0);else l!==0?(l!==a&&(zi(t,l,t.bl_tree),g--),zi(t,f2,t.bl_tree),$n(t,g-3,2)):g<=10?(zi(t,g2,t.bl_tree),$n(t,g-3,3)):(zi(t,c2,t.bl_tree),$n(t,g-11,7));g=0,a=l,u===0?(S=138,v=3):l===u?(S=6,v=3):(S=7,v=4)}},XM=t=>{let e;for($_(t,t.dyn_ltree,t.l_desc.max_code),$_(t,t.dyn_dtree,t.d_desc.max_code),wg(t,t.bl_desc),e=Ac-1;e>=3&&t.bl_tree[w2[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},PM=(t,e,n,i)=>{let a;for($n(t,e-257,5),$n(t,n-1,5),$n(t,i-4,4),a=0;a<i;a++)$n(t,t.bl_tree[w2[a]*2+1],3);M_(t,t.dyn_ltree,e-1),M_(t,t.dyn_dtree,n-1)},$M=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return Y_;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return O_;for(n=32;n<Tl;n++)if(t.dyn_ltree[n*2]!==0)return O_;return Y_};let D_=!1;const MM=t=>{D_||(OM(),D_=!0),t.l_desc=new Of(t.dyn_ltree,p2),t.d_desc=new Of(t.dyn_dtree,_2),t.bl_desc=new Of(t.bl_tree,m2),t.bi_buf=0,t.bi_valid=0,y2(t)},S2=(t,e,n,i)=>{$n(t,(SM<<1)+(i?1:0),3),x2(t),gl(t,n),gl(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},DM=t=>{$n(t,d2<<1,3),zi(t,Ec,Cr),RM(t)},NM=(t,e,n,i)=>{let a,l,u=0;t.level>0?(t.strm.data_type===xM&&(t.strm.data_type=$M(t)),wg(t,t.l_desc),wg(t,t.d_desc),u=XM(t),a=t.opt_len+3+7>>>3,l=t.static_len+3+7>>>3,l<=a&&(a=l)):a=l=n+5,n+4<=a&&e!==-1?S2(t,e,n,i):t.strategy===yM||l===a?($n(t,(d2<<1)+(i?1:0),3),P_(t,Cr,el)):($n(t,(CM<<1)+(i?1:0),3),PM(t,t.l_desc.max_code+1,t.d_desc.max_code+1,u+1),P_(t,t.dyn_ltree,t.dyn_dtree)),y2(t),i&&x2(t)},BM=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(fl[n]+Tl+1)*2]++,t.dyn_dtree[k2(e)*2]++),t.sym_next===t.sym_end);var FM=MM,qM=S2,WM=NM,zM=BM,UM=DM,HM={_tr_init:FM,_tr_stored_block:qM,_tr_flush_block:WM,_tr_tally:zM,_tr_align:UM};const GM=(t,e,n,i)=>{let a=t&65535|0,l=t>>>16&65535|0,u=0;for(;n!==0;){u=n>2e3?2e3:n,n-=u;do a=a+e[i++]|0,l=l+a|0;while(--u);a%=65521,l%=65521}return a|l<<16|0};var cl=GM;const jM=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},VM=new Uint32Array(jM()),ZM=(t,e,n,i)=>{const a=VM,l=i+n;t^=-1;for(let u=i;u<l;u++)t=t>>>8^a[(t^e[u])&255];return t^-1};var je=ZM,qa={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ll={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:KM,_tr_stored_block:pg,_tr_flush_block:JM,_tr_tally:no,_tr_align:QM}=HM,{Z_NO_FLUSH:io,Z_PARTIAL_FLUSH:t9,Z_FULL_FLUSH:e9,Z_FINISH:di,Z_BLOCK:N_,Z_OK:Qe,Z_STREAM_END:B_,Z_STREAM_ERROR:ji,Z_DATA_ERROR:n9,Z_BUF_ERROR:Pf,Z_DEFAULT_COMPRESSION:i9,Z_FILTERED:r9,Z_HUFFMAN_ONLY:Bh,Z_RLE:o9,Z_FIXED:a9,Z_DEFAULT_STRATEGY:s9,Z_UNKNOWN:l9,Z_DEFLATED:Fd}=Ll,h9=9,d9=15,u9=8,f9=29,g9=256,_g=g9+1+f9,c9=30,w9=19,p9=2*_g+1,_9=15,ee=3,to=258,Vi=to+ee+1,m9=32,Wa=42,Tc=57,mg=69,kg=73,vg=91,bg=103,zo=113,Vs=666,vn=1,es=2,Zo=3,ns=4,k9=3,Uo=(t,e)=>(t.msg=qa[e],e),F_=t=>t*2-(t>4?9:0),Qr=t=>{let e=t.length;for(;--e>=0;)t[e]=0},v9=t=>{let e,n,i,a=t.w_size;e=t.hash_size,i=e;do n=t.head[--i],t.head[i]=n>=a?n-a:0;while(--e);e=a,i=e;do n=t.prev[--i],t.prev[i]=n>=a?n-a:0;while(--e)};let b9=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,ro=b9;const jn=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},Vn=(t,e)=>{JM(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,jn(t.strm)},se=(t,e)=>{t.pending_buf[t.pending++]=e},Ws=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},yg=(t,e,n,i)=>{let a=t.avail_in;return a>i&&(a=i),a===0?0:(t.avail_in-=a,e.set(t.input.subarray(t.next_in,t.next_in+a),n),t.state.wrap===1?t.adler=cl(t.adler,e,a,n):t.state.wrap===2&&(t.adler=je(t.adler,e,a,n)),t.next_in+=a,t.total_in+=a,a)},C2=(t,e)=>{let n=t.max_chain_length,i=t.strstart,a,l,u=t.prev_length,g=t.nice_match;const S=t.strstart>t.w_size-Vi?t.strstart-(t.w_size-Vi):0,v=t.window,A=t.w_mask,Y=t.prev,X=t.strstart+to;let M=v[i+u-1],q=v[i+u];t.prev_length>=t.good_match&&(n>>=2),g>t.lookahead&&(g=t.lookahead);do if(a=e,!(v[a+u]!==q||v[a+u-1]!==M||v[a]!==v[i]||v[++a]!==v[i+1])){i+=2,a++;do;while(v[++i]===v[++a]&&v[++i]===v[++a]&&v[++i]===v[++a]&&v[++i]===v[++a]&&v[++i]===v[++a]&&v[++i]===v[++a]&&v[++i]===v[++a]&&v[++i]===v[++a]&&i<X);if(l=to-(X-i),i=X-to,l>u){if(t.match_start=e,u=l,l>=g)break;M=v[i+u-1],q=v[i+u]}}while((e=Y[e&A])>S&&--n!==0);return u<=t.lookahead?u:t.lookahead},za=t=>{const e=t.w_size;let n,i,a;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Vi)&&(t.window.set(t.window.subarray(e,e+e-i),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),v9(t),i+=e),t.strm.avail_in===0)break;if(n=yg(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=ee)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=ro(t,t.ins_h,t.window[a+1]);t.insert&&(t.ins_h=ro(t,t.ins_h,t.window[a+ee-1]),t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<ee)););}while(t.lookahead<Vi&&t.strm.avail_in!==0)},A2=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,i,a,l,u=0,g=t.strm.avail_in;do{if(i=65535,l=t.bi_valid+42>>3,t.strm.avail_out<l||(l=t.strm.avail_out-l,a=t.strstart-t.block_start,i>a+t.strm.avail_in&&(i=a+t.strm.avail_in),i>l&&(i=l),i<n&&(i===0&&e!==di||e===io||i!==a+t.strm.avail_in)))break;u=e===di&&i===a+t.strm.avail_in?1:0,pg(t,0,0,u),t.pending_buf[t.pending-4]=i,t.pending_buf[t.pending-3]=i>>8,t.pending_buf[t.pending-2]=~i,t.pending_buf[t.pending-1]=~i>>8,jn(t.strm),a&&(a>i&&(a=i),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+a),t.strm.next_out),t.strm.next_out+=a,t.strm.avail_out-=a,t.strm.total_out+=a,t.block_start+=a,i-=a),i&&(yg(t.strm,t.strm.output,t.strm.next_out,i),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i)}while(u===0);return g-=t.strm.avail_in,g&&(g>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=g&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-g,t.strm.next_in),t.strstart),t.strstart+=g,t.insert+=g>t.w_size-t.insert?t.w_size-t.insert:g),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),u?ns:e!==io&&e!==di&&t.strm.avail_in===0&&t.strstart===t.block_start?es:(l=t.window_size-t.strstart,t.strm.avail_in>l&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,l+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),l>t.strm.avail_in&&(l=t.strm.avail_in),l&&(yg(t.strm,t.window,t.strstart,l),t.strstart+=l,t.insert+=l>t.w_size-t.insert?t.w_size-t.insert:l),t.high_water<t.strstart&&(t.high_water=t.strstart),l=t.bi_valid+42>>3,l=t.pending_buf_size-l>65535?65535:t.pending_buf_size-l,n=l>t.w_size?t.w_size:l,a=t.strstart-t.block_start,(a>=n||(a||e===di)&&e!==io&&t.strm.avail_in===0&&a<=l)&&(i=a>l?l:a,u=e===di&&t.strm.avail_in===0&&i===a?1:0,pg(t,t.block_start,i,u),t.block_start+=i,jn(t.strm)),u?Zo:vn)},$f=(t,e)=>{let n,i;for(;;){if(t.lookahead<Vi){if(za(t),t.lookahead<Vi&&e===io)return vn;if(t.lookahead===0)break}if(n=0,t.lookahead>=ee&&(t.ins_h=ro(t,t.ins_h,t.window[t.strstart+ee-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-Vi&&(t.match_length=C2(t,n)),t.match_length>=ee)if(i=no(t,t.strstart-t.match_start,t.match_length-ee),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ee){t.match_length--;do t.strstart++,t.ins_h=ro(t,t.ins_h,t.window[t.strstart+ee-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=ro(t,t.ins_h,t.window[t.strstart+1]);else i=no(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(Vn(t,!1),t.strm.avail_out===0))return vn}return t.insert=t.strstart<ee-1?t.strstart:ee-1,e===di?(Vn(t,!0),t.strm.avail_out===0?Zo:ns):t.sym_next&&(Vn(t,!1),t.strm.avail_out===0)?vn:es},Ra=(t,e)=>{let n,i,a;for(;;){if(t.lookahead<Vi){if(za(t),t.lookahead<Vi&&e===io)return vn;if(t.lookahead===0)break}if(n=0,t.lookahead>=ee&&(t.ins_h=ro(t,t.ins_h,t.window[t.strstart+ee-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ee-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Vi&&(t.match_length=C2(t,n),t.match_length<=5&&(t.strategy===r9||t.match_length===ee&&t.strstart-t.match_start>4096)&&(t.match_length=ee-1)),t.prev_length>=ee&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-ee,i=no(t,t.strstart-1-t.prev_match,t.prev_length-ee),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=a&&(t.ins_h=ro(t,t.ins_h,t.window[t.strstart+ee-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=ee-1,t.strstart++,i&&(Vn(t,!1),t.strm.avail_out===0))return vn}else if(t.match_available){if(i=no(t,0,t.window[t.strstart-1]),i&&Vn(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return vn}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=no(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ee-1?t.strstart:ee-1,e===di?(Vn(t,!0),t.strm.avail_out===0?Zo:ns):t.sym_next&&(Vn(t,!1),t.strm.avail_out===0)?vn:es},y9=(t,e)=>{let n,i,a,l;const u=t.window;for(;;){if(t.lookahead<=to){if(za(t),t.lookahead<=to&&e===io)return vn;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=ee&&t.strstart>0&&(a=t.strstart-1,i=u[a],i===u[++a]&&i===u[++a]&&i===u[++a])){l=t.strstart+to;do;while(i===u[++a]&&i===u[++a]&&i===u[++a]&&i===u[++a]&&i===u[++a]&&i===u[++a]&&i===u[++a]&&i===u[++a]&&a<l);t.match_length=to-(l-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ee?(n=no(t,1,t.match_length-ee),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=no(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Vn(t,!1),t.strm.avail_out===0))return vn}return t.insert=0,e===di?(Vn(t,!0),t.strm.avail_out===0?Zo:ns):t.sym_next&&(Vn(t,!1),t.strm.avail_out===0)?vn:es},x9=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(za(t),t.lookahead===0)){if(e===io)return vn;break}if(t.match_length=0,n=no(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Vn(t,!1),t.strm.avail_out===0))return vn}return t.insert=0,e===di?(Vn(t,!0),t.strm.avail_out===0?Zo:ns):t.sym_next&&(Vn(t,!1),t.strm.avail_out===0)?vn:es};function qi(t,e,n,i,a){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=a}const Zs=[new qi(0,0,0,0,A2),new qi(4,4,8,4,$f),new qi(4,5,16,8,$f),new qi(4,6,32,32,$f),new qi(4,4,16,16,Ra),new qi(8,16,32,32,Ra),new qi(8,16,128,128,Ra),new qi(8,32,128,256,Ra),new qi(32,128,258,1024,Ra),new qi(32,258,258,4096,Ra)],S9=t=>{t.window_size=2*t.w_size,Qr(t.head),t.max_lazy_match=Zs[t.level].max_lazy,t.good_match=Zs[t.level].good_length,t.nice_match=Zs[t.level].nice_length,t.max_chain_length=Zs[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ee-1,t.match_available=0,t.ins_h=0};function C9(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Fd,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(p9*2),this.dyn_dtree=new Uint16Array((2*c9+1)*2),this.bl_tree=new Uint16Array((2*w9+1)*2),Qr(this.dyn_ltree),Qr(this.dyn_dtree),Qr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(_9+1),this.heap=new Uint16Array(2*_g+1),Qr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*_g+1),Qr(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Rl=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Wa&&e.status!==Tc&&e.status!==mg&&e.status!==kg&&e.status!==vg&&e.status!==bg&&e.status!==zo&&e.status!==Vs?1:0},E2=t=>{if(Rl(t))return Uo(t,ji);t.total_in=t.total_out=0,t.data_type=l9;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?Tc:e.wrap?Wa:zo,t.adler=e.wrap===2?0:1,e.last_flush=-2,KM(e),Qe},I2=t=>{const e=E2(t);return e===Qe&&S9(t.state),e},A9=(t,e)=>Rl(t)||t.state.wrap!==2?ji:(t.state.gzhead=e,Qe),T2=(t,e,n,i,a,l)=>{if(!t)return ji;let u=1;if(e===i9&&(e=6),i<0?(u=0,i=-i):i>15&&(u=2,i-=16),a<1||a>h9||n!==Fd||i<8||i>15||e<0||e>9||l<0||l>a9||i===8&&u!==1)return Uo(t,ji);i===8&&(i=9);const g=new C9;return t.state=g,g.strm=t,g.status=Wa,g.wrap=u,g.gzhead=null,g.w_bits=i,g.w_size=1<<g.w_bits,g.w_mask=g.w_size-1,g.hash_bits=a+7,g.hash_size=1<<g.hash_bits,g.hash_mask=g.hash_size-1,g.hash_shift=~~((g.hash_bits+ee-1)/ee),g.window=new Uint8Array(g.w_size*2),g.head=new Uint16Array(g.hash_size),g.prev=new Uint16Array(g.w_size),g.lit_bufsize=1<<a+6,g.pending_buf_size=g.lit_bufsize*4,g.pending_buf=new Uint8Array(g.pending_buf_size),g.sym_buf=g.lit_bufsize,g.sym_end=(g.lit_bufsize-1)*3,g.level=e,g.strategy=l,g.method=n,I2(t)},E9=(t,e)=>T2(t,e,Fd,d9,u9,s9),I9=(t,e)=>{if(Rl(t)||e>N_||e<0)return t?Uo(t,ji):ji;const n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===Vs&&e!==di)return Uo(t,t.avail_out===0?Pf:ji);const i=n.last_flush;if(n.last_flush=e,n.pending!==0){if(jn(t),t.avail_out===0)return n.last_flush=-1,Qe}else if(t.avail_in===0&&F_(e)<=F_(i)&&e!==di)return Uo(t,Pf);if(n.status===Vs&&t.avail_in!==0)return Uo(t,Pf);if(n.status===Wa&&n.wrap===0&&(n.status=zo),n.status===Wa){let a=Fd+(n.w_bits-8<<4)<<8,l=-1;if(n.strategy>=Bh||n.level<2?l=0:n.level<6?l=1:n.level===6?l=2:l=3,a|=l<<6,n.strstart!==0&&(a|=m9),a+=31-a%31,Ws(n,a),n.strstart!==0&&(Ws(n,t.adler>>>16),Ws(n,t.adler&65535)),t.adler=1,n.status=zo,jn(t),n.pending!==0)return n.last_flush=-1,Qe}if(n.status===Tc){if(t.adler=0,se(n,31),se(n,139),se(n,8),n.gzhead)se(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),se(n,n.gzhead.time&255),se(n,n.gzhead.time>>8&255),se(n,n.gzhead.time>>16&255),se(n,n.gzhead.time>>24&255),se(n,n.level===9?2:n.strategy>=Bh||n.level<2?4:0),se(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(se(n,n.gzhead.extra.length&255),se(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=je(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=mg;else if(se(n,0),se(n,0),se(n,0),se(n,0),se(n,0),se(n,n.level===9?2:n.strategy>=Bh||n.level<2?4:0),se(n,k9),n.status=zo,jn(t),n.pending!==0)return n.last_flush=-1,Qe}if(n.status===mg){if(n.gzhead.extra){let a=n.pending,l=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+l>n.pending_buf_size;){let g=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+g),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>a&&(t.adler=je(t.adler,n.pending_buf,n.pending-a,a)),n.gzindex+=g,jn(t),n.pending!==0)return n.last_flush=-1,Qe;a=0,l-=g}let u=new Uint8Array(n.gzhead.extra);n.pending_buf.set(u.subarray(n.gzindex,n.gzindex+l),n.pending),n.pending+=l,n.gzhead.hcrc&&n.pending>a&&(t.adler=je(t.adler,n.pending_buf,n.pending-a,a)),n.gzindex=0}n.status=kg}if(n.status===kg){if(n.gzhead.name){let a=n.pending,l;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>a&&(t.adler=je(t.adler,n.pending_buf,n.pending-a,a)),jn(t),n.pending!==0)return n.last_flush=-1,Qe;a=0}n.gzindex<n.gzhead.name.length?l=n.gzhead.name.charCodeAt(n.gzindex++)&255:l=0,se(n,l)}while(l!==0);n.gzhead.hcrc&&n.pending>a&&(t.adler=je(t.adler,n.pending_buf,n.pending-a,a)),n.gzindex=0}n.status=vg}if(n.status===vg){if(n.gzhead.comment){let a=n.pending,l;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>a&&(t.adler=je(t.adler,n.pending_buf,n.pending-a,a)),jn(t),n.pending!==0)return n.last_flush=-1,Qe;a=0}n.gzindex<n.gzhead.comment.length?l=n.gzhead.comment.charCodeAt(n.gzindex++)&255:l=0,se(n,l)}while(l!==0);n.gzhead.hcrc&&n.pending>a&&(t.adler=je(t.adler,n.pending_buf,n.pending-a,a))}n.status=bg}if(n.status===bg){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(jn(t),n.pending!==0))return n.last_flush=-1,Qe;se(n,t.adler&255),se(n,t.adler>>8&255),t.adler=0}if(n.status=zo,jn(t),n.pending!==0)return n.last_flush=-1,Qe}if(t.avail_in!==0||n.lookahead!==0||e!==io&&n.status!==Vs){let a=n.level===0?A2(n,e):n.strategy===Bh?x9(n,e):n.strategy===o9?y9(n,e):Zs[n.level].func(n,e);if((a===Zo||a===ns)&&(n.status=Vs),a===vn||a===Zo)return t.avail_out===0&&(n.last_flush=-1),Qe;if(a===es&&(e===t9?QM(n):e!==N_&&(pg(n,0,0,!1),e===e9&&(Qr(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),jn(t),t.avail_out===0))return n.last_flush=-1,Qe}return e!==di?Qe:n.wrap<=0?B_:(n.wrap===2?(se(n,t.adler&255),se(n,t.adler>>8&255),se(n,t.adler>>16&255),se(n,t.adler>>24&255),se(n,t.total_in&255),se(n,t.total_in>>8&255),se(n,t.total_in>>16&255),se(n,t.total_in>>24&255)):(Ws(n,t.adler>>>16),Ws(n,t.adler&65535)),jn(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Qe:B_)},T9=t=>{if(Rl(t))return ji;const e=t.state.status;return t.state=null,e===zo?Uo(t,n9):Qe},L9=(t,e)=>{let n=e.length;if(Rl(t))return ji;const i=t.state,a=i.wrap;if(a===2||a===1&&i.status!==Wa||i.lookahead)return ji;if(a===1&&(t.adler=cl(t.adler,e,n,0)),i.wrap=0,n>=i.w_size){a===0&&(Qr(i.head),i.strstart=0,i.block_start=0,i.insert=0);let S=new Uint8Array(i.w_size);S.set(e.subarray(n-i.w_size,n),0),e=S,n=i.w_size}const l=t.avail_in,u=t.next_in,g=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,za(i);i.lookahead>=ee;){let S=i.strstart,v=i.lookahead-(ee-1);do i.ins_h=ro(i,i.ins_h,i.window[S+ee-1]),i.prev[S&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=S,S++;while(--v);i.strstart=S,i.lookahead=ee-1,za(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=ee-1,i.match_available=0,t.next_in=u,t.input=g,t.avail_in=l,i.wrap=a,Qe};var R9=E9,Y9=T2,O9=I2,X9=E2,P9=A9,$9=I9,M9=T9,D9=L9,N9="pako deflate (from Nodeca project)",nl={deflateInit:R9,deflateInit2:Y9,deflateReset:O9,deflateResetKeep:X9,deflateSetHeader:P9,deflate:$9,deflateEnd:M9,deflateSetDictionary:D9,deflateInfo:N9};const B9=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var F9=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)B9(n,i)&&(t[i]=n[i])}}return t},q9=t=>{let e=0;for(let i=0,a=t.length;i<a;i++)e+=t[i].length;const n=new Uint8Array(e);for(let i=0,a=0,l=t.length;i<l;i++){let u=t[i];n.set(u,a),a+=u.length}return n},qd={assign:F9,flattenChunks:q9};let L2=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){L2=!1}const wl=new Uint8Array(256);for(let t=0;t<256;t++)wl[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;wl[254]=wl[254]=1;var W9=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,i,a,l,u=t.length,g=0;for(a=0;a<u;a++)n=t.charCodeAt(a),(n&64512)===55296&&a+1<u&&(i=t.charCodeAt(a+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),a++)),g+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(g),l=0,a=0;l<g;a++)n=t.charCodeAt(a),(n&64512)===55296&&a+1<u&&(i=t.charCodeAt(a+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),a++)),n<128?e[l++]=n:n<2048?(e[l++]=192|n>>>6,e[l++]=128|n&63):n<65536?(e[l++]=224|n>>>12,e[l++]=128|n>>>6&63,e[l++]=128|n&63):(e[l++]=240|n>>>18,e[l++]=128|n>>>12&63,e[l++]=128|n>>>6&63,e[l++]=128|n&63);return e};const z9=(t,e)=>{if(e<65534&&t.subarray&&L2)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n};var U9=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let i,a;const l=new Array(n*2);for(a=0,i=0;i<n;){let u=t[i++];if(u<128){l[a++]=u;continue}let g=wl[u];if(g>4){l[a++]=65533,i+=g-1;continue}for(u&=g===2?31:g===3?15:7;g>1&&i<n;)u=u<<6|t[i++]&63,g--;if(g>1){l[a++]=65533;continue}u<65536?l[a++]=u:(u-=65536,l[a++]=55296|u>>10&1023,l[a++]=56320|u&1023)}return z9(l,a)},H9=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+wl[t[n]]>e?n:e},pl={string2buf:W9,buf2string:U9,utf8border:H9};function G9(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var R2=G9;const Y2=Object.prototype.toString,{Z_NO_FLUSH:j9,Z_SYNC_FLUSH:V9,Z_FULL_FLUSH:Z9,Z_FINISH:K9,Z_OK:_d,Z_STREAM_END:J9,Z_DEFAULT_COMPRESSION:Q9,Z_DEFAULT_STRATEGY:tD,Z_DEFLATED:eD}=Ll;function Lc(t){this.options=qd.assign({level:Q9,method:eD,chunkSize:16384,windowBits:15,memLevel:8,strategy:tD},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new R2,this.strm.avail_out=0;let n=nl.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==_d)throw new Error(qa[n]);if(e.header&&nl.deflateSetHeader(this.strm,e.header),e.dictionary){let i;if(typeof e.dictionary=="string"?i=pl.string2buf(e.dictionary):Y2.call(e.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(e.dictionary):i=e.dictionary,n=nl.deflateSetDictionary(this.strm,i),n!==_d)throw new Error(qa[n]);this._dict_set=!0}}Lc.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize;let a,l;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?K9:j9,typeof t=="string"?n.input=pl.string2buf(t):Y2.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(l===V9||l===Z9)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(a=nl.deflate(n,l),a===J9)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),a=nl.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===_d;if(n.avail_out===0){this.onData(n.output);continue}if(l>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Lc.prototype.onData=function(t){this.chunks.push(t)};Lc.prototype.onEnd=function(t){t===_d&&(this.result=qd.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const Fh=16209,nD=16191;var iD=function(e,n){let i,a,l,u,g,S,v,A,Y,X,M,q,j,et,V,dt,lt,nt,ut,p,st,Ct,Rt,Yt;const qt=e.state;i=e.next_in,Rt=e.input,a=i+(e.avail_in-5),l=e.next_out,Yt=e.output,u=l-(n-e.avail_out),g=l+(e.avail_out-257),S=qt.dmax,v=qt.wsize,A=qt.whave,Y=qt.wnext,X=qt.window,M=qt.hold,q=qt.bits,j=qt.lencode,et=qt.distcode,V=(1<<qt.lenbits)-1,dt=(1<<qt.distbits)-1;t:do{q<15&&(M+=Rt[i++]<<q,q+=8,M+=Rt[i++]<<q,q+=8),lt=j[M&V];e:for(;;){if(nt=lt>>>24,M>>>=nt,q-=nt,nt=lt>>>16&255,nt===0)Yt[l++]=lt&65535;else if(nt&16){ut=lt&65535,nt&=15,nt&&(q<nt&&(M+=Rt[i++]<<q,q+=8),ut+=M&(1<<nt)-1,M>>>=nt,q-=nt),q<15&&(M+=Rt[i++]<<q,q+=8,M+=Rt[i++]<<q,q+=8),lt=et[M&dt];n:for(;;){if(nt=lt>>>24,M>>>=nt,q-=nt,nt=lt>>>16&255,nt&16){if(p=lt&65535,nt&=15,q<nt&&(M+=Rt[i++]<<q,q+=8,q<nt&&(M+=Rt[i++]<<q,q+=8)),p+=M&(1<<nt)-1,p>S){e.msg="invalid distance too far back",qt.mode=Fh;break t}if(M>>>=nt,q-=nt,nt=l-u,p>nt){if(nt=p-nt,nt>A&&qt.sane){e.msg="invalid distance too far back",qt.mode=Fh;break t}if(st=0,Ct=X,Y===0){if(st+=v-nt,nt<ut){ut-=nt;do Yt[l++]=X[st++];while(--nt);st=l-p,Ct=Yt}}else if(Y<nt){if(st+=v+Y-nt,nt-=Y,nt<ut){ut-=nt;do Yt[l++]=X[st++];while(--nt);if(st=0,Y<ut){nt=Y,ut-=nt;do Yt[l++]=X[st++];while(--nt);st=l-p,Ct=Yt}}}else if(st+=Y-nt,nt<ut){ut-=nt;do Yt[l++]=X[st++];while(--nt);st=l-p,Ct=Yt}for(;ut>2;)Yt[l++]=Ct[st++],Yt[l++]=Ct[st++],Yt[l++]=Ct[st++],ut-=3;ut&&(Yt[l++]=Ct[st++],ut>1&&(Yt[l++]=Ct[st++]))}else{st=l-p;do Yt[l++]=Yt[st++],Yt[l++]=Yt[st++],Yt[l++]=Yt[st++],ut-=3;while(ut>2);ut&&(Yt[l++]=Yt[st++],ut>1&&(Yt[l++]=Yt[st++]))}}else if(nt&64){e.msg="invalid distance code",qt.mode=Fh;break t}else{lt=et[(lt&65535)+(M&(1<<nt)-1)];continue n}break}}else if(nt&64)if(nt&32){qt.mode=nD;break t}else{e.msg="invalid literal/length code",qt.mode=Fh;break t}else{lt=j[(lt&65535)+(M&(1<<nt)-1)];continue e}break}}while(i<a&&l<g);ut=q>>3,i-=ut,q-=ut<<3,M&=(1<<q)-1,e.next_in=i,e.next_out=l,e.avail_in=i<a?5+(a-i):5-(i-a),e.avail_out=l<g?257+(g-l):257-(l-g),qt.hold=M,qt.bits=q};const Ya=15,q_=852,W_=592,z_=0,Mf=1,U_=2,rD=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),oD=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),aD=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),sD=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),lD=(t,e,n,i,a,l,u,g)=>{const S=g.bits;let v=0,A=0,Y=0,X=0,M=0,q=0,j=0,et=0,V=0,dt=0,lt,nt,ut,p,st,Ct=null,Rt;const Yt=new Uint16Array(Ya+1),qt=new Uint16Array(Ya+1);let Te=null,po,mi,or;for(v=0;v<=Ya;v++)Yt[v]=0;for(A=0;A<i;A++)Yt[e[n+A]]++;for(M=S,X=Ya;X>=1&&Yt[X]===0;X--);if(M>X&&(M=X),X===0)return a[l++]=1<<24|64<<16|0,a[l++]=1<<24|64<<16|0,g.bits=1,0;for(Y=1;Y<X&&Yt[Y]===0;Y++);for(M<Y&&(M=Y),et=1,v=1;v<=Ya;v++)if(et<<=1,et-=Yt[v],et<0)return-1;if(et>0&&(t===z_||X!==1))return-1;for(qt[1]=0,v=1;v<Ya;v++)qt[v+1]=qt[v]+Yt[v];for(A=0;A<i;A++)e[n+A]!==0&&(u[qt[e[n+A]]++]=A);if(t===z_?(Ct=Te=u,Rt=20):t===Mf?(Ct=rD,Te=oD,Rt=257):(Ct=aD,Te=sD,Rt=0),dt=0,A=0,v=Y,st=l,q=M,j=0,ut=-1,V=1<<M,p=V-1,t===Mf&&V>q_||t===U_&&V>W_)return 1;for(;;){po=v-j,u[A]+1<Rt?(mi=0,or=u[A]):u[A]>=Rt?(mi=Te[u[A]-Rt],or=Ct[u[A]-Rt]):(mi=32+64,or=0),lt=1<<v-j,nt=1<<q,Y=nt;do nt-=lt,a[st+(dt>>j)+nt]=po<<24|mi<<16|or|0;while(nt!==0);for(lt=1<<v-1;dt&lt;)lt>>=1;if(lt!==0?(dt&=lt-1,dt+=lt):dt=0,A++,--Yt[v]===0){if(v===X)break;v=e[n+u[A]]}if(v>M&&(dt&p)!==ut){for(j===0&&(j=M),st+=Y,q=v-j,et=1<<q;q+j<X&&(et-=Yt[q+j],!(et<=0));)q++,et<<=1;if(V+=1<<q,t===Mf&&V>q_||t===U_&&V>W_)return 1;ut=dt&p,a[ut]=M<<24|q<<16|st-l|0}}return dt!==0&&(a[st+dt]=v-j<<24|64<<16|0),g.bits=M,0};var il=lD;const hD=0,O2=1,X2=2,{Z_FINISH:H_,Z_BLOCK:dD,Z_TREES:qh,Z_OK:Ko,Z_STREAM_END:uD,Z_NEED_DICT:fD,Z_STREAM_ERROR:pi,Z_DATA_ERROR:P2,Z_MEM_ERROR:$2,Z_BUF_ERROR:gD,Z_DEFLATED:G_}=Ll,Wd=16180,j_=16181,V_=16182,Z_=16183,K_=16184,J_=16185,Q_=16186,t0=16187,e0=16188,n0=16189,md=16190,yr=16191,Df=16192,i0=16193,Nf=16194,r0=16195,o0=16196,a0=16197,s0=16198,Wh=16199,zh=16200,l0=16201,h0=16202,d0=16203,u0=16204,f0=16205,Bf=16206,g0=16207,c0=16208,Se=16209,M2=16210,D2=16211,cD=852,wD=592,pD=15,_D=pD,w0=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function mD(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const na=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Wd||e.mode>D2?1:0},N2=t=>{if(na(t))return pi;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Wd,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(cD),e.distcode=e.distdyn=new Int32Array(wD),e.sane=1,e.back=-1,Ko},B2=t=>{if(na(t))return pi;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,N2(t)},F2=(t,e)=>{let n;if(na(t))return pi;const i=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?pi:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,B2(t))},q2=(t,e)=>{if(!t)return pi;const n=new mD;t.state=n,n.strm=t,n.window=null,n.mode=Wd;const i=F2(t,e);return i!==Ko&&(t.state=null),i},kD=t=>q2(t,_D);let p0=!0,Ff,qf;const vD=t=>{if(p0){Ff=new Int32Array(512),qf=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(il(O2,t.lens,0,288,Ff,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;il(X2,t.lens,0,32,qf,0,t.work,{bits:5}),p0=!1}t.lencode=Ff,t.lenbits=9,t.distcode=qf,t.distbits=5},W2=(t,e,n,i)=>{let a;const l=t.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),i>=l.wsize?(l.window.set(e.subarray(n-l.wsize,n),0),l.wnext=0,l.whave=l.wsize):(a=l.wsize-l.wnext,a>i&&(a=i),l.window.set(e.subarray(n-i,n-i+a),l.wnext),i-=a,i?(l.window.set(e.subarray(n-i,n),0),l.wnext=i,l.whave=l.wsize):(l.wnext+=a,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=a))),0},bD=(t,e)=>{let n,i,a,l,u,g,S,v,A,Y,X,M,q,j,et=0,V,dt,lt,nt,ut,p,st,Ct;const Rt=new Uint8Array(4);let Yt,qt;const Te=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(na(t)||!t.output||!t.input&&t.avail_in!==0)return pi;n=t.state,n.mode===yr&&(n.mode=Df),u=t.next_out,a=t.output,S=t.avail_out,l=t.next_in,i=t.input,g=t.avail_in,v=n.hold,A=n.bits,Y=g,X=S,Ct=Ko;t:for(;;)switch(n.mode){case Wd:if(n.wrap===0){n.mode=Df;break}for(;A<16;){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}if(n.wrap&2&&v===35615){n.wbits===0&&(n.wbits=15),n.check=0,Rt[0]=v&255,Rt[1]=v>>>8&255,n.check=je(n.check,Rt,2,0),v=0,A=0,n.mode=j_;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((v&255)<<8)+(v>>8))%31){t.msg="incorrect header check",n.mode=Se;break}if((v&15)!==G_){t.msg="unknown compression method",n.mode=Se;break}if(v>>>=4,A-=4,st=(v&15)+8,n.wbits===0&&(n.wbits=st),st>15||st>n.wbits){t.msg="invalid window size",n.mode=Se;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=v&512?n0:yr,v=0,A=0;break;case j_:for(;A<16;){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}if(n.flags=v,(n.flags&255)!==G_){t.msg="unknown compression method",n.mode=Se;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Se;break}n.head&&(n.head.text=v>>8&1),n.flags&512&&n.wrap&4&&(Rt[0]=v&255,Rt[1]=v>>>8&255,n.check=je(n.check,Rt,2,0)),v=0,A=0,n.mode=V_;case V_:for(;A<32;){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}n.head&&(n.head.time=v),n.flags&512&&n.wrap&4&&(Rt[0]=v&255,Rt[1]=v>>>8&255,Rt[2]=v>>>16&255,Rt[3]=v>>>24&255,n.check=je(n.check,Rt,4,0)),v=0,A=0,n.mode=Z_;case Z_:for(;A<16;){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}n.head&&(n.head.xflags=v&255,n.head.os=v>>8),n.flags&512&&n.wrap&4&&(Rt[0]=v&255,Rt[1]=v>>>8&255,n.check=je(n.check,Rt,2,0)),v=0,A=0,n.mode=K_;case K_:if(n.flags&1024){for(;A<16;){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}n.length=v,n.head&&(n.head.extra_len=v),n.flags&512&&n.wrap&4&&(Rt[0]=v&255,Rt[1]=v>>>8&255,n.check=je(n.check,Rt,2,0)),v=0,A=0}else n.head&&(n.head.extra=null);n.mode=J_;case J_:if(n.flags&1024&&(M=n.length,M>g&&(M=g),M&&(n.head&&(st=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(l,l+M),st)),n.flags&512&&n.wrap&4&&(n.check=je(n.check,i,M,l)),g-=M,l+=M,n.length-=M),n.length))break t;n.length=0,n.mode=Q_;case Q_:if(n.flags&2048){if(g===0)break t;M=0;do st=i[l+M++],n.head&&st&&n.length<65536&&(n.head.name+=String.fromCharCode(st));while(st&&M<g);if(n.flags&512&&n.wrap&4&&(n.check=je(n.check,i,M,l)),g-=M,l+=M,st)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=t0;case t0:if(n.flags&4096){if(g===0)break t;M=0;do st=i[l+M++],n.head&&st&&n.length<65536&&(n.head.comment+=String.fromCharCode(st));while(st&&M<g);if(n.flags&512&&n.wrap&4&&(n.check=je(n.check,i,M,l)),g-=M,l+=M,st)break t}else n.head&&(n.head.comment=null);n.mode=e0;case e0:if(n.flags&512){for(;A<16;){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}if(n.wrap&4&&v!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Se;break}v=0,A=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=yr;break;case n0:for(;A<32;){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}t.adler=n.check=w0(v),v=0,A=0,n.mode=md;case md:if(n.havedict===0)return t.next_out=u,t.avail_out=S,t.next_in=l,t.avail_in=g,n.hold=v,n.bits=A,fD;t.adler=n.check=1,n.mode=yr;case yr:if(e===dD||e===qh)break t;case Df:if(n.last){v>>>=A&7,A-=A&7,n.mode=Bf;break}for(;A<3;){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}switch(n.last=v&1,v>>>=1,A-=1,v&3){case 0:n.mode=i0;break;case 1:if(vD(n),n.mode=Wh,e===qh){v>>>=2,A-=2;break t}break;case 2:n.mode=o0;break;case 3:t.msg="invalid block type",n.mode=Se}v>>>=2,A-=2;break;case i0:for(v>>>=A&7,A-=A&7;A<32;){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}if((v&65535)!==(v>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Se;break}if(n.length=v&65535,v=0,A=0,n.mode=Nf,e===qh)break t;case Nf:n.mode=r0;case r0:if(M=n.length,M){if(M>g&&(M=g),M>S&&(M=S),M===0)break t;a.set(i.subarray(l,l+M),u),g-=M,l+=M,S-=M,u+=M,n.length-=M;break}n.mode=yr;break;case o0:for(;A<14;){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}if(n.nlen=(v&31)+257,v>>>=5,A-=5,n.ndist=(v&31)+1,v>>>=5,A-=5,n.ncode=(v&15)+4,v>>>=4,A-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Se;break}n.have=0,n.mode=a0;case a0:for(;n.have<n.ncode;){for(;A<3;){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}n.lens[Te[n.have++]]=v&7,v>>>=3,A-=3}for(;n.have<19;)n.lens[Te[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Yt={bits:n.lenbits},Ct=il(hD,n.lens,0,19,n.lencode,0,n.work,Yt),n.lenbits=Yt.bits,Ct){t.msg="invalid code lengths set",n.mode=Se;break}n.have=0,n.mode=s0;case s0:for(;n.have<n.nlen+n.ndist;){for(;et=n.lencode[v&(1<<n.lenbits)-1],V=et>>>24,dt=et>>>16&255,lt=et&65535,!(V<=A);){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}if(lt<16)v>>>=V,A-=V,n.lens[n.have++]=lt;else{if(lt===16){for(qt=V+2;A<qt;){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}if(v>>>=V,A-=V,n.have===0){t.msg="invalid bit length repeat",n.mode=Se;break}st=n.lens[n.have-1],M=3+(v&3),v>>>=2,A-=2}else if(lt===17){for(qt=V+3;A<qt;){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}v>>>=V,A-=V,st=0,M=3+(v&7),v>>>=3,A-=3}else{for(qt=V+7;A<qt;){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}v>>>=V,A-=V,st=0,M=11+(v&127),v>>>=7,A-=7}if(n.have+M>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Se;break}for(;M--;)n.lens[n.have++]=st}}if(n.mode===Se)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Se;break}if(n.lenbits=9,Yt={bits:n.lenbits},Ct=il(O2,n.lens,0,n.nlen,n.lencode,0,n.work,Yt),n.lenbits=Yt.bits,Ct){t.msg="invalid literal/lengths set",n.mode=Se;break}if(n.distbits=6,n.distcode=n.distdyn,Yt={bits:n.distbits},Ct=il(X2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Yt),n.distbits=Yt.bits,Ct){t.msg="invalid distances set",n.mode=Se;break}if(n.mode=Wh,e===qh)break t;case Wh:n.mode=zh;case zh:if(g>=6&&S>=258){t.next_out=u,t.avail_out=S,t.next_in=l,t.avail_in=g,n.hold=v,n.bits=A,iD(t,X),u=t.next_out,a=t.output,S=t.avail_out,l=t.next_in,i=t.input,g=t.avail_in,v=n.hold,A=n.bits,n.mode===yr&&(n.back=-1);break}for(n.back=0;et=n.lencode[v&(1<<n.lenbits)-1],V=et>>>24,dt=et>>>16&255,lt=et&65535,!(V<=A);){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}if(dt&&!(dt&240)){for(nt=V,ut=dt,p=lt;et=n.lencode[p+((v&(1<<nt+ut)-1)>>nt)],V=et>>>24,dt=et>>>16&255,lt=et&65535,!(nt+V<=A);){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}v>>>=nt,A-=nt,n.back+=nt}if(v>>>=V,A-=V,n.back+=V,n.length=lt,dt===0){n.mode=f0;break}if(dt&32){n.back=-1,n.mode=yr;break}if(dt&64){t.msg="invalid literal/length code",n.mode=Se;break}n.extra=dt&15,n.mode=l0;case l0:if(n.extra){for(qt=n.extra;A<qt;){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}n.length+=v&(1<<n.extra)-1,v>>>=n.extra,A-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=h0;case h0:for(;et=n.distcode[v&(1<<n.distbits)-1],V=et>>>24,dt=et>>>16&255,lt=et&65535,!(V<=A);){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}if(!(dt&240)){for(nt=V,ut=dt,p=lt;et=n.distcode[p+((v&(1<<nt+ut)-1)>>nt)],V=et>>>24,dt=et>>>16&255,lt=et&65535,!(nt+V<=A);){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}v>>>=nt,A-=nt,n.back+=nt}if(v>>>=V,A-=V,n.back+=V,dt&64){t.msg="invalid distance code",n.mode=Se;break}n.offset=lt,n.extra=dt&15,n.mode=d0;case d0:if(n.extra){for(qt=n.extra;A<qt;){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}n.offset+=v&(1<<n.extra)-1,v>>>=n.extra,A-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Se;break}n.mode=u0;case u0:if(S===0)break t;if(M=X-S,n.offset>M){if(M=n.offset-M,M>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Se;break}M>n.wnext?(M-=n.wnext,q=n.wsize-M):q=n.wnext-M,M>n.length&&(M=n.length),j=n.window}else j=a,q=u-n.offset,M=n.length;M>S&&(M=S),S-=M,n.length-=M;do a[u++]=j[q++];while(--M);n.length===0&&(n.mode=zh);break;case f0:if(S===0)break t;a[u++]=n.length,S--,n.mode=zh;break;case Bf:if(n.wrap){for(;A<32;){if(g===0)break t;g--,v|=i[l++]<<A,A+=8}if(X-=S,t.total_out+=X,n.total+=X,n.wrap&4&&X&&(t.adler=n.check=n.flags?je(n.check,a,X,u-X):cl(n.check,a,X,u-X)),X=S,n.wrap&4&&(n.flags?v:w0(v))!==n.check){t.msg="incorrect data check",n.mode=Se;break}v=0,A=0}n.mode=g0;case g0:if(n.wrap&&n.flags){for(;A<32;){if(g===0)break t;g--,v+=i[l++]<<A,A+=8}if(n.wrap&4&&v!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Se;break}v=0,A=0}n.mode=c0;case c0:Ct=uD;break t;case Se:Ct=P2;break t;case M2:return $2;case D2:default:return pi}return t.next_out=u,t.avail_out=S,t.next_in=l,t.avail_in=g,n.hold=v,n.bits=A,(n.wsize||X!==t.avail_out&&n.mode<Se&&(n.mode<Bf||e!==H_))&&W2(t,t.output,t.next_out,X-t.avail_out),Y-=t.avail_in,X-=t.avail_out,t.total_in+=Y,t.total_out+=X,n.total+=X,n.wrap&4&&X&&(t.adler=n.check=n.flags?je(n.check,a,X,t.next_out-X):cl(n.check,a,X,t.next_out-X)),t.data_type=n.bits+(n.last?64:0)+(n.mode===yr?128:0)+(n.mode===Wh||n.mode===Nf?256:0),(Y===0&&X===0||e===H_)&&Ct===Ko&&(Ct=gD),Ct},yD=t=>{if(na(t))return pi;let e=t.state;return e.window&&(e.window=null),t.state=null,Ko},xD=(t,e)=>{if(na(t))return pi;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,Ko):pi},SD=(t,e)=>{const n=e.length;let i,a,l;return na(t)||(i=t.state,i.wrap!==0&&i.mode!==md)?pi:i.mode===md&&(a=1,a=cl(a,e,n,0),a!==i.check)?P2:(l=W2(t,e,n,n),l?(i.mode=M2,$2):(i.havedict=1,Ko))};var CD=B2,AD=F2,ED=N2,ID=kD,TD=q2,LD=bD,RD=yD,YD=xD,OD=SD,XD="pako inflate (from Nodeca project)",Ar={inflateReset:CD,inflateReset2:AD,inflateResetKeep:ED,inflateInit:ID,inflateInit2:TD,inflate:LD,inflateEnd:RD,inflateGetHeader:YD,inflateSetDictionary:OD,inflateInfo:XD};function PD(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var $D=PD;const z2=Object.prototype.toString,{Z_NO_FLUSH:MD,Z_FINISH:DD,Z_OK:_l,Z_STREAM_END:Wf,Z_NEED_DICT:zf,Z_STREAM_ERROR:ND,Z_DATA_ERROR:_0,Z_MEM_ERROR:BD}=Ll;function Yl(t){this.options=qd.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new R2,this.strm.avail_out=0;let n=Ar.inflateInit2(this.strm,e.windowBits);if(n!==_l)throw new Error(qa[n]);if(this.header=new $D,Ar.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=pl.string2buf(e.dictionary):z2.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Ar.inflateSetDictionary(this.strm,e.dictionary),n!==_l)))throw new Error(qa[n])}Yl.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize,a=this.options.dictionary;let l,u,g;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?DD:MD,z2.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),l=Ar.inflate(n,u),l===zf&&a&&(l=Ar.inflateSetDictionary(n,a),l===_l?l=Ar.inflate(n,u):l===_0&&(l=zf));n.avail_in>0&&l===Wf&&n.state.wrap>0&&t[n.next_in]!==0;)Ar.inflateReset(n),l=Ar.inflate(n,u);switch(l){case ND:case _0:case zf:case BD:return this.onEnd(l),this.ended=!0,!1}if(g=n.avail_out,n.next_out&&(n.avail_out===0||l===Wf))if(this.options.to==="string"){let S=pl.utf8border(n.output,n.next_out),v=n.next_out-S,A=pl.buf2string(n.output,S);n.next_out=v,n.avail_out=i-v,v&&n.output.set(n.output.subarray(S,S+v),0),this.onData(A)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(l===_l&&g===0)){if(l===Wf)return l=Ar.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Yl.prototype.onData=function(t){this.chunks.push(t)};Yl.prototype.onEnd=function(t){t===_l&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=qd.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Rc(t,e){const n=new Yl(e);if(n.push(t),n.err)throw n.msg||qa[n.err];return n.result}function FD(t,e){return e=e||{},e.raw=!0,Rc(t,e)}var qD=Yl,WD=Rc,zD=FD,UD=Rc,HD=Ll,GD={Inflate:qD,inflate:WD,inflateRaw:zD,ungzip:UD,constants:HD};const{Inflate:uB,inflate:jD,inflateRaw:fB,ungzip:gB}=GD;var VD=jD;class ZD{constructor(e){_(this,"app");_(this,"overlays");_(this,"info");_(this,"map");_(this,"camera");_(this,"renderer");_(this,"input");_(this,"socket");_(this,"pointer");_(this,"audio");_(this,"entities");_(this,"bubble");_(this,"menu");_(this,"sprites");_(this,"messages");_(this,"lastEntityListRequest",Date.now());this.game=e,this.app=e.app,this.overlays=e.overlays,this.info=e.info,this.map=e.map,this.camera=e.camera,this.renderer=e.renderer,this.input=e.input,this.socket=e.socket,this.pointer=e.pointer,this.audio=e.audio,this.entities=e.entities,this.bubble=e.bubble,this.menu=e.menu,this.sprites=e.sprites,this.messages=this.socket.messages,this.app.onFocus(()=>this.socket.send(gt.Focus)),this.messages.onHandshake(this.handleHandshake.bind(this)),this.messages.onWelcome(this.handleWelcome.bind(this)),this.messages.onMap(this.handleMap.bind(this)),this.messages.onEquipment(this.handleEquipment.bind(this)),this.messages.onSpawn(this.entities.create.bind(this.entities)),this.messages.onEntityList(this.handleEntityList.bind(this)),this.messages.onSync(this.handleSync.bind(this)),this.messages.onMovement(this.handleMovement.bind(this)),this.messages.onTeleport(this.handleTeleport.bind(this)),this.messages.onDespawn(this.handleDespawn.bind(this)),this.messages.onCombat(this.handleCombat.bind(this)),this.messages.onAnimation(this.handleAnimation.bind(this)),this.messages.onPoints(this.handlePoints.bind(this)),this.messages.onNetwork(this.handleNetwork.bind(this)),this.messages.onChat(this.handleChat.bind(this)),this.messages.onCommand(this.handleCommand.bind(this)),this.messages.onContainer(this.handleContainer.bind(this)),this.messages.onAbility(this.handleAbility.bind(this)),this.messages.onQuest(this.handleQuest.bind(this)),this.messages.onAchievement(this.handleAchievement.bind(this)),this.messages.onNotification(this.handleNotification.bind(this)),this.messages.onBlink(this.handleBlink.bind(this)),this.messages.onHeal(this.handleHeal.bind(this)),this.messages.onExperience(this.handleExperience.bind(this)),this.messages.onDeath(this.handleDeath.bind(this)),this.messages.onMusic(this.handleMusic.bind(this)),this.messages.onNPC(this.handleNPC.bind(this)),this.messages.onRespawn(this.handleRespawn.bind(this)),this.messages.onEnchant(this.handleEnchant.bind(this)),this.messages.onGuild(this.handleGuild.bind(this)),this.messages.onPointer(this.handlePointer.bind(this)),this.messages.onPVP(this.handlePVP.bind(this)),this.messages.onPoison(this.handlePoison.bind(this)),this.messages.onStore(this.handleStore.bind(this)),this.messages.onOverlay(this.handleOverlay.bind(this)),this.messages.onCamera(this.handleCamera.bind(this)),this.messages.onBubble(this.handleBubble.bind(this)),this.messages.onSkill(this.handleSkill.bind(this)),this.messages.onUpdate(this.handleUpdate.bind(this)),this.messages.onMinigame(this.handleMinigame.bind(this)),this.messages.onEffect(this.handleEffect.bind(this)),this.messages.onFriends(this.handleFriends.bind(this))}handleHandshake(){if(this.app.updateLoader("Connecting to server"),this.app.isGuest())return this.socket.send(gt.Login,{opcode:jh.Guest});let e=this.app.getUsername(),n=this.app.getPassword(),i=this.app.getEmail();if(this.app.isRegistering())return this.socket.send(gt.Login,{opcode:jh.Register,username:e,password:n,email:i});this.socket.send(gt.Login,{opcode:jh.Login,username:e,password:n})}handleWelcome(e){this.game.player.load(e),this.game.start(),this.game.postLoad()}handleMap(e){let n=window.atob(e).split("").map(l=>l.charCodeAt(0)),i=VD(new Uint8Array(n),{to:"string"}),a=JSON.parse(i);this.map.loadRegions(a),this.renderer.forceRendering=!0,this.renderer.updateAnimatedTiles(),this.map.hasCachedDate()||this.app.fadeMenu()}handleEquipment(e,n){switch(e){case Qs.Batch:{y.each(n.data.equipments,i=>this.game.player.equip(i));break}case Qs.Equip:{this.game.player.equip(n.data);break}case Qs.Unequip:{this.game.player.unequip(n.type);break}}this.game.player.sync()}handleEntityList(e,n){switch(e){case Zf.Spawns:{let i=y.map(this.entities.getAll(),"instance"),a=y.intersection(i,n.entities),l=y.difference(n.entities,a);this.entities.decrepit=y.reject(this.entities.getAll(),u=>y.includes(a,u.instance)||u.instance===this.game.player.instance),this.entities.clean(),this.socket.send(gt.Who,l);break}case Zf.Positions:y.each(n.positions,(i,a)=>{let l=this.entities.get(a);!l||l.moving||l.hasPath()||(l.gridX!==i.x||l.gridY!==i.y)&&this.game.teleport(l,i.x,i.y)})}}handleSync(e){let n=this.entities.get(e.instance);!n||n.teleporting||n.dead||!n.ready||(n.load(e,!0),n.setSprite(this.game.sprites.get(n.getSpriteName())))}handleMovement(e,n){let i=this.entities.get(n.instance),a;if(!i)return this.canRequestEntityList()?(this.lastEntityListRequest=Date.now(),this.socket.send(gt.List)):void 0;switch(e){case Wi.Move:{n.forced&&i.stop(!0),i.go(n.x,n.y,!1,n.instance!==this.game.player.instance);break}case Wi.Follow:{if(a=this.entities.get(n.target),a){if(i.instance===this.game.player.instance&&!this.game.player.hasTarget()&&!n.forced)return;i.follow(a)}break}case Wi.Stop:{n.forced&&i.stop(!0);break}}}handleTeleport(e){let n=this.entities.get(e.instance);if(!n)return;this.input.selectedCellVisible=!1;let i=n.instance===this.game.player.instance;if(n.stop(!0),n.frozen=!0,n.disableAction=!0,i?this.bubble.clean():this.bubble.clear(n.instance),!e.withAnimation)return this.game.teleport(n,e.x,e.y);let a=n.sprite;n.teleporting=!0,n.setSprite(this.sprites.getDeath()),n.animateDeath(()=>{this.game.teleport(n,e.x,e.y),n.animation=null,n.setSprite(a),n.idle()},160)}handleDespawn(e){let n=this.entities.get(e.instance);if(n&&!(e.regions&&!e.regions.includes(n.region))){if(n.isItem())return this.entities.removeItem(n);if(n.isChest())return this.entities.removeChest(n);if(n.isNPC())return this.entities.removeNPC(n);n.despawn(),this.bubble.clear(n.instance),this.game.player.hasTarget(n)&&this.game.player.removeTarget(),this.audio.playKillSound(n),n.sprite.hasDeathAnimation||n.setSprite(this.sprites.getDeath()),n.animateDeath(()=>this.entities.removeEntity(n))}}handleCombat(e,n){let i=this.entities.get(n.instance),a=this.entities.get(n.target);if(!i||!a||e!==X0.Hit)return;let l=a.instance===this.game.player.instance,u=i.instance===this.game.player.instance;n.hit.terror&&a.setEffect(re.Terror),n.hit.poison&&a.setEffect(re.Poisonball),n.hit.type===kn.Critical&&a.setEffect(re.Critical),!n.hit.aoe&&!n.hit.poison&&(i.lookAt(a),i.performAction(i.orientation,Hn.Attack)),u&&n.hit.damage>0&&this.audio.playHitSound(a),l&&n.hit.damage>0&&this.audio.playSound("hurt"),this.info.create(n.hit.type,n.hit.damage,a.x,a.y,l),a.hurtSprite&&a.toggleHurt(),i.triggerHealthBar(),a.triggerHealthBar()}handleAnimation(e){let n=this.entities.get(e.instance);n&&n.performAction(n.orientation,e.action)}handlePoints(e){var i,a;let n=this.entities.get(e.instance);!n||n.dead||(e.mana&&n.setMana(e.mana,e.maxMana),e.hitPoints&&(n.setHitPoints(e.hitPoints,e.maxHitPoints),(a=(i=this.input.hud).updateCallback)==null||a.call(i,e.instance,e.hitPoints)))}handleNetwork(){this.socket.send(gt.Network,[P0.Pong])}handleChat(e){if(e.source)return this.input.chatHandler.add(e.source,e.message,e.colour,!0);let n=this.entities.get(e.instance);if(!n)return;let{name:i,x:a,y:l}=n;n.isModerator()&&(i=`[Moderator] ${i}`),n.isAdmin()&&(i=`[Admin] ${i}`),this.input.chatHandler.add(i,e.message,e.colour),e.withBubble&&(this.bubble.create(e.instance,e.message),this.bubble.setTo(e.instance,a,l),this.audio.playSound("npctalk",n))}handleCommand(e){if(e.command.includes("toggle")&&this.game.player.hasEffect())return this.game.player.removeEffect();switch(e.command){case"debug":{this.renderer.debugging=!this.renderer.debugging;return}case"toggleheal":{this.game.player.setEffect(re.Healing);break}case"toggleterror":{this.game.player.setEffect(re.Terror);break}case"togglefireball":{this.game.player.setEffect(re.Fireball);break}case"toggleiceball":{this.game.player.setEffect(re.Iceball);break}case"togglefire":{this.game.player.setEffect(re.Burning);break}case"togglefreeze":{this.game.player.setEffect(re.Freezing);break}case"togglestun":{this.game.player.setEffect(re.Stun);break}case"togglepoison":{this.game.player.setEffect(re.Poisonball);break}case"toggleboulder":{this.game.player.setEffect(re.Boulder);break}}}handleContainer(e,n){let i=n.type===oo.Inventory?this.menu.getInventory():this.menu.getBank();switch(e){case Hi.Batch:return i.batch(n.data.slots);case Hi.Add:{i.add(n.slot);break}case Hi.Remove:{i.remove(n.slot);break}}this.menu.synchronize()}handleAbility(e,n){switch(e){case Ma.Batch:{this.game.player.loadAbilities(n.abilities);break}case Ma.Add:case Ma.Update:{n=n,this.game.player.setAbility(n.key,n.level,n.type,n.quickSlot);break}}this.menu.synchronize("profile")}handleQuest(e,n){switch(e){case rl.Batch:{this.game.player.loadQuests(n.quests);break}case rl.Progress:{this.game.player.setQuest(n.key,n.stage,n.subStage);break}}this.menu.getQuests().handle(e,n.key)}handleAchievement(e,n){switch(e){case hd.Batch:{this.game.player.loadAchievements(n.achievements);break}case hd.Progress:{this.game.player.setAchievement(n.key,n.stage,n.name,n.description);break}}this.menu.getAchievements().handle(e,n.key)}handleNotification(e,n){switch(e){case Kf.Text:return this.input.chatHandler.add("WORLD",n.message,n.colour,!0);case Kf.Popup:return this.menu.getNotification().show(n.title,n.message,n.colour)}}handleBlink(e){let n=this.entities.get(e);n==null||n.blink()}handleHeal(e){let n=this.entities.get(e.instance);if(n){switch(e.type){case"hitpoints":{this.info.create(kn.Heal,e.amount,n.x,n.y),n.setEffect(re.Healing);break}case"mana":{this.info.create(kn.Mana,e.amount,n.x,n.y);break}}n.triggerHealthBar()}}handleExperience(e,n){let i=this.entities.get(n.instance);if(!i)return;let a=i.instance===this.game.player.instance;switch(e){case Jf.Sync:{i.level=n.level;break}case Jf.Skill:{a&&this.info.create(kn.Profession,n.amount,i.x,i.y,!1,n.skill,!0);break}}}handleDeath(){this.game.minigame.reset(),this.game.player.teleporting=!0,this.game.player.setSprite(this.sprites.getDeath()),this.game.player.setHitPoints(0),this.game.player.setMana(0),this.audio.stopMusic(),this.game.player.animateDeath(()=>{this.game.entities.unregisterPosition(this.game.player),this.game.player.despawn(),this.app.body.classList.add("death")})}handleMusic(e){this.audio.playMusic(e)}handleNPC(e,n){let i,a;switch(e){case Vh.Talk:{if(i=this.entities.get(n.instance),!i)return;if(a=n.text?"npc":"npc-end",this.audio.playSound(a,i),this.game.player.disableAction=!0,!n.text)return this.bubble.clear(i.instance);this.bubble.create(i.instance,n.text),this.bubble.setTo(i.instance,i.x,i.y);break}case Vh.Bank:return this.menu.getBank().show(n.slots);case Vh.Enchant:break}}handleRespawn(e){this.game.player.setGridPosition(e.x,e.y),this.camera.centreOn(this.game.player),this.game.player.animation=null,this.game.player.setSprite(this.game.sprites.get(this.game.player.getSpriteName())),this.game.player.idle(),this.entities.addEntity(this.game.player),this.game.player.dead=!1,this.game.player.teleporting=!1}handleEnchant(e,n){switch(e){case Qf.Select:break;case Qf.Remove:break}}handleGuild(e){ce.debug(`Guild Opcode: ${e}`)}handlePointer(e,n){let i;switch(e){case Pn.Entity:{if(i=this.entities.get(n.instance),!i)return;this.pointer.create(i.instance,e),this.pointer.setToEntity(i);break}case Pn.Location:{this.pointer.create(n.instance,e),this.pointer.setToPosition(n.instance,n.x*this.map.tileSize,n.y*this.map.tileSize);break}case Pn.Relative:{this.pointer.create(n.instance,e),this.pointer.setRelative(n.instance,n.x,n.y);break}case Pn.Remove:{this.pointer.clean();break}case Pn.Button:{this.pointer.create(n.instance,e,n.button);break}}}handlePVP(e){this.game.pvp=e.state}handlePoison(e){this.game.player.setPoison(e!==-1)}handleStore(e,n){switch(e){case Ho.Open:return this.menu.getStore().show(n);case Ho.Update:return this.menu.getStore().update(n);case Ho.Select:return this.menu.getStore().move(n)}}handleOverlay(e,n){switch(e){case Zh.Set:{this.overlays.update(n.image),this.renderer.updateDarkMask(n.colour);break}case Zh.Remove:{this.renderer.removeAllLights(),this.overlays.update();break}case Zh.Lamp:return this.renderer.addLight(n.light)}}handleCamera(e){}handleBubble(e,n){if(!n.text)return this.bubble.clear(n.instance);let i=this.entities.get(n.instance);if(e===M0.Entity&&!i)return;let a=i?void 0:{x:n.x*this.map.tileSize,y:n.y*this.map.tileSize};this.bubble.create(n.instance,n.text,n.duration,a),this.bubble.setTo(n.instance,a?a.x:i.x,a?a.y:i.y)}handleSkill(e,n){switch(e){case tg.Batch:{this.game.player.loadSkills(n.skills);break}case tg.Update:{this.game.player.setSkill(n);break}}this.game.menu.synchronize("profile")}handleUpdate(e){this.entities.cleanDisplayInfo(),y.each(e,n=>{let i=this.entities.get(n.instance);i&&(n.colour&&(i.nameColour=n.colour),n.scale&&(i.customScale=n.scale))})}handleMinigame(e,n){let{minigame:i,player:a}=this.game;switch(i.type=e,i.started=!!n.started,n.countdown&&(i.countdown=n.countdown),n.action){case Hs.Score:return!isNaN(n.redTeamKills)&&!isNaN(n.blueTeamKills)&&i.setScore(n.redTeamKills,n.blueTeamKills),i.setStatus("ingame");case Hs.End:case Hs.Lobby:return a.nameColour="",i.setStatus("lobby");case Hs.Exit:return i.reset()}}handleEffect(e,n){let i=n.instance===this.game.player.instance?this.game.player:this.entities.get(n.instance);if(i)switch(e){case Gs.Speed:{i.movementSpeed=n.movementSpeed;break}case Gs.Stun:{i.stunned=!!n.state;break}case Gs.Freeze:{i.setEffect(re.Freezing);break}case Gs.Burn:{i.setEffect(re.Burning);break}}}handleFriends(e,n){switch(e){case Ui.List:{this.game.player.loadFriends(n.list);break}case Ui.Add:{this.game.player.addFriend(n.username,n.status);break}case Ui.Status:{this.game.player.setFriendStatus(n.username,n.status);break}}this.menu.getFriends().handle(e,n.username,n.status)}canRequestEntityList(){return Date.now()-this.lastEntityListRequest>5e3}}const Qi=Object.create(null);Qi.open="0";Qi.close="1";Qi.ping="2";Qi.pong="3";Qi.message="4";Qi.upgrade="5";Qi.noop="6";const nd=Object.create(null);Object.keys(Qi).forEach(t=>{nd[Qi[t]]=t});const KD={type:"error",data:"parser error"},JD=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",QD=typeof ArrayBuffer=="function",tN=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,U2=({type:t,data:e},n,i)=>JD&&e instanceof Blob?n?i(e):m0(e,i):QD&&(e instanceof ArrayBuffer||tN(e))?n?i(e):m0(new Blob([e]),i):i(Qi[t]+(e||"")),m0=(t,e)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];e("b"+i)},n.readAsDataURL(t)};var k0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ks=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Uh=0;Uh<k0.length;Uh++)Ks[k0.charCodeAt(Uh)]=Uh;var eN=function(t){var e=t.length*.75,n=t.length,i,a=0,l,u,g,S;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var v=new ArrayBuffer(e),A=new Uint8Array(v);for(i=0;i<n;i+=4)l=Ks[t.charCodeAt(i)],u=Ks[t.charCodeAt(i+1)],g=Ks[t.charCodeAt(i+2)],S=Ks[t.charCodeAt(i+3)],A[a++]=l<<2|u>>4,A[a++]=(u&15)<<4|g>>2,A[a++]=(g&3)<<6|S&63;return v};const nN=typeof ArrayBuffer=="function",H2=(t,e)=>{if(typeof t!="string")return{type:"message",data:G2(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:iN(t.substring(1),e)}:nd[n]?t.length>1?{type:nd[n],data:t.substring(1)}:{type:nd[n]}:KD},iN=(t,e)=>{if(nN){const n=eN(t);return G2(n,e)}else return{base64:!0,data:t}},G2=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}},j2=String.fromCharCode(30),rN=(t,e)=>{const n=t.length,i=new Array(n);let a=0;t.forEach((l,u)=>{U2(l,!1,g=>{i[u]=g,++a===n&&e(i.join(j2))})})},oN=(t,e)=>{const n=t.split(j2),i=[];for(let a=0;a<n.length;a++){const l=H2(n[a],e);if(i.push(l),l.type==="error")break}return i},V2=4;function Be(t){if(t)return aN(t)}function aN(t){for(var e in Be.prototype)t[e]=Be.prototype[e];return t}Be.prototype.on=Be.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Be.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Be.prototype.off=Be.prototype.removeListener=Be.prototype.removeAllListeners=Be.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,a=0;a<n.length;a++)if(i=n[a],i===e||i.fn===e){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Be.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,a=n.length;i<a;++i)n[i].apply(this,e)}return this};Be.prototype.emitReserved=Be.prototype.emit;Be.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Be.prototype.hasListeners=function(t){return!!this.listeners(t).length};const eo=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Z2(t,...e){return e.reduce((n,i)=>(t.hasOwnProperty(i)&&(n[i]=t[i]),n),{})}const sN=setTimeout,lN=clearTimeout;function zd(t,e){e.useNativeTimers?(t.setTimeoutFn=sN.bind(eo),t.clearTimeoutFn=lN.bind(eo)):(t.setTimeoutFn=setTimeout.bind(eo),t.clearTimeoutFn=clearTimeout.bind(eo))}const hN=1.33;function dN(t){return typeof t=="string"?uN(t):Math.ceil((t.byteLength||t.size)*hN)}function uN(t){let e=0,n=0;for(let i=0,a=t.length;i<a;i++)e=t.charCodeAt(i),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}class fN extends Error{constructor(e,n,i){super(e),this.description=n,this.context=i,this.type="TransportError"}}class K2 extends Be{constructor(e){super(),this.writable=!1,zd(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,n,i){return super.emitReserved("error",new fN(e,n,i)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=H2(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const J2="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),xg=64,gN={};let v0=0,Hh=0,b0;function y0(t){let e="";do e=J2[t%xg]+e,t=Math.floor(t/xg);while(t>0);return e}function Q2(){const t=y0(+new Date);return t!==b0?(v0=0,b0=t):t+"."+y0(v0++)}for(;Hh<xg;Hh++)gN[J2[Hh]]=Hh;function tk(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function cN(t){let e={},n=t.split("&");for(let i=0,a=n.length;i<a;i++){let l=n[i].split("=");e[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return e}let ek=!1;try{ek=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(t){}const wN=ek;function nk(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||wN))return new XMLHttpRequest}catch(n){}if(!e)try{return new eo[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(n){}}function pN(){}const _N=function(){return new nk({xdomain:!1}).responseType!=null}();class mN extends K2{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let a=location.port;a||(a=i?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||a!==e.port,this.xs=e.secure!==i}const n=e&&e.forceBase64;this.supportsBinary=_N&&!n}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};oN(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,rN(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const n=this.opts.secure?"https":"http";let i="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=Q2()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(n==="https"&&Number(this.opts.port)!==443||n==="http"&&Number(this.opts.port)!==80)&&(i=":"+this.opts.port);const a=tk(e),l=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(l?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(a.length?"?"+a:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Zi(this.uri(),e)}doWrite(e,n){const i=this.request({method:"POST",data:e});i.on("success",n),i.on("error",(a,l)=>{this.onError("xhr post error",a,l)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=e}}class Zi extends Be{constructor(e,n){super(),zd(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.create()}create(){const e=Z2(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const n=this.xhr=new nk(e);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch(i){}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{n.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=Zi.requestsCount++,Zi.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=pN,e)try{this.xhr.abort()}catch(n){}typeof document<"u"&&delete Zi.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Zi.requestsCount=0;Zi.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",x0);else if(typeof addEventListener=="function"){const t="onpagehide"in eo?"pagehide":"unload";addEventListener(t,x0,!1)}}function x0(){for(let t in Zi.requests)Zi.requests.hasOwnProperty(t)&&Zi.requests[t].abort()}const kN=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0))(),Gh=eo.WebSocket||eo.MozWebSocket,S0=!0,vN="arraybuffer",C0=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class bN extends K2{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),n=this.opts.protocols,i=C0?{}:Z2(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=S0&&!C0?n?new Gh(e,n):new Gh(e):new Gh(e,n,i)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType||vN,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],a=n===e.length-1;U2(i,this.supportsBinary,l=>{const u={};try{S0&&this.ws.send(l)}catch(g){}a&&kN(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const n=this.opts.secure?"wss":"ws";let i="";this.opts.port&&(n==="wss"&&Number(this.opts.port)!==443||n==="ws"&&Number(this.opts.port)!==80)&&(i=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Q2()),this.supportsBinary||(e.b64=1);const a=tk(e),l=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(l?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(a.length?"?"+a:"")}check(){return!!Gh}}const yN={websocket:bN,polling:mN},xN=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,SN=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Sg(t){const e=t,n=t.indexOf("["),i=t.indexOf("]");n!=-1&&i!=-1&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));let a=xN.exec(t||""),l={},u=14;for(;u--;)l[SN[u]]=a[u]||"";return n!=-1&&i!=-1&&(l.source=e,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=CN(l,l.path),l.queryKey=AN(l,l.query),l}function CN(t,e){const n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&i.splice(0,1),e.substr(e.length-1,1)=="/"&&i.splice(i.length-1,1),i}function AN(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,a,l){a&&(n[a]=l)}),n}let qo=class extends Be{constructor(e,n={}){super(),e&&typeof e=="object"&&(n=e,e=null),e?(e=Sg(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=Sg(n.host).host),zd(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=cN(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=V2,n.transport=e,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts.transportOptions[e],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new yN[e](i)}open(){let e;if(this.opts.rememberUpgrade&&qo.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch(n){this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),i=!1;qo.priorWebsocketSuccess=!1;const a=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",Y=>{if(!i)if(Y.type==="pong"&&Y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;qo.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(A(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const X=new Error("probe error");X.transport=n.name,this.emitReserved("upgradeError",X)}}))};function l(){i||(i=!0,A(),n.close(),n=null)}const u=Y=>{const X=new Error("probe error: "+Y);X.transport=n.name,l(),this.emitReserved("upgradeError",X)};function g(){u("transport closed")}function S(){u("socket closed")}function v(Y){n&&Y.name!==n.name&&l()}const A=()=>{n.removeListener("open",a),n.removeListener("error",u),n.removeListener("close",g),this.off("close",S),this.off("upgrading",v)};n.once("open",a),n.once("error",u),n.once("close",g),this.once("close",S),this.once("upgrading",v),n.open()}onOpen(){if(this.readyState="open",qo.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const a=this.writeBuffer[i].data;if(a&&(n+=dN(a)),i>0&&n>this.maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}write(e,n,i){return this.sendPacket("message",e,n,i),this}send(e,n,i){return this.sendPacket("message",e,n,i),this}sendPacket(e,n,i,a){if(typeof n=="function"&&(a=n,n=void 0),typeof i=="function"&&(a=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const l={type:e,data:n,options:i};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){qo.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let i=0;const a=e.length;for(;i<a;i++)~this.transports.indexOf(e[i])&&n.push(e[i]);return n}};qo.protocol=V2;function EN(t,e="",n){let i=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),i=Sg(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const l=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+l+":"+i.port+e,i.href=i.protocol+"://"+l+(n&&n.port===i.port?"":":"+i.port),i}const IN=typeof ArrayBuffer=="function",TN=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,ik=Object.prototype.toString,LN=typeof Blob=="function"||typeof Blob<"u"&&ik.call(Blob)==="[object BlobConstructor]",RN=typeof File=="function"||typeof File<"u"&&ik.call(File)==="[object FileConstructor]";function Yc(t){return IN&&(t instanceof ArrayBuffer||TN(t))||LN&&t instanceof Blob||RN&&t instanceof File}function id(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(id(t[n]))return!0;return!1}if(Yc(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return id(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&id(t[n]))return!0;return!1}function YN(t){const e=[],n=t.data,i=t;return i.data=Cg(n,e),i.attachments=e.length,{packet:i,buffers:e}}function Cg(t,e){if(!t)return t;if(Yc(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=Cg(t[i],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Cg(t[i],e));return n}return t}function ON(t,e){return t.data=Ag(t.data,e),t.attachments=void 0,t}function Ag(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Ag(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Ag(t[n],e));return t}const XN=5;var oe;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(oe||(oe={}));class PN{constructor(e){this.replacer=e}encode(e){return(e.type===oe.EVENT||e.type===oe.ACK)&&id(e)?(e.type=e.type===oe.EVENT?oe.BINARY_EVENT:oe.BINARY_ACK,this.encodeAsBinary(e)):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===oe.BINARY_EVENT||e.type===oe.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=YN(e),i=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(i),a}}class Oc extends Be{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e),n.type===oe.BINARY_EVENT||n.type===oe.BINARY_ACK?(this.reconstructor=new $N(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Yc(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const i={type:Number(e.charAt(0))};if(oe[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===oe.BINARY_EVENT||i.type===oe.BINARY_ACK){const l=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const u=e.substring(l,n);if(u!=Number(u)||e.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(u)}if(e.charAt(n+1)==="/"){const l=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););i.nsp=e.substring(l,n)}else i.nsp="/";const a=e.charAt(n+1);if(a!==""&&Number(a)==a){const l=n+1;for(;++n;){const u=e.charAt(n);if(u==null||Number(u)!=u){--n;break}if(n===e.length)break}i.id=Number(e.substring(l,n+1))}if(e.charAt(++n)){const l=this.tryParse(e.substr(n));if(Oc.isPayloadValid(i.type,l))i.data=l;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(n){return!1}}static isPayloadValid(e,n){switch(e){case oe.CONNECT:return typeof n=="object";case oe.DISCONNECT:return n===void 0;case oe.CONNECT_ERROR:return typeof n=="string"||typeof n=="object";case oe.EVENT:case oe.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case oe.ACK:case oe.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class $N{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=ON(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const MN=Object.freeze(Object.defineProperty({__proto__:null,protocol:XN,get PacketType(){return oe},Encoder:PN,Decoder:Oc},Symbol.toStringTag,{value:"Module"}));function Ei(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const DN=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});let rk=class extends Be{constructor(e,n,i){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ei(e,"open",this.onopen.bind(this)),Ei(e,"packet",this.onpacket.bind(this)),Ei(e,"error",this.onerror.bind(this)),Ei(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(DN.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');n.unshift(e);const i={type:oe.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const u=this.ids++,g=n.pop();this._registerAckCallback(u,g),i.id=u}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,n){const i=this.flags.timeout;if(i===void 0){this.acks[e]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},i);this.acks[e]=(...l)=>{this.io.clearTimeoutFn(a),n.apply(this,[null,...l])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this.packet({type:oe.CONNECT,data:e})}):this.packet({type:oe.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case oe.CONNECT:if(e.data&&e.data.sid){const a=e.data.sid;this.onconnect(a)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case oe.EVENT:case oe.BINARY_EVENT:this.onevent(e);break;case oe.ACK:case oe.BINARY_ACK:this.onack(e);break;case oe.DISCONNECT:this.ondisconnect();break;case oe.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,e)}super.emit.apply(this,e)}ack(e){const n=this;let i=!1;return function(...a){i||(i=!0,n.packet({type:oe.ACK,id:e,data:a}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(n.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:oe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,e.data)}}};function is(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}is.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};is.prototype.reset=function(){this.attempts=0};is.prototype.setMin=function(t){this.ms=t};is.prototype.setMax=function(t){this.max=t};is.prototype.setJitter=function(t){this.jitter=t};class Eg extends Be{constructor(e,n){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,zd(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new is({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const a=n.parser||MN;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new qo(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const a=Ei(n,"open",function(){i.onopen(),e&&e()}),l=Ei(n,"error",u=>{i.cleanup(),i._readyState="closed",this.emitReserved("error",u),e?e(u):i.maybeReconnectOnOpen()});if(this._timeout!==!1){const u=this._timeout;u===0&&a();const g=this.setTimeoutFn(()=>{a(),n.close(),n.emit("error",new Error("timeout"))},u);this.opts.autoUnref&&g.unref(),this.subs.push(function(){clearTimeout(g)})}return this.subs.push(a),this.subs.push(l),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ei(e,"ping",this.onping.bind(this)),Ei(e,"data",this.ondata.bind(this)),Ei(e,"error",this.onerror.bind(this)),Ei(e,"close",this.onclose.bind(this)),Ei(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,n){let i=this.nsps[e];return i||(i=new rk(this,e,n),this.nsps[e]=i),i}_destroy(e){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let i=0;i<n.length;i++)this.engine.write(n[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(function(){clearTimeout(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const zs={};function rd(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=EN(t,e.path||"/socket.io"),i=n.source,a=n.id,l=n.path,u=zs[a]&&l in zs[a].nsps,g=e.forceNew||e["force new connection"]||e.multiplex===!1||u;let S;return g?S=new Eg(i,e):(zs[a]||(zs[a]=new Eg(i,e)),S=zs[a]),n.query&&!e.query&&(e.query=n.queryKey),S.socket(n.path,e)}Object.assign(rd,{Manager:Eg,Socket:rk,io:rd,connect:rd});class NN{constructor(e){_(this,"messages",[]);_(this,"handshakeCallback");_(this,"welcomeCallback");_(this,"mapCallback");_(this,"spawnCallback");_(this,"equipmentCallback");_(this,"entityListCallback");_(this,"syncCallback");_(this,"movementCallback");_(this,"teleportCallback");_(this,"despawnCallback");_(this,"combatCallback");_(this,"animationCallback");_(this,"pointsCallback");_(this,"networkCallback");_(this,"chatCallback");_(this,"commandCallback");_(this,"containerCallback");_(this,"abilityCallback");_(this,"questCallback");_(this,"achievementCallback");_(this,"notificationCallback");_(this,"blinkCallback");_(this,"healCallback");_(this,"experienceCallback");_(this,"deathCallback");_(this,"musicCallback");_(this,"npcCallback");_(this,"respawnCallback");_(this,"enchantCallback");_(this,"guildCallback");_(this,"pointerCallback");_(this,"pvpCallback");_(this,"poisonCallback");_(this,"storeCallback");_(this,"overlayCallback");_(this,"cameraCallback");_(this,"bubbleCallback");_(this,"skillCallback");_(this,"updateCallback");_(this,"minigameCallback");_(this,"effectCallback");_(this,"friendsCallback");this.app=e,this.messages[gt.Handshake]=()=>this.handshakeCallback,this.messages[gt.Welcome]=()=>this.welcomeCallback,this.messages[gt.Spawn]=()=>this.spawnCallback,this.messages[gt.Equipment]=()=>this.equipmentCallback,this.messages[gt.List]=()=>this.entityListCallback,this.messages[gt.Sync]=()=>this.syncCallback,this.messages[gt.Movement]=()=>this.movementCallback,this.messages[gt.Teleport]=()=>this.teleportCallback,this.messages[gt.Despawn]=()=>this.despawnCallback,this.messages[gt.Combat]=()=>this.combatCallback,this.messages[gt.Animation]=()=>this.animationCallback,this.messages[gt.Points]=()=>this.pointsCallback,this.messages[gt.Network]=()=>this.networkCallback,this.messages[gt.Chat]=()=>this.chatCallback,this.messages[gt.Command]=()=>this.commandCallback,this.messages[gt.Container]=()=>this.containerCallback,this.messages[gt.Ability]=()=>this.abilityCallback,this.messages[gt.Quest]=()=>this.questCallback,this.messages[gt.Achievement]=()=>this.achievementCallback,this.messages[gt.Notification]=()=>this.notificationCallback,this.messages[gt.Blink]=()=>this.blinkCallback,this.messages[gt.Heal]=()=>this.healCallback,this.messages[gt.Experience]=()=>this.experienceCallback,this.messages[gt.Death]=()=>this.deathCallback,this.messages[gt.Music]=()=>this.musicCallback,this.messages[gt.NPC]=()=>this.npcCallback,this.messages[gt.Respawn]=()=>this.respawnCallback,this.messages[gt.Enchant]=()=>this.enchantCallback,this.messages[gt.Guild]=()=>this.guildCallback,this.messages[gt.Pointer]=()=>this.pointerCallback,this.messages[gt.PVP]=()=>this.pvpCallback,this.messages[gt.Poison]=()=>this.poisonCallback,this.messages[gt.Store]=()=>this.storeCallback,this.messages[gt.Map]=()=>this.mapCallback,this.messages[gt.Overlay]=()=>this.overlayCallback,this.messages[gt.Camera]=()=>this.cameraCallback,this.messages[gt.Bubble]=()=>this.bubbleCallback,this.messages[gt.Skill]=()=>this.skillCallback,this.messages[gt.Update]=()=>this.updateCallback,this.messages[gt.Minigame]=()=>this.minigameCallback,this.messages[gt.Effect]=()=>this.effectCallback,this.messages[gt.Friends]=()=>this.friendsCallback}handleData(e){let n=e.shift(),i=this.messages[n]();i&&y.isFunction(i)&&i.call(this,...e)}handleBulkData(e){y.each(e,this.handleData.bind(this))}handleUTF8(e){switch(this.app.toggleLogin(!1),e){case"full":{this.app.sendError("The servers are currently full!");break}case"error":{this.app.sendError("The server has responded with an error!");break}case"development":{this.app.sendError("The game is currently in development mode.");break}case"disallowed":{this.app.sendError("The server is currently not accepting connections!");break}case"maintenance":{this.app.sendError("Kaetram is currently under maintenance.");break}case"userexists":{this.app.sendError("The username you have entered already exists.");break}case"emailexists":{this.app.sendError("The email you have entered is not available.");break}case"invalidinput":{this.app.sendError("The input you have provided is invalid.");break}case"loggedin":{this.app.sendError("The player is already logged in!");break}case"invalidlogin":{this.app.sendError("You have entered the wrong username or password.");break}case"toofast":{this.app.sendError("You are trying to log in too fast from the same connection.");break}case"timeout":{this.app.sendError("You have been disconnected for being inactive for too long.");break}case"updated":{this.app.sendError("The game has been updated. Please clear your browser cache.");break}case"cheating":{this.app.sendError("You have been disconnected for no-clipping or hacking.");break}default:{this.app.sendError("An unknown error has occurred, please submit a bug report.");break}}}onHandshake(e){this.handshakeCallback=e}onWelcome(e){this.welcomeCallback=e}onSpawn(e){this.spawnCallback=e}onEquipment(e){this.equipmentCallback=e}onEntityList(e){this.entityListCallback=e}onSync(e){this.syncCallback=e}onMovement(e){this.movementCallback=e}onTeleport(e){this.teleportCallback=e}onDespawn(e){this.despawnCallback=e}onCombat(e){this.combatCallback=e}onAnimation(e){this.animationCallback=e}onPoints(e){this.pointsCallback=e}onNetwork(e){this.networkCallback=e}onChat(e){this.chatCallback=e}onCommand(e){this.commandCallback=e}onContainer(e){this.containerCallback=e}onAbility(e){this.abilityCallback=e}onQuest(e){this.questCallback=e}onAchievement(e){this.achievementCallback=e}onNotification(e){this.notificationCallback=e}onBlink(e){this.blinkCallback=e}onHeal(e){this.healCallback=e}onExperience(e){this.experienceCallback=e}onDeath(e){this.deathCallback=e}onMusic(e){this.musicCallback=e}onNPC(e){this.npcCallback=e}onRespawn(e){this.respawnCallback=e}onEnchant(e){this.enchantCallback=e}onGuild(e){this.guildCallback=e}onPointer(e){this.pointerCallback=e}onPVP(e){this.pvpCallback=e}onPoison(e){this.poisonCallback=e}onStore(e){this.storeCallback=e}onMap(e){this.mapCallback=e}onOverlay(e){this.overlayCallback=e}onCamera(e){this.cameraCallback=e}onBubble(e){this.bubbleCallback=e}onSkill(e){this.skillCallback=e}onUpdate(e){this.updateCallback=e}onMinigame(e){this.minigameCallback=e}onEffect(e){this.effectCallback=e}onFriends(e){this.friendsCallback=e}}class BN{constructor(e){_(this,"messages");_(this,"config");_(this,"connection");_(this,"listening",!1);this.game=e,this.config=e.app.config,this.messages=new NN(e.app)}async getServer(){if(this.config.hub)try{return await(await fetch(`${this.config.hub}/server`)).json()}catch(e){return}}async connect(e){let{host:n,port:i}=e||await this.getServer()||this.config,a=this.config.ssl?`wss://${n}`:`ws://${n}:${i}`;this.connection=rd(a,{transports:["websocket"],forceNew:!0,reconnection:!1}),this.connection.on("connect",this.handleConnection.bind(this)),this.connection.on("connect_error",l=>{console.error(`connect_error due to ${l.message}`),this.handleConnectionError(n,i)}),this.connection.on("message",l=>this.receive(l.message||l)),this.connection.on("disconnect",()=>this.game.handleDisconnection()),this.game.audio.createContext()}receive(e){if(this.listening)if(e.startsWith("[")){let n=JSON.parse(e);n.length>1?this.messages.handleBulkData(n):this.messages.handleData(n.shift())}else this.messages.handleUTF8(e)}send(e,n){var a;let i=JSON.stringify([e,n]);(a=this.connection)!=null&&a.connected&&this.connection.send(i)}handleConnection(){this.listening=!0,ce.info("Connection established..."),this.game.app.updateLoader("Preparing handshake"),this.connection.emit("client",{gVer:this.config.version,cType:"HTML5"})}handleConnectionError(e,n){ce.info(`Failed to connect to: ${e}`),this.listening=!1,this.game.app.toggleLogin(!1),this.game.app.sendError("Could not connect to the game server.")}}const A0=6,E0=2.8,I0=52,T0=28;class FN{constructor(e,n,i){_(this,"border",Ti("#border"));_(this,"x",0);_(this,"y",0);_(this,"gridX",0);_(this,"gridY",0);_(this,"gridWidth",0);_(this,"gridHeight",0);_(this,"borderX",0);_(this,"borderY",0);_(this,"zoomFactor",3);_(this,"centered",!0);_(this,"lockX",!1);_(this,"lockY",!1);this.width=e,this.height=n,this.tileSize=i,this.update()}update(){let e=this.border.width(),n=this.border.height();this.gridWidth=Math.ceil(e/this.tileSize/this.zoomFactor),this.gridHeight=Math.ceil(n/this.tileSize/this.zoomFactor),this.clamp(),this.borderX=(this.width-this.gridWidth)*this.tileSize,this.borderY=(this.height-this.gridHeight)*this.tileSize}clamp(){this.gridWidth>I0&&(this.gridWidth=I0),this.gridHeight>T0&&(this.gridHeight=T0)}setGridPosition(e,n){this.gridX=e,this.gridY=n,this.x=e*this.tileSize,this.y=n*this.tileSize}clip(){this.setGridPosition(Math.round(this.x/this.tileSize),Math.round(this.y/this.tileSize))}center(){this.centered=!0}decenter(){this.centered=!1,this.clip()}centreOn(e){let n=Math.floor(this.gridWidth/2),i=Math.floor(this.gridHeight/2),a=e.x-n*this.tileSize,l=e.y-i*this.tileSize;a>=0&&a<=this.borderX&&!this.lockX?(this.x=a,this.gridX=Math.round(e.x/this.tileSize)-n):this.offsetX(a),l>=0&&l<=this.borderY&&!this.lockY?(this.y=l,this.gridY=Math.round(e.y/this.tileSize)-i):this.offsetY(l)}offsetX(e){e<=this.tileSize?(this.x=0,this.gridX=0):e>=this.borderX&&(this.x=this.borderX,this.gridX=Math.round(this.borderX/this.tileSize))}offsetY(e){e<=this.tileSize?(this.y=0,this.gridY=0):e>=this.borderY&&(this.y=this.borderY,this.gridY=Math.round(this.borderY/this.tileSize))}zone(e){switch(e){case Xt.Up:{this.setGridPosition(this.gridX,this.gridY-this.gridHeight+3);break}case Xt.Down:{this.setGridPosition(this.gridX,this.gridY+this.gridHeight-3);break}case Xt.Right:{this.setGridPosition(this.gridX+this.gridWidth-3,this.gridY);break}case Xt.Left:{this.setGridPosition(this.gridX-this.gridWidth+3,this.gridY);break}}this.zoneClip()}zoneClip(){this.gridX<0&&this.setGridPosition(0,this.gridY),this.gridX>this.width&&this.setGridPosition(this.width,this.gridY),this.gridY<0&&this.setGridPosition(this.gridX,0),this.gridY>this.height&&this.setGridPosition(this.gridX,this.height)}zoom(e){this.zoomFactor+=e,this.zoomFactor>A0&&(this.zoomFactor=A0),this.zoomFactor<E0&&(this.zoomFactor=E0),this.zoomFactor=parseFloat(this.zoomFactor.toFixed(1))}isCentered(){return this.centered}isVisible(e,n,i,a){return e>this.gridX-i&&e<this.gridX+this.gridWidth&&n>this.gridY-i&&n<this.gridY+this.gridHeight+a}forEachVisiblePosition(e,n=1){for(let i=this.gridY-n,a=i+this.gridHeight+n*2;i<a;i++)for(let l=this.gridX-n,u=l+this.gridWidth+n*2;l<u;l++)e(l,i)}}class qN{constructor(e=-1,n="exit",i=180){_(this,"redTeamScore",0);_(this,"blueTeamScore",0);_(this,"started",!1);this.type=e,this.status=n,this.countdown=i}reset(){this.type=-1,this.status="exit",this.started=!1}setStatus(e){this.status=e}setScore(e,n){this.redTeamScore=e,this.blueTeamScore=n}exists(){return this.type>-1}}class WN{constructor(){_(this,"currentOverlay","");_(this,"overlays",{fog:this.load("fog")})}load(e){let n=new Image,i=`/img/overlays/${e}.png`;return n.crossOrigin="Anonymous",n.src=i,n.addEventListener("load",()=>ce.debug(`Loaded ${e}`)),n}hasOverlay(){return this.currentOverlay!==""}get(){return this.overlays[this.currentOverlay]}update(e=""){this.currentOverlay=e}}class Ve{constructor(e=0,n=0){this.x=e,this.y=n}copy(){return new Ve(this.x,this.y)}dot(e){return e.x*this.x+e.y*this.y}sub(e){return new Ve(this.x-e.x,this.y-e.y)}add(e){return new Ve(this.x+e.x,this.y+e.y)}mul(e){return new Ve(this.x*e,this.y*e)}inv(){return this.mul(-1)}dist2(e){return(this.x-e.x)**2+(this.y-e.y)**2}normalize(){var e=Math.sqrt(this.length2());return new Ve(this.x/e||0,this.y/e||0)}length2(){return this.x**2+this.y**2}toString(){return`${this.x},${this.y}`}inBound(e,n){return e.x<this.x&&this.x<n.x&&e.y<this.y&&this.y<n.y}}function ml(t,e,n){var i=`illuminated-${t}`,a=document.querySelector(`#${i}`);a||((a=document.createElement("canvas")).id=i,a.width=e,a.height=n,a.style.display="none",document.body.append(a));var l=a.getContext("2d");return l.clearRect(0,0,a.width,a.height),a.width=e,a.height=n,{canvas:a,ctx:l,w:e,h:n}}var zN=(()=>{var t=document.createElement("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return(n,i=1)=>{e.clearRect(0,0,1,1),e.fillStyle=n,e.fillRect(0,0,1,1);var[a,l,u]=e.getImageData(0,0,1,1).data;return`rgba(${[a,l,u,i]})`}})();(()=>{var t=document.createElement("canvas");t.width=1,t.height=1;var e=t.getContext("2d");function n(i){var a=i.toString(16);return a.length===1&&(a=`0${a}`),a}return i=>{e.clearRect(0,0,1,1),e.fillStyle=i,e.fillRect(0,0,1,1);var[a,l,u,g]=e.getImageData(0,0,1,1).data;return{color:`#${n(a)}${n(l)}${n(u)}`,alpha:Math.round(1e3*g/255)/1e3}}})();var xr,ok=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Oa=(t,e,n)=>(ok(t,e,"read from private field"),n?n.call(t):e.get(t));class UN{constructor(e={}){((a,l,u)=>{if(l.has(a))throw TypeError("Cannot add the same private member more than once");l instanceof WeakSet?l.add(a):l.set(a,u)})(this,xr,void 0);var{lights:n,color:i}=e;this.lights=n!=null?n:[],this.color=i!=null?i:"rgba(0,0,0,0.9)"}compute(e,n){var i,a,l;Oa(this,xr)&&Oa(this,xr).w===e&&Oa(this,xr).h===n||(i=this,a=xr,l=ml("dm",e,n),ok(i,a,"write to private field"),a.set(i,l));var{ctx:u}=Oa(this,xr);for(var g of(u.save(),u.clearRect(0,0,e,n),u.fillStyle=this.color,u.fillRect(0,0,e,n),u.globalCompositeOperation="destination-out",this.lights))g.mask(u);u.restore()}render(e){e.drawImage(Oa(this,xr).canvas,0,0)}getCanvas(){return Oa(this,xr).canvas}}xr=new WeakMap;var HN=Math.PI*(3-Math.sqrt(5)),od,Js,ak=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Uf=(t,e,n)=>(ak(t,e,"read from private field"),n?n.call(t):e.get(t)),L0=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},R0=(t,e,n,i)=>(ak(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n);class sk{constructor(e={}){L0(this,od,void 0),L0(this,Js,void 0);var{position:n,distance:i,diffuse:a}=e;this.position=n!=null?n:new Ve,this.distance=i!=null?i:100,this.diffuse=a!=null?a:.8}render(e){}mask(e){var n=this.getVisibleMaskCache(),{x:i,y:a}=this.position;e.drawImage(n.canvas,Math.round(i-n.w/2),Math.round(a-n.h/2))}bounds(){var{position:e,distance:n}=this,{x:i,y:a}=e;return{topLeft:new Ve(i-n,a-n),bottomRight:new Ve(i+n,a+n)}}center(){var{distance:e}=this;return new Ve(e,e)}forEachSample(e){e(this.position)}getVisibleMaskCache(){var e=Math.floor(1.4*this.distance),n=`${e}`;if(Uf(this,od)!==n){R0(this,od,n),R0(this,Js,ml(`vm${this.id}`,2*e,2*e));var{ctx:i,w:a,h:l}=Uf(this,Js),u=i.createRadialGradient(e,e,0,e,e,e);u.addColorStop(0,"rgba(0,0,0,1)"),u.addColorStop(1,"rgba(0,0,0,0)"),i.fillStyle=u,i.fillRect(0,0,a,l)}return Uf(this,Js)}getHashCache(){return[this.distance,this.diffuse].toString()}}od=new WeakMap,Js=new WeakMap;var Ig,ad,sd,lk=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Hf=(t,e,n)=>(lk(t,e,"read from private field"),n?n.call(t):e.get(t)),Gf=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},jf=(t,e,n,i)=>(lk(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n);class GN extends sk{constructor(e={}){super(e),Gf(this,Ig,0),Gf(this,ad,void 0),Gf(this,sd,void 0);var n,i,a,l,{id:u,color:g,radius:S,samples:v,angle:A,roughness:Y}=e;this.id=u!=null?u:0,this.color=g!=null?g:"rgba(250,220,150,0.8)",this.radius=S!=null?S:0,this.samples=v!=null?v:1,this.angle=A!=null?A:0,this.roughness=Y!=null?Y:0,this.id===0&&(this.id=++(n=this,i=Ig,{set _(X){jf(n,i,X,a)},get _(){return Hf(n,i,l)}})._)}getHashCache(){return[this.color,this.distance,this.diffuse,this.angle,this.roughness,this.samples,this.radius].toString()}center(){var{angle:e,roughness:n,distance:i}=this;return new Ve((1-Math.cos(e)*n)*i,(1+Math.sin(e)*n)*i)}bounds(){var{angle:e,roughness:n,distance:i,position:a}=this,{x:l,y:u}=new Ve(Math.cos(e),-Math.sin(e)).mul(n*i);return{topLeft:new Ve(a.x+l-i,a.y+u-i),bottomRight:new Ve(a.x+l+i,a.y+u+i)}}mask(e){var{angle:n,roughness:i,distance:a,position:l}=this,{canvas:u,w:g,h:S}=this.getVisibleMaskCache(),{x:v,y:A}=new Ve(Math.cos(n),-Math.sin(n)).mul(i*a);e.drawImage(u,Math.round(l.x+v-g/2),Math.round(l.y+A-S/2))}getGradientCache(e){var n=this.getHashCache();if(Hf(this,ad)===n)return Hf(this,sd);jf(this,ad,n);var{distance:i,id:a,radius:l,color:u}=this,g=Math.round(i),S=2*g,v=ml(`gc${a}`,S,S),{ctx:A,w:Y,h:X}=v,M=A.createRadialGradient(e.x,e.y,0,g,g,g);return M.addColorStop(Math.min(1,l/i),u),M.addColorStop(1,zN(u,0)),A.fillStyle=M,A.fillRect(0,0,Y,X),jf(this,sd,v),v}render(e){var{x:n,y:i}=this.position,a=this.center(),{canvas:l}=this.getGradientCache(a);e.drawImage(l,Math.round(n-a.x),Math.round(i-a.y))}forEachSample(e){for(var{samples:n,radius:i,position:a}=this,l=0,u=n;l<u;++l){var g=l*HN,S=Math.sqrt(l/n)*i,v=new Ve(Math.cos(g)*S,Math.sin(g)*S);e(a.add(v))}}}Ig=new WeakMap,ad=new WeakMap,sd=new WeakMap;var Sr,ld,hk=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},No=(t,e,n)=>(hk(t,e,"read from private field"),n?n.call(t):e.get(t)),Y0=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},O0=(t,e,n,i)=>(hk(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n);class jN{constructor(e={}){Y0(this,Sr,void 0),Y0(this,ld,void 0);var{light:n,objects:i}=e;this.light=n!=null?n:new sk,this.objects=i!=null?i:[]}createCache(e,n){O0(this,Sr,ml("lc",e,n)),O0(this,ld,ml("lcc",e,n))}compute(e,n){No(this,Sr)&&No(this,Sr).w===e&&No(this,Sr).h===n||this.createCache(e,n);var{ctx:i}=No(this,Sr);i.save(),i.clearRect(0,0,i.canvas.width,i.canvas.height),this.light.render(i),i.globalCompositeOperation="destination-out",this.cast(i),i.restore()}cast(e){var{ctx:n,w:i,h:a,canvas:l}=No(this,ld),{light:u}=this,g=u.samples;n.clearRect(0,0,i,a),n.fillStyle=`rgba(0,0,0,${Math.round(100/g)/100})`;var S=u.bounds(),{topLeft:v,bottomRight:A}=S,{objects:Y}=this;for(var X of(u.forEachSample(q=>{for(var j=0,et=Y.length;j<et;++j)if(Y[j].contains(q))return void n.fillRect(v.x,v.y,A.x-v.x,A.y-v.y);for(var V of Y)V.cast(n,q,S)}),Y)){var{diffuse:M}=X;M*=u.diffuse,n.fillStyle=`rgba(0,0,0,${1-M})`,n.beginPath(),X.path(n),n.fill()}e.drawImage(l,0,0)}render(e){e.drawImage(No(this,Sr).canvas,0,0)}getCanvas(){return No(this,Sr).canvas}}Sr=new WeakMap,ld=new WeakMap;class VN{constructor(e,n,i,a=!1){_(this,"animationIndex",0);_(this,"lastTime",0);this.id=e,this.index=n,this.animationInfo=i,this.isFlipped=a}animate(e){e-this.lastTime>this.animationInfo[this.animationIndex].duration&&(this.id=this.animationInfo[this.animationIndex].tileId,this.lastTime=e,this.animationIndex>=Object.keys(this.animationInfo).length-1?this.animationIndex=0:this.animationIndex++)}}class ZN{constructor(e){_(this,"background",document.querySelector("#background"));_(this,"foreground",document.querySelector("#foreground"));_(this,"overlay",document.querySelector("#overlay"));_(this,"textCanvas",document.querySelector("#text-canvas"));_(this,"entitiesCanvas",document.querySelector("#entities"));_(this,"cursor",document.querySelector("#cursor"));_(this,"entitiesContext");_(this,"backContext");_(this,"foreContext");_(this,"overlayContext");_(this,"textContext");_(this,"cursorContext");_(this,"canvases",[this.background,this.entitiesCanvas,this.foreground,this.overlay,this.textCanvas,this.cursor]);_(this,"allContexts");_(this,"contexts");_(this,"drawingContexts");_(this,"lightings",[]);_(this,"map");_(this,"camera");_(this,"tileSize",16);_(this,"actualTileSize",48);_(this,"fontSize",10);_(this,"screenWidth",0);_(this,"screenHeight",0);_(this,"canvasHeight",0);_(this,"canvasWidth",0);_(this,"time",Date.now());_(this,"fps",0);_(this,"frameCount",0);_(this,"renderedFrame",[0,0]);_(this,"animatedTiles",{});_(this,"stopRendering",!1);_(this,"animateTiles",!0);_(this,"debugging",!1);_(this,"drawNames",!0);_(this,"drawLevels",!0);_(this,"mobile",Fa());_(this,"tablet",b3());_(this,"forceRendering",!1);_(this,"tiles",{});_(this,"cells",{});_(this,"darkMask",new UN({lights:[],color:"rgba(0, 0, 0, 0.84)"}));_(this,"shadowSprite");_(this,"sparksSprite");_(this,"silverMedal");_(this,"goldMedal");this.game=e,this.map=e.map,this.camera=e.camera,this.tileSize=e.map.tileSize,this.actualTileSize=this.tileSize*this.camera.zoomFactor,this.entitiesContext=this.entitiesCanvas.getContext("2d"),this.backContext=this.background.getContext("2d"),this.foreContext=this.foreground.getContext("2d"),this.overlayContext=this.overlay.getContext("2d"),this.textContext=this.textCanvas.getContext("2d"),this.cursorContext=this.cursor.getContext("2d"),this.allContexts=[this.entitiesContext,this.backContext,this.foreContext,this.overlayContext,this.textContext,this.cursorContext],this.contexts=[this.entitiesContext,this.textContext,this.overlayContext],this.drawingContexts=[this.backContext,this.foreContext],this.darkMask.compute(this.canvasWidth,this.canvasHeight),this.loadSizes(),this.loadStaticSprites()}loadSizes(){this.actualTileSize=this.tileSize*this.camera.zoomFactor,this.screenWidth=this.camera.gridWidth*this.tileSize,this.screenHeight=this.camera.gridHeight*this.tileSize,this.canvasWidth=this.screenWidth*this.camera.zoomFactor,this.canvasHeight=this.screenHeight*this.camera.zoomFactor,this.darkMask.compute(this.canvasWidth,this.canvasHeight),this.forEachCanvas(e=>{e.width=this.canvasWidth,e.height=this.canvasHeight})}loadStaticSprites(){this.shadowSprite=this.game.sprites.get("shadow16"),this.shadowSprite.loaded||this.shadowSprite.load(),this.sparksSprite=this.game.sprites.get("sparks"),this.sparksSprite.loaded||this.sparksSprite.load(),this.silverMedal=this.game.sprites.get("silvermedal"),this.silverMedal.loaded||this.silverMedal.load(),this.goldMedal=this.game.sprites.get("goldmedal"),this.goldMedal.loaded||this.goldMedal.load()}resize(){this.cells={},this.mobile=Fa(),this.camera.update(),this.loadSizes(),this.updateAnimatedTiles(),this.clearScreen(this.cursorContext),this.camera.centreOn(this.game.player),this.forceRendering=!0}stop(){this.stopRendering=!0,this.forEachContext(e=>{e.fillStyle="rgba(18, 16, 13, 1)",e.fillRect(0,0,e.canvas.width,e.canvas.height)})}removeSmoothing(){this.forAllContexts(e=>{e.imageSmoothingQuality="low",e.imageSmoothingEnabled=!1})}render(){this.stopRendering||(this.clear(),this.save(),this.removeSmoothing(),this.draw(),this.drawDebugging(),this.drawOverlays(),this.drawHoveringCell(),this.drawSelectedCell(),this.drawEntities(),this.drawInfos(),this.drawCursor(),this.drawMinigameGUI(),this.restore())}draw(){this.hasRenderedFrame()||(this.clearDrawing(),this.saveDrawing(),this.updateDrawingView(),this.forEachVisibleTile((e,n)=>{let i=this.getFlipped(e);i.length>0&&(e=e.tileId);let a=this.map.isHighTile(e),l=a?this.foreContext:this.backContext;if(this.game.overlays.hasOverlay()&&(l=this.map.isLightTile(e)?this.overlayContext:l),n in this.animatedTiles&&this.animateTiles){if(this.animatedTiles[n].animate(this.game.time),i.length===0&&this.animatedTiles[n].isFlipped)return;this.drawTile(l,this.animatedTiles[n].id,this.animatedTiles[n].index,i)}(!this.map.isAnimatedTile(e)||!this.animateTiles)&&this.drawTile(l,e-1,n,i)}),this.saveFrame(),this.restoreDrawing())}drawDebugging(){this.debugging&&(this.drawFPS(),this.drawPathing(),!this.mobile&&(this.drawPosition(),this.drawCollisions()))}drawOverlays(){if(!this.game.overlays.hasOverlay())return;let e=this.game.overlays.get();e&&this.overlayContext.drawImage(e,0,0,this.canvasWidth,this.canvasHeight),this.overlayContext.globalCompositeOperation="lighter",this.forEachLighting(n=>{this.inRadius(n)&&this.drawLighting(n)}),this.overlayContext.globalCompositeOperation="source-over",this.darkMask.render(this.overlayContext)}drawHoveringCell(){if(this.mobile)return;let{input:e}=this.game,n=e.getCoords();if(this.isSelectedCell(n.x,n.y))return;let i=this.map.isColliding(n.x,n.y);this.drawCellHighlight(n.x,n.y,i?"rgba(230, 0, 0, 0.7)":e.targetColour)}drawSelectedCell(){if(!this.game.input.selectedCellVisible||this.game.input.keyMovement)return;let e=this.game.input.getTargetData();e&&(this.entitiesContext.save(),this.setCameraView(this.entitiesContext),this.entitiesContext.drawImage(e.sprite.image,e.x,e.y,e.width,e.height,e.dx,e.dy,e.dw,e.dh),this.entitiesContext.restore())}drawEntities(){this.game.player.dead||(this.setCameraView(this.entitiesContext),this.forEachVisibleEntity(e=>{!e.spriteLoaded||!e.sprite||!e.animation||!e.isVisible()||this.drawEntity(e)}))}drawInfos(){this.game.info.isEmpty()||this.game.info.forEachInfo(e=>{this.textContext.save(),this.setCameraView(this.textContext),this.textContext.globalAlpha=e.opacity,this.drawText(`${e.getText()}`,Math.floor(e.x+8),Math.floor(e.y),!0,e.fill,e.stroke,26),this.textContext.restore()})}drawCursor(){if(this.tablet||this.mobile||this.game.input.isMouseRendered())return;let{cursor:e,mouse:n}=this.game.input;!e||!n||(this.clearScreen(this.cursorContext),this.cursorContext.save(),e.loaded?this.cursorContext.drawImage(e.image,0,0,this.tileSize,this.tileSize,n.x,n.y,this.actualTileSize,this.actualTileSize):e.load(),this.cursorContext.restore(),this.game.input.saveMouse())}drawFPS(){this.calculateFPS(),this.drawText(`FPS: ${this.fps}`,10,61,!1,"white")}calculateFPS(){let e=Date.now();e-this.time>=1e3&&(this.fps=this.frameCount,this.frameCount=0,this.time=e),this.frameCount++}drawPosition(){let{player:e,input:n}=this.game;this.drawText(`x: ${e.gridX} y: ${e.gridY} tileIndex: ${this.map.coordToIndex(e.gridX,e.gridY)} movementSpeed: ${e.movementSpeed}`,10,81,!1,"white"),n.hovering&&n.entity&&(this.drawText(`x: ${n.entity.gridX} y: ${n.entity.gridY} instance: ${n.entity.instance}`,10,101,!1,"white"),n.entity.attackRange&&this.drawText(`att range: ${n.entity.attackRange}`,10,121,!1,"white"))}drawCollisions(){this.camera.forEachVisiblePosition((e,n)=>{this.map.isOutOfBounds(e,n)||this.map.grid[n][e]!==0&&this.drawCellHighlight(e,n,"rgba(50, 50, 255, 0.5)")})}drawPathing(){this.game.player.hasPath()&&y.each(this.game.player.path,e=>this.drawCellHighlight(e[0],e[1],"rgba(50, 255, 50, 0.5)"))}drawEntity(e){var g;let n=(g=e.animation)==null?void 0:g.frame,i=e.x*this.camera.zoomFactor,a=e.y*this.camera.zoomFactor,l=i+this.actualTileSize,u=a+e.sprite.height;this.entitiesContext.save(),e.angled&&!e.isProjectile()&&(e.angle*=Math.PI/180),e.fading&&(this.entitiesContext.globalAlpha=e.fadingAlpha),e.spriteFlipX?(this.entitiesContext.translate(l,a),this.entitiesContext.scale(-1,1)):e.spriteFlipY?(this.entitiesContext.translate(i,u),this.entitiesContext.scale(1,-1)):this.entitiesContext.translate(i,a),this.entitiesContext.scale(this.camera.zoomFactor,this.camera.zoomFactor),e.customScale&&this.entitiesContext.scale(e.customScale,e.customScale),e.angled&&this.entitiesContext.rotate(e.getAngle()),e.hasShadow()&&(this.entitiesContext.globalCompositeOperation="source-over",this.entitiesContext.drawImage(this.shadowSprite.image,0,0,this.shadowSprite.width,this.shadowSprite.height,0,e.shadowOffsetY,this.shadowSprite.width,this.shadowSprite.height)),this.entitiesContext.drawImage(e.sprite.image,n.x,n.y,e.sprite.width,e.sprite.height,e.sprite.offsetX,e.sprite.offsetY,e.sprite.width,e.sprite.height),this.drawEntityFore(e),this.entitiesContext.restore(),this.drawHealth(e),this.game.overlays.hasOverlay()||this.drawName(e)}drawEntityFore(e){if(e.isItem())return this.drawSparks();e instanceof Ji&&(e.isPlayer()&&this.drawWeapon(e),e.hasEffect()&&this.drawEffect(e))}drawWeapon(e){if(!e.hasWeapon()||e.dead||e.teleporting)return;let n=this.game.sprites.get(e.getWeapon().key);if(!n)return;n.loaded||n.load();let i=e.animation,a=n.animationData[i.name];if(!a)return;let{frame:l,row:u}=i,g=l.index<a.length?l.index:l.index%a.length,S=n.width*g,v=n.height*u,A=n.width,Y=n.height;this.entitiesContext.drawImage(n.image,S,v,A,Y,n.offsetX,n.offsetY,A,Y)}drawEffect(e){let n=this.game.sprites.get(e.getActiveEffect());if(!n)return;n.loaded||n.load();let i=e.getEffectAnimation(),{index:a}=i.frame,l=n.width*a,u=n.height*i.row;this.entitiesContext.drawImage(n.image,l,u,n.width,n.height,n.offsetX,n.offsetY,n.width,n.height),i.update(this.game.time)}drawSparks(){let{sparksAnimation:e}=this.game.entities.sprites,n=e.frame;this.entitiesContext.drawImage(this.sparksSprite.image,this.sparksSprite.width*n.index,this.sparksSprite.height*e.row,this.sparksSprite.width,this.sparksSprite.height,0,0,this.sparksSprite.width,this.sparksSprite.height)}drawMedal(e,n,i){let a=e==="goldmedal"?this.goldMedal:this.silverMedal;a&&this.textContext.drawImage(a.image,0,0,a.width,a.height,(n-2)*this.camera.zoomFactor,(i+1)*this.camera.zoomFactor,a.width,a.height)}drawHealth(e){if(!e.hitPoints||e.hitPoints<0||!e.healthBarVisible)return;let n=this.tileSize,i=e.x*this.camera.zoomFactor-n/2+8,a=(e.y-e.sprite.height/4)*this.camera.zoomFactor,l=Math.round(e.hitPoints/e.maxHitPoints*n*this.camera.zoomFactor),u=2*this.camera.zoomFactor;this.textContext.save(),this.setCameraView(this.textContext),this.textContext.strokeStyle="rbga(0, 0, 0, 1)",this.textContext.lineWidth=1,this.textContext.strokeRect(i,a,n*this.camera.zoomFactor,u),this.textContext.fillStyle="rgba(253, 0, 0, 1)",this.textContext.fillRect(i,a,l,u),this.textContext.restore()}drawName(e){if(e.hidden||!e.level||!e.drawNames()||!this.drawNames&&!this.drawLevels)return;let n=e.wanted?"red":"white";if(e.isAdmin()&&(n="rgba(186,20,20, 1)"),e.isModerator()&&(n="rgba(165, 154, 154, 1)"),e.instance===this.game.player.instance&&(n="rgba(252,218,92, 1)"),e.nameColour&&(n=e.nameColour),this.textContext.save(),this.setCameraView(this.textContext),this.textContext.font="11px AdvoCut",e.hasCounter)this.game.time-e.countdownTime>1e3&&(e.countdownTime=this.game.time,e.counter--),e.counter<=0&&(e.hasCounter=!1),this.drawText(e.counter.toString(),e.x+8,e.y-10,!0,n);else{let i=e.x+8,a=e.y-Math.floor(e.sprite.height/5);if(this.drawNames&&e instanceof Ji){let l=this.drawLevels&&!e.isNPC()?a-10:a-4;this.drawText(e.name,i,l,!0,n,"rbga(0, 0, 0, 1)"),e.hasMedal()&&this.drawMedal(e.getMedalKey(),i,l)}this.drawLevels&&(e.isMob()||e.isPlayer())&&this.drawText(`Level ${e.level}`,i,a,!0,n,"rbga(0, 0, 0, 1)"),e.isItem()&&e.count>1&&this.drawText(e.count.toString(),i,a,!0,n)}this.textContext.restore()}drawMinigameGUI(){if(this.game.minigame.exists())switch(this.game.minigame.status){case"lobby":{this.drawText(this.game.minigame.started?`There is a game in progress: ${this.game.minigame.countdown} seconds`:`Game starts in ${this.game.minigame.countdown} seconds`,this.textCanvas.width/6,30,!0,"white");return}case"ingame":{this.drawText(`Red: ${this.game.minigame.redTeamScore}`,this.textCanvas.width/6-20,30,!0,"red"),this.drawText(`Blue: ${this.game.minigame.blueTeamScore}`,this.textCanvas.width/6+20,30,!0,"blue"),this.drawText(`Time left: ${this.game.minigame.countdown} seconds`,this.textCanvas.width/6,50,!0,"white");return}}}drawLighting(e){if(e.relative){let n=(e.light.origX-this.camera.x/this.tileSize)*this.actualTileSize,i=(e.light.origY-this.camera.y/this.tileSize)*this.actualTileSize;e.light.position=new Ve(n,i),e.compute(this.canvasWidth,this.canvasHeight),this.darkMask.compute(this.canvasWidth,this.canvasHeight)}else e.computed||(e.compute(this.canvasWidth,this.canvasHeight),e.computed=!0);e.render(this.overlayContext)}drawTile(e,n,i,a=[]){if(n<0)return;let l=this.map.getTilesetFromId(n);if(l){if(!(n in this.tiles)){let u=l.width/this.tileSize,g=n-l.firstGID;this.tiles[n]={relativeTileId:g,setWidth:u,x:this.getX(g+1,u)*this.tileSize,y:Math.floor(g/u)*this.tileSize,width:this.tileSize,height:this.tileSize}}(!(i in this.cells)||a.length>0)&&(this.cells[i]={dx:this.getX(i+1,this.map.width)*this.actualTileSize,dy:Math.floor(i/this.map.width)*this.actualTileSize,width:this.actualTileSize,height:this.actualTileSize}),this.drawImage(e,l,this.tiles[n],this.cells[i],a)}}drawImage(e,n,i,a,l=[]){let u=0,g=0,S=l.length>0;if(S){({dx:u,dy:g}=a),e.save();let v=u;for(let A=0;A<l.length;A++)switch(l[A]){case 0:{u=-u-a.width,e.scale(-1,1);break}case 1:{g=-g-a.height,e.scale(1,-1);break}case 2:{e.rotate(Math.PI/2),e.translate(0,-a.height),u=g,g=-v,l[A+1]===0?l.push(0):l.push(1);break}}}e.drawImage(n,i.x,i.y,i.width,i.height,u||a.dx,g||a.dy,a.width,a.height),S&&e.restore()}drawText(e,n,i,a,l,u,g=this.fontSize){let S=3,v=this.textContext;v.save(),a&&(v.textAlign="center"),g+=this.camera.zoomFactor*2,v.strokeStyle=u||"rgba(55, 55, 55, 1)",v.lineWidth=S,v.font=`${g}px AdvoCut`,v.strokeText(e,n*this.camera.zoomFactor,i*this.camera.zoomFactor),v.fillStyle=l||"white",v.fillText(e,n*this.camera.zoomFactor,i*this.camera.zoomFactor),v.restore()}updateAnimatedTiles(){this.animateTiles&&this.forEachVisibleTile((e,n)=>{let i=this.isFlipped(e);i&&(e=e.tileId),this.map.isAnimatedTile(e)&&(n in this.animatedTiles||(this.animatedTiles[n]=new VN(e,n,this.map.getTileAnimation(e),i)))},2)}resetAnimatedTiles(){y.each(this.animatedTiles,e=>{e.animationIndex=0})}drawCellRect(e,n,i){this.entitiesContext.save(),this.setCameraView(this.entitiesContext),this.entitiesContext.lineWidth=2*this.camera.zoomFactor,this.entitiesContext.translate(e+4,n+2),this.entitiesContext.strokeStyle=i,this.entitiesContext.strokeRect(0,0,this.actualTileSize-8,this.actualTileSize-8),this.entitiesContext.restore()}drawCellHighlight(e,n,i){this.drawCellRect(e*this.actualTileSize,n*this.actualTileSize,i)}updateDarkMask(e="rgba(0, 0, 0, 0.5)"){this.darkMask.color=e,this.darkMask.compute(this.canvasWidth,this.canvasHeight)}addLight(e){let n=new GN(this.getLightData(e.x,e.y,e.distance,e.diffuse,e.colour)),i=new jN({light:n});n.origX=n.position.x,n.origY=n.position.y,n.diff=Math.round(n.distance/this.tileSize),!this.hasLighting(i)&&(i.relative=!0,this.lightings.push(i),this.darkMask.lights.push(n),this.drawLighting(i),this.darkMask.compute(this.canvasWidth,this.canvasHeight))}removeAllLights(){this.lightings=[],this.darkMask.lights=[],this.darkMask.compute(this.canvasWidth,this.canvasHeight)}removeNonRelativeLights(){y.each(this.lightings,(e,n)=>{e.light.relative||(this.lightings.splice(n,1),this.darkMask.lights.splice(n,1))}),this.darkMask.compute(this.canvasWidth,this.canvasHeight)}hasLighting(e){for(let{light:n}of this.lightings)if(e.light.origX===n.origX&&e.light.origY===n.origY&&e.light.distance===n.distance)return!0;return!1}clear(){this.forEachContext(e=>e.clearRect(0,0,e.canvas.width,e.canvas.height))}clearDrawing(){this.forEachDrawingContext(e=>e.clearRect(0,0,e.canvas.width,e.canvas.height))}restore(){this.forEachContext(e=>e.restore())}restoreDrawing(){this.forEachDrawingContext(e=>e.restore())}hasRenderedFrame(){return this.forceRendering||!this.isLowPowerMode()?!1:this.stopRendering?!0:this.renderedFrame[0]===this.camera.x&&this.renderedFrame[1]===this.camera.y}save(){this.forEachContext(e=>e.save())}saveDrawing(){this.forEachDrawingContext(e=>e.save())}saveFrame(){this.isLowPowerMode()&&(this.renderedFrame[0]=this.camera.x,this.renderedFrame[1]=this.camera.y,this.forceRendering=!1)}updateDrawingView(){this.forEachDrawingContext(e=>this.setCameraView(e))}setCameraView(e){!this.camera||this.stopRendering||e.translate(-this.camera.x*this.camera.zoomFactor,-this.camera.y*this.camera.zoomFactor)}clearScreen(e){e.clearRect(0,0,this.entitiesContext.canvas.width,this.entitiesContext.canvas.height)}setBrightness(e){e<0||e>100||this.forEachCanvas(n=>{n.style.background=`rgba(0,0,0,${.25-e/200})`})}getX(e,n){return e===0?0:e%n===0?n-1:e%n-1}isFlipped(e){return e.v||e.h||e.d}isSelectedCell(e,n){return this.game.input.selectedX===e&&this.game.input.selectedY===n}isLowPowerMode(){return!this.camera.isCentered()&&!this.animateTiles}inRadius(e){let n={x:e.light.origX,y:e.light.origY,diff:e.light.diff};return n.x>this.camera.gridX-n.diff&&n.x<this.camera.gridX+this.camera.gridWidth+n.diff&&n.y>this.camera.gridY-n.diff&&n.y<this.camera.gridY+this.camera.gridHeight+n.diff}getMiddle(){return{x:this.canvasWidth/2,y:this.canvasHeight/2}}getFlipped(e){let n=[];return this.isFlipped(e)&&(e.v&&n.push(1),e.d&&n.push(2),e.h&&n.push(0)),n}getLightData(e,n,i,a,l){return{position:new Ve(e,n),distance:i,diffuse:a,color:l,radius:0,samples:2,roughness:0,angle:0}}forAllContexts(e){y.each(this.allContexts,e)}forEachContext(e){y.each(this.contexts,e)}forEachDrawingContext(e){y.each(this.drawingContexts,e)}forEachCanvas(e){y.each(this.canvases,e)}forEachLighting(e){y.each(this.lightings,e)}forEachAnimatedTile(e){y.each(this.animatedTiles,e)}forEachVisibleIndex(e,n){this.camera.forEachVisiblePosition((i,a)=>{this.map.isOutOfBounds(i,a)||e(this.map.coordToIndex(i,a))},n)}forEachVisibleTile(e,n){var i;(i=this.map)!=null&&i.mapLoaded&&this.forEachVisibleIndex(a=>{let l=this.map.data[a];if(Array.isArray(l))for(let u of l)e(u,a);else this.map.data[a]&&e(this.map.data[a],a)},n)}forEachVisibleEntity(e){let{grids:n}=this.game.entities;this.camera.forEachVisiblePosition((i,a)=>{!this.map.isOutOfBounds(i,a)&&n.renderingGrid[a][i]&&y.each(n.renderingGrid[a][i],l=>e(l))})}}class KN{constructor(e){_(this,"tileSize");_(this,"sprites");this.game=e,this.tileSize=e.map.tileSize,this.sprites=e.sprites}update(){this.game.player.dead||(this.updateEntities(),this.updateKeyboard(),this.updateAnimations(),this.updateInfos(),this.updateBubbles(),this.updateSounds())}updateEntities(){this.game.entities.forEachEntity(e=>{var u;if(!e.spriteLoaded)return;if(this.updateFading(e),(u=e.animation)==null||u.update(this.game.time),e instanceof h2){let g=e.speed*e.getTimeDiff(),S=e.target.x-e.x,v=e.target.y-e.y,A=Math.sqrt(S*S+v*v),Y=g/A;e.updateAngle(),Y>1&&(Y=1),e.x+=S*Y,e.y+=v*Y,A<5&&e.impact(),e.lastUpdate=this.game.time;return}if(!(e instanceof Ji))return;if(e.movement.inProgress)return e.movement.step(this.game.time);if(!e.hasPath())return;let n=e.orientation===Xt.Left||e.orientation===Xt.Right,i=e.orientation===Xt.Up||e.orientation===Xt.Down,a,l;n&&(a=e.orientation===Xt.Left),i&&(l=e.orientation===Xt.Up),e.movement.start(this.game.time,n?e.x+(a?-1:1):e.y+(l?-1:1),n?e.x+(a?-this.tileSize:this.tileSize):e.y+(l?-this.tileSize:this.tileSize),e.movementSpeed,g=>{n&&(e.x=g),i&&(e.y=g),e.moved()},()=>{n&&(e.x=e.movement.endValue),i&&(e.y=e.movement.endValue),e.moved(),e.nextStep()})})}updateFading(e){if(!e.fading)return;let{time:n}=this.game,i=n-e.fadingTime;i>e.fadingDuration?(e.fading=!1,e.fadingAlpha=1):e.fadingAlpha=i/e.fadingDuration}updateKeyboard(){let{player:e,input:n}=this.game,i={x:e.gridX,y:e.gridY};e.moving||e.teleporting||e.frozen||!e.hasKeyboardMovement()||(e.moveUp?i.y--:e.moveDown?i.y++:e.moveRight?i.x++:e.moveLeft&&i.x--,n.keyMove(i))}updateAnimations(){let e=this.game.input.targetAnimation;if(e&&this.game.input.selectedCellVisible&&e.update(this.game.time),!this.sprites)return;let n=this.sprites.sparksAnimation;n==null||n.update(this.game.time)}updateInfos(){this.game.info.update(this.game.time)}updateBubbles(){var e,n;(e=this.game.bubble)==null||e.update(this.game.time),(n=this.game.pointer)==null||n.update()}updateSounds(){this.game.audio.updatePlayerListener()}}/**
 * A* (A-Star) algorithm for a path finder
 * @author  Andrea Giammarchi
 * @license Mit Style License
 */function JN(t,e,n,i){let a=t[0].length,l=t.length,u=a*l,g=Math.max,S={},v=[],A=[{x:e[0],y:e[1],f:0,g:0,v:e[0]+e[1]*a}],Y=1,X,M,q,j,et={x:n[0],y:n[1],v:n[0]+n[1]*a};switch(i){case"Diagonal":case"Euclidean":M=QN;case"DiagonalFree":{X=iB;break}case"EuclideanFree":{g=Math.sqrt,X=rB;break}default:{X=oB,M=eB;break}}M||(M=tB);do{if(Y>100)return[];let V=u,dt=0;for(let lt=0;lt<Y;++lt){let nt=A[lt].f;nt<V&&(V=nt,dt=lt)}if([q]=A.splice(dt,1),q.v===et.v){let lt=Y=0;do v[lt++]=[q.x,q.y];while(q=q.p);v.reverse()}else{--Y,j=nB(M,q.x,q.y,t,l,a);for(let lt=0,nt=j.length;lt<nt;++lt){let ut=j[lt];ut.p=q,ut.f=ut.g=0,ut.v=ut.x+ut.y*a,ut.v in S||(ut.f=(ut.g=q.g+X(ut,q,Math.abs,g))+X(ut,et,Math.abs,g),A[Y++]=ut,S[ut.v]=1)}}}while(Y);return v}let QN=(t,e,n,i,a,l,u,g,S,v,A,Y,X)=>(t&&(n&&!S[a][u]&&(Y[X++]={x:u,y:a}),i&&!S[a][g]&&(Y[X++]={x:g,y:a})),e&&(n&&!S[l][u]&&(Y[X++]={x:u,y:l}),i&&!S[l][g]&&(Y[X++]={x:g,y:l})),Y),tB=(t,e,n,i,a,l,u,g,S,v,A,Y,X)=>(t=a>-1,e=l<v,n=u<A,i=g>-1,n&&(t&&!S[a][u]&&(Y[X++]={x:u,y:a}),e&&!S[l][u]&&(Y[X++]={x:u,y:l})),i&&(t&&!S[a][g]&&(Y[X++]={x:g,y:a}),e&&!S[l][g]&&(Y[X++]={x:g,y:l})),Y),eB=(t,e,n,i,a,l,u,g,S,v,A,Y)=>Y;function nB(t,e,n,i,a,l){let u=n-1,g=n+1,S=e+1,v=e-1,A=u>-1&&!i[u][e],Y=g<a&&!i[g][e],X=S<l&&!i[n][S],M=v>-1&&!i[n][v],q=[],j=0;return A&&(q[j++]={x:e,y:u}),X&&(q[j++]={x:S,y:n}),Y&&(q[j++]={x:e,y:g}),M&&(q[j++]={x:v,y:n}),t(A,Y,X,M,u,g,S,v,i,a,l,q,j)}let iB=(t,e,n,i)=>i(n(t.x-e.x),n(t.y-e.y)),rB=(t,e,n,i)=>{let a=t.x-e.x,l=t.y-e.y;return i(a*a+l*l)},oB=(t,e,n)=>n(t.x-e.x)+n(t.y-e.y);class aB{constructor(){_(this,"mode","DEFAULT");_(this,"ignores",[])}find(e,n,i,a,l){return this.handleIgnore(e,!0),JN(e,[n,i],[a,l],this.mode)}handleIgnore(e,n){y.each(this.ignores,i=>{let a=i.hasPath()?i.nextGridX:i.gridX,l=i.hasPath()?i.nextGridY:i.gridY;a>=0&&l>=0&&(e[l][a]=n?0:1)})}addIgnore(e){e&&this.ignores.push(e)}clearIgnores(e){this.handleIgnore(e,!1),this.ignores=[]}}class sB{constructor(e){_(this,"storage");_(this,"map",new bM(this));_(this,"camera",new FN(this.map.width,this.map.height,this.map.tileSize));_(this,"player",new l2(""));_(this,"zoning",new fM);_(this,"overlays",new WN);_(this,"pathfinder",new aB);_(this,"info",new D$);_(this,"sprites",new uM);_(this,"minigame",new qN);_(this,"renderer");_(this,"input");_(this,"socket");_(this,"pointer");_(this,"updater");_(this,"audio");_(this,"entities");_(this,"bubble");_(this,"menu");_(this,"connection");_(this,"time",Date.now());_(this,"lastTime",Date.now());_(this,"started",!1);_(this,"ready",!1);_(this,"pvp",!1);this.app=e,this.storage=e.storage,this.renderer=new ZN(this),this.menu=new sM(this),this.input=new F$(this),this.socket=new BN(this),this.pointer=new lM(this),this.updater=new KN(this),this.audio=new k$(this),this.entities=new $$(this),this.bubble=new x$(this),this.connection=new ZD(this),e.sendStatus("Loading game"),this.map.onReady(()=>e.ready()),e.onLogin(this.socket.connect.bind(this.socket)),e.onResize(this.resize.bind(this)),e.onRespawn(this.respawn.bind(this)),this.player.onSync(this.handlePlayerSync.bind(this))}start(){this.started||(this.started=!0,this.tick())}tick(){this.time=Date.now(),this.renderer.render(),this.updater.update(),this.started&&requestAnimationFrame(()=>this.tick())}handleDisconnection(){this.app.isMenuHidden()&&location.reload()}handlePlayerSync(){this.menu.synchronize(),this.player.setSprite(this.sprites.get(this.player.getSpriteName()))}postLoad(){this.entities.addEntity(this.player),this.player.setSprite(this.sprites.get(this.player.getSpriteName())),this.player.idle(),this.storage&&this.player.setOrientation(this.storage.data.player.orientation),this.camera.centreOn(this.player),new gM(this,this.player),this.renderer.updateAnimatedTiles(),this.socket.send(gt.Ready,{regionsLoaded:this.map.regionsLoaded,userAgent:Vf}),this.storage.data.new&&(this.storage.data.new=!1,this.storage.save()),this.map.hasCachedDate()&&this.app.fadeMenu()}findPath(e,n,i,a=[]){let l=[];return this.map.isColliding(n,i)&&!this.map.isObject(n,i)||(a&&y.each(a,u=>this.pathfinder.addIgnore(u)),l=this.pathfinder.find(this.map.grid,e.gridX,e.gridY,n,i),a&&this.pathfinder.clearIgnores(this.map.grid)),l}respawn(){this.audio.playSound("revive"),this.app.body.classList.remove("death"),this.socket.send(gt.Respawn,[])}resize(){this.renderer.resize(),this.pointer.resize(),this.menu.resize()}getEntityAt(e,n){if(!this.entities)return;let i=this.entities.grids.renderingGrid[n][e],a=y.keys(i),l=a.indexOf(this.player.instance);return l!==-1&&a.splice(l,1),i[a[0]]}teleport(e,n,i){this.entities.unregisterPosition(e),e.setGridPosition(n,i),this.entities.registerPosition(e),e.frozen=!1,e.teleporting=!1,e.instance===this.player.instance&&(e.clearHealthBar(),this.player.moving=!1,this.player.disableAction=!1,this.camera.centreOn(this.player),this.renderer.updateAnimatedTiles())}}new sB(new C3);export{hB as __vite_legacy_guard};
//# sourceMappingURL=index-767571a6.js.map
